[2026-01-07 11:33:37.000000] INFO: API请求 {"method":"GET","path":"\/api\/v1\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-07 11:33:37.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/api\/v1\/status"}
[2026-01-07 11:33:55.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-07 11:36:11.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-07 11:36:22.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-07 12:46:39.000000] INFO: API请求 {"method":"GET","path":"","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 12:46:39.000000] INFO: 未匹配到路由 {"method":"GET","path":""}
[2026-01-07 12:51:59.000000] INFO: API请求 {"method":"GET","path":"","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 12:51:59.000000] INFO: 未匹配到路由 {"method":"GET","path":""}
[2026-01-07 12:52:12.000000] INFO: API请求 {"method":"GET","path":"","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-07 12:52:12.000000] INFO: 未匹配到路由 {"method":"GET","path":""}
[2026-01-07 12:52:13.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-07 12:52:13.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-07 12:56:11.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-07 12:56:11.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-07 12:56:30.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-07 12:56:30.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-07 12:56:32.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-07 12:56:32.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-07 12:56:56.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-07 12:56:56.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-07 12:57:03.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-07 12:57:03.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-07 13:01:01.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-07 13:01:01.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-07 13:01:01.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-07 13:04:06.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-07 13:04:06.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-07 13:25:32.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/register","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 13:29:07.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/register","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 13:29:09.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/register","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 13:29:32.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/register","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 13:32:45.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 13:33:03.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/register","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 13:38:04.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/register","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-07 13:39:55.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/register","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-07 13:39:55.000000] INFO: API操作 {"user_id":null,"action":"user_register"}
[2026-01-07 13:39:55.000000] INFO: 用户注册请求 {"username":"testuser","email":"test@example.com","password":"password123"}
[2026-01-07 13:39:55.000000] WARNING: 用户注册失败 {"username":"testuser","error":"数据库连接失败，请联系管理员"}
[2026-01-07 13:40:31.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/register","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-07 13:40:31.000000] INFO: API操作 {"user_id":null,"action":"user_register"}
[2026-01-07 13:40:31.000000] INFO: 用户注册请求 {"username":"testuser","email":"test@example.com","password":"password123"}
[2026-01-07 13:40:31.000000] WARNING: 用户注册失败 {"username":"testuser","error":"数据库连接失败，请联系管理员"}
[2026-01-07 13:41:00.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/register","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-07 13:41:00.000000] INFO: API操作 {"user_id":null,"action":"user_register"}
[2026-01-07 13:41:00.000000] INFO: 用户注册请求 {"username":"testuser","email":"test@example.com","password":"password123"}
[2026-01-07 13:41:00.000000] WARNING: 用户注册失败 {"username":"testuser","error":"数据库连接失败，请联系管理员"}
[2026-01-07 13:41:22.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/register","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-07 13:41:22.000000] INFO: API操作 {"user_id":null,"action":"user_register"}
[2026-01-07 13:41:22.000000] INFO: 用户注册请求 {"username":"testuser","email":"test@example.com","password":"password123"}
[2026-01-07 13:41:22.000000] WARNING: 用户注册失败 {"username":"testuser","error":"数据库连接失败，请联系管理员"}
[2026-01-07 13:41:54.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/register","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 13:41:54.000000] INFO: API操作 {"user_id":null,"action":"user_register"}
[2026-01-07 13:41:54.000000] INFO: 用户注册请求 {"username":"test","email":"test@d.com","password":"123456"}
[2026-01-07 13:41:54.000000] WARNING: 用户注册失败 {"username":"test","error":"数据库连接失败，请联系管理员"}
[2026-01-07 13:41:56.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/register","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 13:41:56.000000] INFO: API操作 {"user_id":null,"action":"user_register"}
[2026-01-07 13:41:56.000000] INFO: 用户注册请求 {"username":"test","email":"test@d.com","password":"123456"}
[2026-01-07 13:41:56.000000] WARNING: 用户注册失败 {"username":"test","error":"数据库连接失败，请联系管理员"}
[2026-01-07 13:41:58.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 13:42:16.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/register","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 13:42:16.000000] INFO: API操作 {"user_id":null,"action":"user_register"}
[2026-01-07 13:42:16.000000] INFO: 用户注册请求 {"username":"test","email":"test@t.com","password":"123456"}
[2026-01-07 13:42:16.000000] WARNING: 用户注册失败 {"username":"test","error":"数据库连接失败，请联系管理员"}
[2026-01-07 13:53:38.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 13:54:02.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/register","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 13:54:02.000000] INFO: API操作 {"user_id":null,"action":"user_register"}
[2026-01-07 13:54:02.000000] INFO: 用户注册请求 {"username":"test","email":"test@t.com","password":"111111"}
[2026-01-07 13:54:02.000000] WARNING: 用户注册失败 {"username":"test","error":"数据库连接失败，请联系管理员"}
[2026-01-07 14:45:56.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 14:46:08.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/register","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 14:46:38.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/register","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 14:47:09.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/register","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 14:51:24.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 14:51:49.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/register","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 14:51:49.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.4454021453857422}
[2026-01-07 14:51:59.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 14:52:32.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/register","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 14:52:32.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03325605392456055}
[2026-01-07 15:11:33.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 15:11:47.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/register","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 15:11:47.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.05427384376525879}
[2026-01-07 15:24:50.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 15:25:26.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 15:25:38.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/register","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 15:25:38.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.024157047271728516}
[2026-01-07 15:25:38.000000] INFO: API操作 {"user_id":null,"action":"user_register"}
[2026-01-07 15:25:39.000000] INFO: 用户注册请求 {"username":"test","email":"test@t.com","password":"111111"}
[2026-01-07 15:25:39.000000] INFO: 用户注册成功 {"username":"test"}
[2026-01-07 15:25:49.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/login","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 15:25:49.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.021886110305786133}
[2026-01-07 15:25:49.000000] INFO: API操作 {"user_id":null,"action":"user_login"}
[2026-01-07 15:25:49.000000] INFO: 用户登录请求 {"username":"test"}
[2026-01-07 15:25:49.000000] INFO: 用户登录成功 {"username":"test"}
[2026-01-07 15:25:50.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/login","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 15:25:50.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.04339885711669922}
[2026-01-07 15:25:50.000000] INFO: API操作 {"user_id":null,"action":"user_login"}
[2026-01-07 15:25:50.000000] INFO: 用户登录请求 {"username":"test"}
[2026-01-07 15:25:50.000000] INFO: 用户登录成功 {"username":"test"}
[2026-01-07 15:25:52.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 15:25:52.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.020607948303222656}
[2026-01-07 15:25:52.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-07 15:25:52.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-07 15:25:52.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-07 15:25:52.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 15:25:52.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.028096914291381836}
[2026-01-07 15:25:52.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-07 15:25:52.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-07 15:25:52.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-07 15:25:52.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 15:25:52.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 15:43:32.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-07 15:43:32.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03092479705810547}
[2026-01-07 15:43:32.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-07 15:43:32.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-07 15:43:32.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-07 15:44:33.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-07 16:04:47.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 16:04:47.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 16:04:47.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03192710876464844}
[2026-01-07 16:04:47.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-07 16:04:47.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-07 16:04:47.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-07 16:04:47.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 16:05:00.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 16:07:41.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-07 16:07:57.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/register","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-07 16:07:57.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.02925586700439453}
[2026-01-07 16:07:57.000000] INFO: API操作 {"user_id":null,"action":"user_register"}
[2026-01-07 16:07:57.000000] INFO: 用户注册请求 {"username":"testuser","email":"test@example.com","password":"password123"}
[2026-01-07 16:07:58.000000] INFO: 用户注册成功 {"username":"testuser"}
[2026-01-07 16:08:11.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/login","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-07 16:08:11.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.029270172119140625}
[2026-01-07 16:08:11.000000] INFO: API操作 {"user_id":null,"action":"user_login"}
[2026-01-07 16:08:11.000000] INFO: 用户登录请求 {"username":"testuser"}
[2026-01-07 16:08:11.000000] INFO: 用户登录成功 {"username":"testuser"}
[2026-01-07 16:22:31.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 16:22:31.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 16:22:31.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.031013011932373047}
[2026-01-07 16:22:31.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-07 16:22:31.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-07 16:22:31.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-07 16:22:31.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 16:24:30.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 16:24:30.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 16:24:30.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03135204315185547}
[2026-01-07 16:24:30.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-07 16:24:30.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-07 16:24:30.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-07 16:24:30.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 16:43:15.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 16:43:15.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 16:43:15.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03736591339111328}
[2026-01-07 16:43:15.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-07 16:43:15.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-07 16:43:15.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-07 16:43:15.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 16:43:29.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 16:43:29.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 16:43:30.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0276491641998291}
[2026-01-07 16:43:30.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-07 16:43:30.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-07 16:43:30.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-07 16:43:30.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 16:43:37.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-07 16:43:37.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03673815727233887}
[2026-01-07 16:43:37.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-07 16:43:37.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-07 16:43:37.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-07 16:46:40.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-07 16:50:19.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-07 16:50:19.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.022281885147094727}
[2026-01-07 16:50:19.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-07 16:50:19.000000] INFO: API密钥验证成功 {"username":"testuser","ip":"::1"}
[2026-01-07 16:50:19.000000] INFO: API操作 {"user_id":2,"action":"device_get_list"}
[2026-01-07 16:50:42.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-07 16:50:43.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.019768953323364258}
[2026-01-07 16:50:43.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-07 16:50:43.000000] INFO: API密钥验证成功 {"username":"testuser","ip":"::1"}
[2026-01-07 16:50:43.000000] INFO: API操作 {"user_id":2,"action":"firmware_get_versions"}
[2026-01-07 16:52:05.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-07 16:52:05.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.4563939571380615}
[2026-01-07 16:52:05.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-07 16:52:05.000000] INFO: API密钥验证成功 {"username":"testuser","ip":"::1"}
[2026-01-07 16:52:05.000000] INFO: API操作 {"user_id":2,"action":"firmware_get_versions"}
[2026-01-07 16:52:23.000000] INFO: API请求 {"method":"GET","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-07 16:52:23.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.04121112823486328}
[2026-01-07 16:52:23.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-07 16:52:23.000000] INFO: API密钥验证成功 {"username":"testuser","ip":"::1"}
[2026-01-07 16:52:23.000000] INFO: API操作 {"user_id":2,"action":"device_group_get_list"}
[2026-01-07 16:52:48.000000] INFO: API请求 {"method":"GET","path":"\/api\/tag","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-07 16:52:48.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03575587272644043}
[2026-01-07 16:52:48.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-07 16:52:48.000000] INFO: API密钥验证成功 {"username":"testuser","ip":"::1"}
[2026-01-07 16:52:48.000000] INFO: API操作 {"user_id":2,"action":"device_tag_get_list"}
[2026-01-07 16:53:11.000000] INFO: API请求 {"method":"GET","path":"\/api\/template","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-07 16:53:11.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03106093406677246}
[2026-01-07 16:53:11.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-07 16:53:11.000000] INFO: API密钥验证成功 {"username":"testuser","ip":"::1"}
[2026-01-07 16:53:11.000000] INFO: API操作 {"user_id":2,"action":"message_template_get_list"}
[2026-01-07 16:54:18.000000] INFO: API请求 {"method":"GET","path":"\/api\/template","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-07 16:54:18.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03772711753845215}
[2026-01-07 16:54:18.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-07 16:54:18.000000] INFO: API密钥验证成功 {"username":"testuser","ip":"::1"}
[2026-01-07 16:54:18.000000] INFO: API操作 {"user_id":2,"action":"message_template_get_list"}
[2026-01-07 16:54:37.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-07 16:54:37.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.05655407905578613}
[2026-01-07 16:54:37.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-07 16:54:37.000000] INFO: API密钥验证成功 {"username":"testuser","ip":"::1"}
[2026-01-07 16:54:37.000000] INFO: API操作 {"user_id":2,"action":"notification_get_list"}
[2026-01-07 16:54:59.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-07 16:54:59.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.037309885025024414}
[2026-01-07 16:54:59.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-07 16:54:59.000000] INFO: API密钥验证成功 {"username":"testuser","ip":"::1"}
[2026-01-07 16:54:59.000000] INFO: API操作 {"user_id":2,"action":"plugin_get_list"}
[2026-01-07 18:38:41.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-07 18:43:37.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-08 10:40:04.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-08 10:40:04.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/status","path":"\/api\/status","query":[],"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000","Connection":"Keep-Alive"},"body":""}}
[2026-01-08 10:41:15.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-08 10:41:15.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/status","path":"\/api\/status","query":[],"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000"},"body":""}}
[2026-01-08 10:41:37.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 10:41:37.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/status","path":"\/api\/status","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 10:41:37.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 10:41:37.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 10:41:37.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.045520782470703125}
[2026-01-08 10:41:37.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 10:41:37.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 10:41:37.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 10:41:37.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 10:41:37.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/status","path":"\/api\/status","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 11:04:09.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 11:04:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/status","path":"\/api\/status","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/?ide_webview_request_time=1767841449782","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 11:04:09.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 11:04:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/?ide_webview_request_time=1767841449782","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 11:04:09.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 11:04:31.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/login","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 11:04:31.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/user\/login","path":"\/api\/user\/login","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Content-Length":"39","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","Content-Type":"application\/json","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/?ide_webview_request_time=1767841449782","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":"{\"username\":\"test\",\"password\":\"111111\"}"}}
[2026-01-08 11:04:31.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03229999542236328}
[2026-01-08 11:04:31.000000] INFO: API操作 {"user_id":null,"action":"user_login"}
[2026-01-08 11:04:31.000000] INFO: 用户登录请求 {"username":"test"}
[2026-01-08 11:04:32.000000] INFO: 用户登录成功 {"username":"test"}
[2026-01-08 11:04:51.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 11:04:51.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/status","path":"\/api\/status","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 11:04:51.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 11:04:51.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 11:04:51.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03444409370422363}
[2026-01-08 11:04:51.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 11:04:51.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 11:04:51.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 11:04:51.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 11:04:51.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/status","path":"\/api\/status","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 11:05:17.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/login","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 11:05:17.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/user\/login","path":"\/api\/user\/login","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Content-Length":"39","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","Content-Type":"application\/json","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":"{\"username\":\"test\",\"password\":\"111111\"}"}}
[2026-01-08 11:05:17.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0339961051940918}
[2026-01-08 11:05:17.000000] INFO: API操作 {"user_id":null,"action":"user_login"}
[2026-01-08 11:05:17.000000] INFO: 用户登录请求 {"username":"test"}
[2026-01-08 11:05:17.000000] INFO: 用户登录成功 {"username":"test"}
[2026-01-08 11:08:28.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 11:08:28.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/status","path":"\/api\/status","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 11:08:29.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 11:08:29.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/status","path":"\/api\/status","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/?ide_webview_request_time=1767841709230","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 11:08:29.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 11:08:29.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/?ide_webview_request_time=1767841709230","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 11:08:29.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 11:08:37.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/login","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 11:08:37.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/user\/login","path":"\/api\/user\/login","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Content-Length":"39","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","Content-Type":"application\/json","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":"{\"username\":\"test\",\"password\":\"111111\"}"}}
[2026-01-08 11:08:38.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03356599807739258}
[2026-01-08 11:08:38.000000] INFO: API操作 {"user_id":null,"action":"user_login"}
[2026-01-08 11:08:38.000000] INFO: 用户登录请求 {"username":"test"}
[2026-01-08 11:08:38.000000] INFO: 用户登录成功 {"username":"test"}
[2026-01-08 11:08:39.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 11:08:39.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 11:08:39.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.030519962310791016}
[2026-01-08 11:08:39.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 11:08:39.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 11:08:39.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 11:08:39.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 11:08:39.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/status","path":"\/api\/status","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 12:47:36.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/login","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 12:47:36.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/user\/login","path":"\/api\/user\/login","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Content-Length":"39","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","Content-Type":"application\/json","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":"{\"username\":\"test\",\"password\":\"111111\"}"}}
[2026-01-08 12:47:36.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.031177997589111328}
[2026-01-08 12:47:36.000000] INFO: API操作 {"user_id":null,"action":"user_login"}
[2026-01-08 12:47:36.000000] INFO: 用户登录请求 {"username":"test"}
[2026-01-08 12:47:36.000000] INFO: 用户登录成功 {"username":"test"}
[2026-01-08 12:47:38.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 12:47:38.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 12:47:38.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.031172990798950195}
[2026-01-08 12:47:38.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 12:47:38.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 12:47:38.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 12:47:38.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 12:47:38.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/status","path":"\/api\/status","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 12:47:53.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 12:47:53.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/?ide_webview_request_time=1767847640294","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 12:47:53.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 12:48:00.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 12:48:00.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/login.html?ide_webview_request_time=1767847679326","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 12:48:00.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 12:48:27.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/login","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 12:48:27.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/user\/login","path":"\/api\/user\/login","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Content-Length":"39","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","Content-Type":"application\/json","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/login.html?ide_webview_request_time=1767847679326","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":"{\"username\":\"test\",\"password\":\"111111\"}"}}
[2026-01-08 12:48:27.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.028840065002441406}
[2026-01-08 12:48:27.000000] INFO: API操作 {"user_id":null,"action":"user_login"}
[2026-01-08 12:48:27.000000] INFO: 用户登录请求 {"username":"test"}
[2026-01-08 12:48:28.000000] INFO: 用户登录成功 {"username":"test"}
[2026-01-08 12:48:28.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 12:48:28.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 12:48:28.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03141593933105469}
[2026-01-08 12:48:28.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 12:48:28.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 12:48:28.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 12:48:29.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 12:48:29.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 12:48:29.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0393068790435791}
[2026-01-08 12:48:29.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 12:48:29.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 12:48:29.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-08 12:48:29.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-08 12:48:29.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 12:48:29.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 12:48:29.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/status","path":"\/api\/status","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 12:48:29.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 12:48:29.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 12:48:29.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03087902069091797}
[2026-01-08 12:48:29.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 12:48:29.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 12:48:29.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 12:48:29.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 12:48:29.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 12:48:29.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.02861618995666504}
[2026-01-08 12:48:29.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 12:48:29.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 12:48:29.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-08 12:48:29.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-08 12:48:29.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 12:48:29.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 12:48:29.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/firmware","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 12:48:29.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.030694961547851562}
[2026-01-08 12:48:29.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 12:48:29.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 12:48:29.000000] INFO: API操作 {"user_id":1,"action":"firmware_get_versions"}
[2026-01-08 12:48:29.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 12:48:29.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/notification","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 12:48:29.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.029489994049072266}
[2026-01-08 12:48:29.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 12:48:29.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 12:48:29.000000] INFO: API操作 {"user_id":1,"action":"notification_get_list"}
[2026-01-08 12:48:33.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 12:48:33.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/devices.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 12:48:33.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.027889013290405273}
[2026-01-08 12:48:33.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 12:48:33.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 12:48:33.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 12:48:33.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 12:48:33.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/devices.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 12:48:33.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.02840399742126465}
[2026-01-08 12:48:33.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 12:48:33.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 12:48:33.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 12:48:37.000000] INFO: API请求 {"method":"GET","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 12:48:37.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/group?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/group","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/devices.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 12:48:37.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.029363155364990234}
[2026-01-08 12:48:37.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 12:48:37.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 12:48:37.000000] INFO: API操作 {"user_id":1,"action":"device_group_get_list"}
[2026-01-08 12:49:19.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 12:49:19.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/devices.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 12:49:19.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 12:50:29.000000] INFO: API请求 {"method":"POST","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 12:50:29.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Content-Length":"152","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","Content-Type":"application\/json","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/devices.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":"{\"device_id\":\"222222\",\"device_name\":\"说我是晚上\",\"ip_address\":\"\",\"group_id\":\"\",\"firmware_version\":\"\",\"connection_status\":\"online\",\"description\":\"\"}"}}
[2026-01-08 12:50:29.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.02970409393310547}
[2026-01-08 12:50:29.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 12:50:29.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 12:50:29.000000] INFO: API操作 {"user_id":1,"action":"device_register"}
[2026-01-08 12:51:20.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 12:51:20.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/firmware","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/firmware.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 12:51:20.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.029397010803222656}
[2026-01-08 12:51:20.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 12:51:20.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 12:51:20.000000] INFO: API操作 {"user_id":1,"action":"firmware_get_versions"}
[2026-01-08 12:51:20.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 12:51:20.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/firmware","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/firmware.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 12:51:20.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03098011016845703}
[2026-01-08 12:51:20.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 12:51:20.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 12:51:20.000000] INFO: API操作 {"user_id":1,"action":"firmware_get_versions"}
[2026-01-08 12:51:20.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 12:51:20.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/firmware.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 12:51:20.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03108811378479004}
[2026-01-08 12:51:20.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 12:51:20.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 12:51:20.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 12:51:26.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 12:51:26.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 12:51:26.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 12:51:33.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 12:51:33.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/templates.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 12:51:33.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 12:51:45.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 12:51:45.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/templates.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 12:51:45.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 12:51:48.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 12:51:48.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 12:51:48.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.031816959381103516}
[2026-01-08 12:51:48.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 12:51:48.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 12:51:48.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-08 12:51:48.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-08 12:51:48.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 12:51:48.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 12:51:48.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 12:51:48.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03205394744873047}
[2026-01-08 12:51:48.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 12:51:48.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 12:51:48.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-08 12:51:48.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-08 12:51:48.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 12:52:01.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 12:52:01.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 12:52:01.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 13:07:18.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/first-admin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-08 13:07:18.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/user\/first-admin","path":"\/api\/user\/first-admin","query":[],"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Content-Type":"application\/json","Host":"localhost:8000","Content-Length":"69","Connection":"Keep-Alive"},"body":"{\"username\":\"iswhat\",\"email\":\"admin@example.com\",\"password\":\"821118\"}"}}
[2026-01-08 13:07:18.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03017902374267578}
[2026-01-08 13:07:18.000000] INFO: API操作 {"username":"iswhat","email":"admin@example.com","password":"821118","user_id":null,"action":"create_first_admin"}
[2026-01-08 13:07:18.000000] INFO: 创建第一个管理员用户请求 {"username":"iswhat","email":"admin@example.com","password":"821118"}
[2026-01-08 13:07:18.000000] WARNING: 第一个管理员用户创建失败 {"error":"已有用户存在，无法创建第一个管理员"}
[2026-01-08 13:59:54.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 13:59:54.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html?ide_webview_request_time=1767851994812","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 13:59:55.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.029455900192260742}
[2026-01-08 13:59:55.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 13:59:55.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 13:59:55.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-08 13:59:55.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-08 13:59:55.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 13:59:55.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 13:59:55.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html?ide_webview_request_time=1767851994812","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 13:59:55.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.029998064041137695}
[2026-01-08 13:59:55.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 13:59:55.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 13:59:55.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-08 13:59:55.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-08 13:59:55.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 13:59:58.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 13:59:58.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/devices.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 13:59:58.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03196883201599121}
[2026-01-08 13:59:58.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 13:59:58.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 13:59:58.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 13:59:58.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 13:59:58.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/devices.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 13:59:58.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.030822038650512695}
[2026-01-08 13:59:58.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 13:59:58.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 13:59:58.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 14:00:00.000000] INFO: API请求 {"method":"GET","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:00:00.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/group?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/group","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/devices.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:00:00.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0316929817199707}
[2026-01-08 14:00:00.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:00:00.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:00:00.000000] INFO: API操作 {"user_id":1,"action":"device_group_get_list"}
[2026-01-08 14:00:10.000000] INFO: API请求 {"method":"GET","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:00:10.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/group?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/group","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/devices.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:00:10.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03239297866821289}
[2026-01-08 14:00:10.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:00:10.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:00:10.000000] INFO: API操作 {"user_id":1,"action":"device_group_get_list"}
[2026-01-08 14:00:30.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:00:30.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/devices.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:00:30.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 14:00:33.000000] INFO: API请求 {"method":"GET","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:00:33.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/group?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/group","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:00:33.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.032012224197387695}
[2026-01-08 14:00:33.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:00:33.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:00:33.000000] INFO: API操作 {"user_id":1,"action":"device_group_get_list"}
[2026-01-08 14:00:33.000000] INFO: API请求 {"method":"GET","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:00:33.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/group?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/group","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:00:33.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03225398063659668}
[2026-01-08 14:00:33.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:00:33.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:00:33.000000] INFO: API操作 {"user_id":1,"action":"device_group_get_list"}
[2026-01-08 14:00:33.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:00:33.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:00:33.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.032076120376586914}
[2026-01-08 14:00:33.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:00:33.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:00:33.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 14:00:47.000000] INFO: API请求 {"method":"GET","path":"\/api\/tag","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:00:47.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/tag?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/tag","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/tags.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:00:47.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.030453920364379883}
[2026-01-08 14:00:47.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:00:47.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:00:47.000000] INFO: API操作 {"user_id":1,"action":"device_tag_get_list"}
[2026-01-08 14:00:47.000000] INFO: API请求 {"method":"GET","path":"\/api\/tag","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:00:47.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/tag?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/tag","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/tags.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:00:47.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03243684768676758}
[2026-01-08 14:00:47.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:00:47.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:00:47.000000] INFO: API操作 {"user_id":1,"action":"device_tag_get_list"}
[2026-01-08 14:00:47.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:00:47.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/tags.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:00:47.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.029726028442382812}
[2026-01-08 14:00:47.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:00:47.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:00:47.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 14:00:49.000000] INFO: API请求 {"method":"GET","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:00:49.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/group?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/group","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:00:49.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03236103057861328}
[2026-01-08 14:00:49.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:00:49.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:00:49.000000] INFO: API操作 {"user_id":1,"action":"device_group_get_list"}
[2026-01-08 14:00:49.000000] INFO: API请求 {"method":"GET","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:00:49.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/group?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/group","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:00:49.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03131413459777832}
[2026-01-08 14:00:49.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:00:49.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:00:49.000000] INFO: API操作 {"user_id":1,"action":"device_group_get_list"}
[2026-01-08 14:00:49.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:00:49.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:00:49.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03115701675415039}
[2026-01-08 14:00:49.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:00:49.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:00:49.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 14:00:50.000000] INFO: API请求 {"method":"GET","path":"\/api\/tag","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:00:50.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/tag?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/tag","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/tags.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:00:50.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0992281436920166}
[2026-01-08 14:00:50.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:00:50.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:00:50.000000] INFO: API操作 {"user_id":1,"action":"device_tag_get_list"}
[2026-01-08 14:00:50.000000] INFO: API请求 {"method":"GET","path":"\/api\/tag","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:00:50.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/tag?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/tag","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/tags.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:00:50.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.05148005485534668}
[2026-01-08 14:00:50.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:00:50.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:00:50.000000] INFO: API操作 {"user_id":1,"action":"device_tag_get_list"}
[2026-01-08 14:00:50.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:00:50.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/tags.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:00:50.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03989100456237793}
[2026-01-08 14:00:50.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:00:50.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:00:50.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 14:00:51.000000] INFO: API请求 {"method":"GET","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:00:51.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/group?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/group","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:00:51.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03037405014038086}
[2026-01-08 14:00:51.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:00:51.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:00:51.000000] INFO: API操作 {"user_id":1,"action":"device_group_get_list"}
[2026-01-08 14:00:51.000000] INFO: API请求 {"method":"GET","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:00:51.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/group?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/group","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:00:51.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.028989076614379883}
[2026-01-08 14:00:51.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:00:51.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:00:51.000000] INFO: API操作 {"user_id":1,"action":"device_group_get_list"}
[2026-01-08 14:00:51.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:00:51.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:00:51.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.031736135482788086}
[2026-01-08 14:00:51.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:00:51.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:00:51.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 14:01:01.000000] INFO: API请求 {"method":"POST","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:01:01.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/group?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/group","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Content-Length":"58","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","Content-Type":"application\/json","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":"{\"group_name\":\"测试\",\"description\":\"\",\"color\":\"primary\"}"}}
[2026-01-08 14:01:01.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.028345108032226562}
[2026-01-08 14:01:01.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:01:01.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:01:01.000000] INFO: API操作 {"user_id":1,"action":"device_group_create"}
[2026-01-08 14:01:03.000000] INFO: API请求 {"method":"POST","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:01:03.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/group?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/group","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Content-Length":"58","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","Content-Type":"application\/json","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":"{\"group_name\":\"测试\",\"description\":\"\",\"color\":\"primary\"}"}}
[2026-01-08 14:01:03.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.030454158782958984}
[2026-01-08 14:01:03.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:01:03.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:01:03.000000] INFO: API操作 {"user_id":1,"action":"device_group_create"}
[2026-01-08 14:01:05.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:01:05.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:01:05.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 14:01:11.000000] INFO: API请求 {"method":"POST","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:01:11.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/group?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/group","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Content-Length":"58","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","Content-Type":"application\/json","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":"{\"group_name\":\"测试\",\"description\":\"\",\"color\":\"primary\"}"}}
[2026-01-08 14:01:11.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.028956174850463867}
[2026-01-08 14:01:11.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:01:11.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:01:11.000000] INFO: API操作 {"user_id":1,"action":"device_group_create"}
[2026-01-08 14:02:11.000000] INFO: API请求 {"method":"GET","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:02:11.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/group?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/group","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html?ide_webview_request_time=1767852131797","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:02:12.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.031674861907958984}
[2026-01-08 14:02:12.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:02:12.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:02:12.000000] INFO: API操作 {"user_id":1,"action":"device_group_get_list"}
[2026-01-08 14:02:12.000000] INFO: API请求 {"method":"GET","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:02:12.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/group?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/group","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html?ide_webview_request_time=1767852131797","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:02:12.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03114008903503418}
[2026-01-08 14:02:12.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:02:12.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:02:12.000000] INFO: API操作 {"user_id":1,"action":"device_group_get_list"}
[2026-01-08 14:02:12.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:02:12.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html?ide_webview_request_time=1767852131797","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:02:12.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.12895703315734863}
[2026-01-08 14:02:12.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:02:12.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:02:12.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 14:02:18.000000] INFO: API请求 {"method":"GET","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:02:18.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/group?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/group","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html?ide_webview_request_time=1767852137064","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:02:18.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03106403350830078}
[2026-01-08 14:02:18.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:02:18.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:02:18.000000] INFO: API操作 {"user_id":1,"action":"device_group_get_list"}
[2026-01-08 14:02:18.000000] INFO: API请求 {"method":"GET","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:02:18.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/group?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/group","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html?ide_webview_request_time=1767852137064","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:02:18.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.030894994735717773}
[2026-01-08 14:02:18.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:02:18.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:02:18.000000] INFO: API操作 {"user_id":1,"action":"device_group_get_list"}
[2026-01-08 14:02:18.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:02:18.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html?ide_webview_request_time=1767852137064","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:02:18.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03298497200012207}
[2026-01-08 14:02:18.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:02:18.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:02:18.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 14:02:21.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:02:21.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/templates.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:02:21.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 14:02:41.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:02:41.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/profile.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:02:41.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 14:02:47.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:02:47.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/login.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:02:47.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 14:03:09.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/login","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:03:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/user\/login","path":"\/api\/user\/login","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Content-Length":"39","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","Content-Type":"application\/json","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/login.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":"{\"username\":\"test\",\"password\":\"111111\"}"}}
[2026-01-08 14:03:09.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.030890941619873047}
[2026-01-08 14:03:09.000000] INFO: API操作 {"user_id":null,"action":"user_login"}
[2026-01-08 14:03:09.000000] INFO: 用户登录请求 {"username":"test"}
[2026-01-08 14:03:09.000000] INFO: 用户登录成功 {"username":"test"}
[2026-01-08 14:03:09.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:03:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:03:09.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.030181169509887695}
[2026-01-08 14:03:09.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:03:09.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:03:09.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 14:03:09.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:03:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:03:09.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.038897037506103516}
[2026-01-08 14:03:09.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:03:09.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:03:09.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-08 14:03:09.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-08 14:03:09.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 14:03:09.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:03:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/status","path":"\/api\/status","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:03:09.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:03:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:03:09.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03144502639770508}
[2026-01-08 14:03:09.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:03:09.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:03:09.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 14:03:09.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:03:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:03:10.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03080892562866211}
[2026-01-08 14:03:10.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:03:10.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:03:10.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-08 14:03:10.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-08 14:03:10.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 14:03:10.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:03:10.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/firmware","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:03:10.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.033128976821899414}
[2026-01-08 14:03:10.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:03:10.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:03:10.000000] INFO: API操作 {"user_id":1,"action":"firmware_get_versions"}
[2026-01-08 14:03:10.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:03:10.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/notification","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:03:10.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03180694580078125}
[2026-01-08 14:03:10.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:03:10.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:03:10.000000] INFO: API操作 {"user_id":1,"action":"notification_get_list"}
[2026-01-08 14:03:17.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:03:17.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:03:17.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 14:03:22.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:03:22.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/devices.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:03:22.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03857302665710449}
[2026-01-08 14:03:22.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:03:22.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:03:22.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 14:03:22.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:03:22.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/devices.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:03:22.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.039627790451049805}
[2026-01-08 14:03:22.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:03:22.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:03:22.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 14:03:23.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:03:23.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:03:23.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.029926061630249023}
[2026-01-08 14:03:23.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:03:23.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:03:23.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-08 14:03:23.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-08 14:03:23.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 14:03:23.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:03:23.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:03:23.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.02970600128173828}
[2026-01-08 14:03:23.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:03:23.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:03:23.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-08 14:03:23.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-08 14:03:23.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 14:03:24.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:03:24.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/templates.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:03:24.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 14:03:47.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:03:47.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:03:47.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 14:03:59.000000] INFO: API请求 {"method":"GET","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:03:59.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/group?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/group","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:03:59.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03123307228088379}
[2026-01-08 14:03:59.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:03:59.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:03:59.000000] INFO: API操作 {"user_id":1,"action":"device_group_get_list"}
[2026-01-08 14:03:59.000000] INFO: API请求 {"method":"GET","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:03:59.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/group?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/group","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:03:59.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.032711029052734375}
[2026-01-08 14:03:59.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:03:59.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:03:59.000000] INFO: API操作 {"user_id":1,"action":"device_group_get_list"}
[2026-01-08 14:03:59.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:03:59.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:03:59.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.030548095703125}
[2026-01-08 14:03:59.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:03:59.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:03:59.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 14:04:22.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/login","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 14:04:22.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/user\/login","path":"\/api\/user\/login","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Content-Length":"39","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","Content-Type":"application\/json","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/login.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":"{\"username\":\"test\",\"password\":\"111111\"}"}}
[2026-01-08 14:04:22.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.033937931060791016}
[2026-01-08 14:04:22.000000] INFO: API操作 {"user_id":null,"action":"user_login"}
[2026-01-08 14:04:22.000000] INFO: 用户登录请求 {"username":"test"}
[2026-01-08 14:04:23.000000] INFO: 用户登录成功 {"username":"test"}
[2026-01-08 14:04:25.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 14:04:25.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 14:04:25.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03473305702209473}
[2026-01-08 14:04:25.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:04:25.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:04:25.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 14:04:25.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 14:04:25.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 14:04:25.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03369903564453125}
[2026-01-08 14:04:25.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:04:25.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:04:25.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-08 14:04:25.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-08 14:04:25.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 14:04:25.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 14:04:25.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/status","path":"\/api\/status","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 14:04:25.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 14:04:25.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 14:04:25.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.034223079681396484}
[2026-01-08 14:04:25.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:04:25.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:04:25.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 14:04:25.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 14:04:25.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 14:04:25.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03248906135559082}
[2026-01-08 14:04:25.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:04:25.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:04:25.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-08 14:04:25.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-08 14:04:25.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 14:04:25.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 14:04:25.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/firmware","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 14:04:25.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.043890953063964844}
[2026-01-08 14:04:25.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:04:25.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:04:25.000000] INFO: API操作 {"user_id":1,"action":"firmware_get_versions"}
[2026-01-08 14:04:25.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 14:04:25.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/notification","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 14:04:25.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.07810306549072266}
[2026-01-08 14:04:25.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:04:25.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 14:04:25.000000] INFO: API操作 {"user_id":1,"action":"notification_get_list"}
[2026-01-08 14:04:32.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:04:32.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:04:32.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 14:04:49.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/login","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 14:04:49.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/user\/login","path":"\/api\/user\/login","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Content-Length":"41","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","Content-Type":"application\/json","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/login.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":"{\"username\":\"iswhat\",\"password\":\"821118\"}"}}
[2026-01-08 14:04:49.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.031096935272216797}
[2026-01-08 14:04:49.000000] INFO: API操作 {"user_id":null,"action":"user_login"}
[2026-01-08 14:04:49.000000] INFO: 用户登录请求 {"username":"iswhat"}
[2026-01-08 14:04:49.000000] WARNING: 用户登录失败 {"username":"iswhat","error":"用户名或密码错误"}
[2026-01-08 14:05:05.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/login","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 14:05:05.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/user\/login","path":"\/api\/user\/login","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Content-Length":"41","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","Content-Type":"application\/json","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/login.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":"{\"username\":\"iswhat\",\"password\":\"821118\"}"}}
[2026-01-08 14:05:05.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.02878713607788086}
[2026-01-08 14:05:05.000000] INFO: API操作 {"user_id":null,"action":"user_login"}
[2026-01-08 14:05:05.000000] INFO: 用户登录请求 {"username":"iswhat"}
[2026-01-08 14:05:05.000000] WARNING: 用户登录失败 {"username":"iswhat","error":"用户名或密码错误"}
[2026-01-08 14:05:47.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:05:47.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/login.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:05:47.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 14:05:56.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/login","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:05:56.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/user\/login","path":"\/api\/user\/login","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Content-Length":"41","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","Content-Type":"application\/json","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/login.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":"{\"username\":\"iswhat\",\"password\":\"821118\"}"}}
[2026-01-08 14:05:56.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.029356002807617188}
[2026-01-08 14:05:56.000000] INFO: API操作 {"user_id":null,"action":"user_login"}
[2026-01-08 14:05:56.000000] INFO: 用户登录请求 {"username":"iswhat"}
[2026-01-08 14:05:56.000000] WARNING: 用户登录失败 {"username":"iswhat","error":"用户名或密码错误"}
[2026-01-08 14:06:23.000000] INFO: API请求 {"method":"GET","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:06:23.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/group?api_key=null","path":"\/api\/group","query":{"api_key":"null"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:06:23.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03129696846008301}
[2026-01-08 14:06:23.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:06:23.000000] WARNING: API密钥验证失败 {"api_key":"null...","ip":"::1"}
[2026-01-08 14:06:23.000000] INFO: API请求 {"method":"GET","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:06:23.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/group?api_key=null","path":"\/api\/group","query":{"api_key":"null"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:06:23.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.029790878295898438}
[2026-01-08 14:06:23.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:06:23.000000] WARNING: API密钥验证失败 {"api_key":"null...","ip":"::1"}
[2026-01-08 14:06:24.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:06:24.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/login.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:06:24.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 14:10:27.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/first-admin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-08 14:10:27.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/user\/first-admin","path":"\/api\/user\/first-admin","query":[],"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Content-Type":"application\/json","Host":"localhost:8000","Content-Length":"69","Connection":"Keep-Alive"},"body":"{\"username\":\"iswhat\",\"email\":\"admin@example.com\",\"password\":\"821118\"}"}}
[2026-01-08 14:10:27.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.04868912696838379}
[2026-01-08 14:10:27.000000] INFO: API操作 {"username":"iswhat","email":"admin@example.com","password":"821118","user_id":null,"action":"create_first_admin"}
[2026-01-08 14:10:27.000000] INFO: 创建第一个管理员用户请求 {"username":"iswhat","email":"admin@example.com","password":"821118"}
[2026-01-08 14:10:27.000000] WARNING: 第一个管理员用户创建失败 {"error":"已有用户存在，无法创建第一个管理员"}
[2026-01-08 14:25:27.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/login","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-08 14:25:27.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/user\/login","path":"\/api\/user\/login","query":[],"ip":"::1","headers":{"Content-Type":"application\/json","User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000","Content-Length":"44","Expect":"100-continue","Connection":"Keep-Alive"},"body":"{\"username\": \"iswhat\", \"password\": \"821118\"}"}}
[2026-01-08 14:25:27.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03043198585510254}
[2026-01-08 14:25:27.000000] INFO: API操作 {"user_id":null,"action":"user_login"}
[2026-01-08 14:25:27.000000] INFO: 用户登录请求 {"username":"iswhat"}
[2026-01-08 14:25:28.000000] INFO: 用户登录成功 {"username":"iswhat"}
[2026-01-08 14:33:33.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/login","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:33:33.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/user\/login","path":"\/api\/user\/login","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Content-Length":"41","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","Content-Type":"application\/json","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/login.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":"{\"username\":\"iswhat\",\"password\":\"821118\"}"}}
[2026-01-08 14:33:33.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03247189521789551}
[2026-01-08 14:33:33.000000] INFO: API操作 {"user_id":null,"action":"user_login"}
[2026-01-08 14:33:33.000000] INFO: 用户登录请求 {"username":"iswhat"}
[2026-01-08 14:33:33.000000] INFO: 用户登录成功 {"username":"iswhat"}
[2026-01-08 14:33:34.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:33:34.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/device","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:33:34.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03682088851928711}
[2026-01-08 14:33:34.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:33:34.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 14:33:34.000000] INFO: API操作 {"user_id":3,"action":"device_get_list"}
[2026-01-08 14:33:34.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:33:34.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/devices","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:33:34.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03641510009765625}
[2026-01-08 14:33:34.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:33:34.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 14:33:34.000000] INFO: API操作 {"user_id":3,"action":"user_get_devices"}
[2026-01-08 14:33:34.000000] INFO: 获取用户设备列表请求 {"user_id":3}
[2026-01-08 14:33:34.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 14:33:34.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:33:34.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/status","path":"\/api\/status","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:33:34.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:33:34.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/device","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:33:34.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.032790184020996094}
[2026-01-08 14:33:34.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:33:34.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 14:33:34.000000] INFO: API操作 {"user_id":3,"action":"device_get_list"}
[2026-01-08 14:33:34.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:33:34.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/devices","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:33:34.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.032900094985961914}
[2026-01-08 14:33:34.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:33:34.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 14:33:34.000000] INFO: API操作 {"user_id":3,"action":"user_get_devices"}
[2026-01-08 14:33:34.000000] INFO: 获取用户设备列表请求 {"user_id":3}
[2026-01-08 14:33:34.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 14:33:34.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:33:34.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/firmware","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:33:34.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03098011016845703}
[2026-01-08 14:33:34.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:33:34.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 14:33:34.000000] INFO: API操作 {"user_id":3,"action":"firmware_get_versions"}
[2026-01-08 14:33:34.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:33:34.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/notification","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:33:34.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.030730009078979492}
[2026-01-08 14:33:34.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:33:34.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 14:33:34.000000] INFO: API操作 {"user_id":3,"action":"notification_get_list"}
[2026-01-08 14:33:38.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:33:38.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/device","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/devices.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:33:38.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.028458118438720703}
[2026-01-08 14:33:38.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:33:38.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 14:33:38.000000] INFO: API操作 {"user_id":3,"action":"device_get_list"}
[2026-01-08 14:33:38.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:33:38.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/device","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/devices.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:33:38.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0314640998840332}
[2026-01-08 14:33:38.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:33:38.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 14:33:38.000000] INFO: API操作 {"user_id":3,"action":"device_get_list"}
[2026-01-08 14:33:41.000000] INFO: API请求 {"method":"GET","path":"\/api\/message","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:33:41.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/message?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/message","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:33:41.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/api\/message"}
[2026-01-08 14:33:41.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:33:41.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/devices","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:33:41.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.031764984130859375}
[2026-01-08 14:33:41.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:33:41.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 14:33:41.000000] INFO: API操作 {"user_id":3,"action":"user_get_devices"}
[2026-01-08 14:33:41.000000] INFO: 获取用户设备列表请求 {"user_id":3}
[2026-01-08 14:33:41.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 14:33:44.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:33:44.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/firmware","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/firmware.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:33:44.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.033454179763793945}
[2026-01-08 14:33:44.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:33:44.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 14:33:44.000000] INFO: API操作 {"user_id":3,"action":"firmware_get_versions"}
[2026-01-08 14:33:44.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:33:44.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/firmware","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/firmware.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:33:44.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03612685203552246}
[2026-01-08 14:33:44.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:33:44.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 14:33:44.000000] INFO: API操作 {"user_id":3,"action":"firmware_get_versions"}
[2026-01-08 14:33:44.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:33:44.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/device","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/firmware.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:33:44.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03197789192199707}
[2026-01-08 14:33:44.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:33:44.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 14:33:44.000000] INFO: API操作 {"user_id":3,"action":"device_get_list"}
[2026-01-08 14:33:48.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:33:48.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/templates.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:33:48.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 14:33:52.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:33:52.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:33:52.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 14:34:02.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:34:02.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:34:02.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 14:34:06.000000] INFO: API请求 {"method":"GET","path":"\/api\/message","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:34:06.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/message?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/message","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:34:06.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/api\/message"}
[2026-01-08 14:34:06.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:34:06.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/devices","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:34:06.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03693222999572754}
[2026-01-08 14:34:06.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:34:06.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 14:34:06.000000] INFO: API操作 {"user_id":3,"action":"user_get_devices"}
[2026-01-08 14:34:06.000000] INFO: 获取用户设备列表请求 {"user_id":3}
[2026-01-08 14:34:06.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 14:34:09.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:34:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/device","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/devices.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:34:09.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03074812889099121}
[2026-01-08 14:34:09.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:34:09.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 14:34:09.000000] INFO: API操作 {"user_id":3,"action":"device_get_list"}
[2026-01-08 14:34:09.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:34:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/device","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/devices.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:34:10.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03823494911193848}
[2026-01-08 14:34:10.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:34:10.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 14:34:10.000000] INFO: API操作 {"user_id":3,"action":"device_get_list"}
[2026-01-08 14:34:16.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:34:16.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/devices.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:34:16.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 14:34:26.000000] INFO: API请求 {"method":"GET","path":"\/api\/message","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:34:26.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/message?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/message","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:34:26.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/api\/message"}
[2026-01-08 14:34:26.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:34:26.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/devices","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:34:26.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03123188018798828}
[2026-01-08 14:34:26.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:34:26.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 14:34:26.000000] INFO: API操作 {"user_id":3,"action":"user_get_devices"}
[2026-01-08 14:34:26.000000] INFO: 获取用户设备列表请求 {"user_id":3}
[2026-01-08 14:34:26.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 14:34:45.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:34:45.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:34:45.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 14:37:13.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:37:13.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/users.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:37:13.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 14:38:20.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:38:20.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:38:20.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 14:41:34.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:41:34.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/device","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:41:34.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.04613995552062988}
[2026-01-08 14:41:34.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:41:34.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 14:41:34.000000] INFO: API操作 {"user_id":3,"action":"device_get_list"}
[2026-01-08 14:41:34.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:41:34.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/devices","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:41:34.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.036682844161987305}
[2026-01-08 14:41:34.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:41:34.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 14:41:34.000000] INFO: API操作 {"user_id":3,"action":"user_get_devices"}
[2026-01-08 14:41:34.000000] INFO: 获取用户设备列表请求 {"user_id":3}
[2026-01-08 14:41:34.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 14:41:34.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:41:34.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/status","path":"\/api\/status","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:41:34.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:41:34.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/device","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:41:34.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03303980827331543}
[2026-01-08 14:41:34.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:41:34.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 14:41:34.000000] INFO: API操作 {"user_id":3,"action":"device_get_list"}
[2026-01-08 14:41:34.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:41:34.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/devices","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:41:35.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.030851125717163086}
[2026-01-08 14:41:35.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:41:35.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 14:41:35.000000] INFO: API操作 {"user_id":3,"action":"user_get_devices"}
[2026-01-08 14:41:35.000000] INFO: 获取用户设备列表请求 {"user_id":3}
[2026-01-08 14:41:35.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 14:41:35.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:41:35.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/firmware","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:41:35.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03100299835205078}
[2026-01-08 14:41:35.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:41:35.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 14:41:35.000000] INFO: API操作 {"user_id":3,"action":"firmware_get_versions"}
[2026-01-08 14:41:35.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:41:35.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/notification","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:41:35.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03229403495788574}
[2026-01-08 14:41:35.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 14:41:35.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 14:41:35.000000] INFO: API操作 {"user_id":3,"action":"notification_get_list"}
[2026-01-08 14:42:55.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 14:42:55.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 14:42:55.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 15:21:04.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 15:21:04.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/device","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html?ide_webview_request_time=1767856864105","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 15:21:04.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 15:21:04.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/devices","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html?ide_webview_request_time=1767856864105","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 15:21:04.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 15:21:04.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/status","path":"\/api\/status","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html?ide_webview_request_time=1767856864105","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 15:21:04.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 15:21:04.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/device","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html?ide_webview_request_time=1767856864105","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 15:21:04.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 15:21:04.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/devices","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html?ide_webview_request_time=1767856864105","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 15:21:04.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 15:21:04.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/firmware","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html?ide_webview_request_time=1767856864105","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 15:21:04.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 15:21:04.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/notification","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html?ide_webview_request_time=1767856864105","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 15:21:09.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 15:21:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/dashboard.html?ide_webview_request_time=1767856864105","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 15:21:09.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 15:21:10.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 15:21:10.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/plugin","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 15:21:10.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 15:21:10.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/plugin\/stats","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 15:21:10.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-08 15:21:10.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 15:21:10.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 15:21:10.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 15:21:46.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 15:21:46.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/notification","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 15:21:46.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 15:21:46.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification\/stats?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/notification\/stats","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 15:21:46.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 15:21:46.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 15:21:46.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 15:21:53.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 15:21:53.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/firmware","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/firmware.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 15:21:53.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 15:21:53.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/firmware.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 15:21:53.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 15:21:53.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 15:21:53.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/firmware","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/firmware.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 15:21:57.000000] INFO: API请求 {"method":"GET","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 15:21:57.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/group?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/group","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 15:21:57.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 15:21:57.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 15:21:57.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 15:21:57.000000] INFO: API请求 {"method":"GET","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 15:21:57.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/group?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/group","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 15:22:07.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 15:22:07.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/firmware","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/firmware.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 15:22:07.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 15:22:07.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/firmware.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 15:22:07.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 15:22:07.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 15:22:07.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/firmware","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/firmware.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 15:22:09.000000] INFO: API请求 {"method":"GET","path":"\/api\/message","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 15:22:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/message?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/message","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 15:22:09.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/api\/message"}
[2026-01-08 15:22:09.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 15:22:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/devices","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 15:22:09.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-08 15:22:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-08 15:22:09.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-08 15:22:32.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/login","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:22:32.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/user\/login","path":"\/api\/user\/login","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Content-Length":"39","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","Content-Type":"application\/json","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/login.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":"{\"username\":\"test\",\"password\":\"111111\"}"}}
[2026-01-08 15:22:39.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/login","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:22:39.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/user\/login","path":"\/api\/user\/login","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Content-Length":"39","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","Content-Type":"application\/json","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/login.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":"{\"username\":\"test\",\"password\":\"111111\"}"}}
[2026-01-08 15:22:40.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/login","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:22:40.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/user\/login","path":"\/api\/user\/login","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Content-Length":"39","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","Content-Type":"application\/json","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/login.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":"{\"username\":\"test\",\"password\":\"111111\"}"}}
[2026-01-08 15:22:41.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/login","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:22:41.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/user\/login","path":"\/api\/user\/login","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Content-Length":"39","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","Content-Type":"application\/json","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/login.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":"{\"username\":\"test\",\"password\":\"111111\"}"}}
[2026-01-08 15:41:00.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/login","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:41:00.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/user\/login","path":"\/api\/user\/login","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Content-Length":"39","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","Content-Type":"application\/json","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/login.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":"{\"username\":\"test\",\"password\":\"111111\"}"}}
[2026-01-08 15:41:00.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.032041072845458984}
[2026-01-08 15:41:14.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/login","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:41:14.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/user\/login","path":"\/api\/user\/login","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Content-Length":"39","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","Content-Type":"application\/json","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/login.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":"{\"username\":\"test\",\"password\":\"111111\"}"}}
[2026-01-08 15:41:14.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.02872300148010254}
[2026-01-08 15:43:44.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/login","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:43:44.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/user\/login","path":"\/api\/user\/login","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Content-Length":"39","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","Content-Type":"application\/json","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/login.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":"{\"username\":\"test\",\"password\":\"111111\"}"}}
[2026-01-08 15:43:44.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03113412857055664}
[2026-01-08 15:43:44.000000] INFO: API操作 {"user_id":null,"action":"user_login"}
[2026-01-08 15:43:44.000000] INFO: 用户登录请求 {"username":"test"}
[2026-01-08 15:43:44.000000] INFO: 用户登录成功 {"username":"test"}
[2026-01-08 15:43:45.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:43:45.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:43:45.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03100895881652832}
[2026-01-08 15:43:45.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:43:45.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 15:43:45.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 15:43:45.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:43:45.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:43:45.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.02983403205871582}
[2026-01-08 15:43:45.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:43:45.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 15:43:45.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-08 15:43:45.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-08 15:43:45.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 15:43:45.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:43:45.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/status","path":"\/api\/status","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:43:46.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:43:46.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:43:46.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.030766963958740234}
[2026-01-08 15:43:46.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:43:46.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 15:43:46.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 15:43:46.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:43:46.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:43:46.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03047800064086914}
[2026-01-08 15:43:46.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:43:46.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 15:43:46.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-08 15:43:46.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-08 15:43:46.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 15:43:46.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:43:46.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/firmware","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:43:46.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03658795356750488}
[2026-01-08 15:43:46.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:43:46.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 15:43:46.000000] INFO: API操作 {"user_id":1,"action":"firmware_get_versions"}
[2026-01-08 15:43:47.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:43:47.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/notification","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:43:47.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0343167781829834}
[2026-01-08 15:43:47.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:43:47.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 15:43:47.000000] INFO: API操作 {"user_id":1,"action":"notification_get_list"}
[2026-01-08 15:43:52.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:43:52.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:43:52.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0384061336517334}
[2026-01-08 15:43:52.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:43:52.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 15:43:52.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-08 15:43:52.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-08 15:43:52.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 15:43:52.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:43:52.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:43:52.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03601694107055664}
[2026-01-08 15:43:52.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:43:52.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 15:43:52.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-08 15:43:52.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-08 15:43:52.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 15:45:20.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/login","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:45:20.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/user\/login","path":"\/api\/user\/login","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Content-Length":"41","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","Content-Type":"application\/json","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/login.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":"{\"username\":\"iswhat\",\"password\":\"821118\"}"}}
[2026-01-08 15:45:21.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.02912592887878418}
[2026-01-08 15:45:21.000000] INFO: API操作 {"user_id":null,"action":"user_login"}
[2026-01-08 15:45:21.000000] INFO: 用户登录请求 {"username":"iswhat"}
[2026-01-08 15:45:21.000000] INFO: 用户登录成功 {"username":"iswhat"}
[2026-01-08 15:45:21.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:45:21.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/device","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:45:21.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.050006866455078125}
[2026-01-08 15:45:21.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:45:21.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 15:45:21.000000] INFO: API操作 {"user_id":3,"action":"device_get_list"}
[2026-01-08 15:45:21.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:45:21.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/devices","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:45:21.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.02770400047302246}
[2026-01-08 15:45:21.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:45:21.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 15:45:21.000000] INFO: API操作 {"user_id":3,"action":"user_get_devices"}
[2026-01-08 15:45:21.000000] INFO: 获取用户设备列表请求 {"user_id":3}
[2026-01-08 15:45:21.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 15:45:21.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:45:21.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/status","path":"\/api\/status","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:45:21.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:45:21.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/device","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:45:21.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.029481887817382812}
[2026-01-08 15:45:21.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:45:21.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 15:45:21.000000] INFO: API操作 {"user_id":3,"action":"device_get_list"}
[2026-01-08 15:45:21.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:45:21.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/devices","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:45:21.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.029110193252563477}
[2026-01-08 15:45:21.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:45:21.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 15:45:21.000000] INFO: API操作 {"user_id":3,"action":"user_get_devices"}
[2026-01-08 15:45:21.000000] INFO: 获取用户设备列表请求 {"user_id":3}
[2026-01-08 15:45:21.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 15:45:21.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:45:21.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/firmware","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:45:21.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.030330896377563477}
[2026-01-08 15:45:21.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:45:21.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 15:45:21.000000] INFO: API操作 {"user_id":3,"action":"firmware_get_versions"}
[2026-01-08 15:45:21.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:45:21.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/notification","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:45:21.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.029654979705810547}
[2026-01-08 15:45:21.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:45:21.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 15:45:21.000000] INFO: API操作 {"user_id":3,"action":"notification_get_list"}
[2026-01-08 15:45:25.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:45:25.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/plugin","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:45:25.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.038137197494506836}
[2026-01-08 15:45:25.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:45:25.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 15:45:25.000000] INFO: API操作 {"user_id":3,"action":"plugin_get_list"}
[2026-01-08 15:45:25.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:45:25.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/plugin\/stats","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:45:25.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-08 15:45:27.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:45:27.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification\/stats?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/notification\/stats","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:45:27.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.031636953353881836}
[2026-01-08 15:45:27.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:45:27.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 15:45:27.000000] INFO: API操作 {"user_id":3,"notification_id":"stats","action":"notification_get_detail"}
[2026-01-08 15:45:27.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:45:27.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/notification","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:45:27.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.034626007080078125}
[2026-01-08 15:45:27.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:45:27.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 15:45:27.000000] INFO: API操作 {"user_id":3,"action":"notification_get_list"}
[2026-01-08 15:45:31.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:45:31.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/firmware","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/firmware.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:45:31.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03267192840576172}
[2026-01-08 15:45:31.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:45:31.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 15:45:31.000000] INFO: API操作 {"user_id":3,"action":"firmware_get_versions"}
[2026-01-08 15:45:31.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:45:31.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/firmware","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/firmware.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:45:31.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.029195070266723633}
[2026-01-08 15:45:31.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:45:31.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 15:45:31.000000] INFO: API操作 {"user_id":3,"action":"firmware_get_versions"}
[2026-01-08 15:45:31.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:45:31.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/device","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/firmware.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:45:31.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.027878999710083008}
[2026-01-08 15:45:31.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:45:31.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 15:45:31.000000] INFO: API操作 {"user_id":3,"action":"device_get_list"}
[2026-01-08 15:45:33.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:45:33.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/notification","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:45:33.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03130817413330078}
[2026-01-08 15:45:33.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:45:33.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 15:45:33.000000] INFO: API操作 {"user_id":3,"action":"notification_get_list"}
[2026-01-08 15:45:33.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:45:33.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification\/stats?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/notification\/stats","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:45:33.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.028438091278076172}
[2026-01-08 15:45:33.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:45:33.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 15:45:33.000000] INFO: API操作 {"user_id":3,"notification_id":"stats","action":"notification_get_detail"}
[2026-01-08 15:45:35.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:45:35.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/firmware","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/firmware.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:45:35.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.031816959381103516}
[2026-01-08 15:45:35.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:45:35.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 15:45:35.000000] INFO: API操作 {"user_id":3,"action":"firmware_get_versions"}
[2026-01-08 15:45:35.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:45:35.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/firmware","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/firmware.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:45:35.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.028922080993652344}
[2026-01-08 15:45:35.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:45:35.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 15:45:35.000000] INFO: API操作 {"user_id":3,"action":"firmware_get_versions"}
[2026-01-08 15:45:35.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:45:35.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/device","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/firmware.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:45:35.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.029677152633666992}
[2026-01-08 15:45:35.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:45:35.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 15:45:35.000000] INFO: API操作 {"user_id":3,"action":"device_get_list"}
[2026-01-08 15:45:45.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:45:45.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/firmware","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/firmware.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:45:45.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0340731143951416}
[2026-01-08 15:45:45.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:45:45.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 15:45:45.000000] INFO: API操作 {"user_id":3,"action":"firmware_get_versions"}
[2026-01-08 15:45:45.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:45:45.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/firmware","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/firmware.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:45:45.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.029500961303710938}
[2026-01-08 15:45:45.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:45:45.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 15:45:45.000000] INFO: API操作 {"user_id":3,"action":"firmware_get_versions"}
[2026-01-08 15:45:45.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:45:45.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/device","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/firmware.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:45:45.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0290219783782959}
[2026-01-08 15:45:45.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:45:45.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 15:45:45.000000] INFO: API操作 {"user_id":3,"action":"device_get_list"}
[2026-01-08 15:45:47.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:45:47.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/notification","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:45:47.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03365683555603027}
[2026-01-08 15:45:47.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:45:47.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 15:45:47.000000] INFO: API操作 {"user_id":3,"action":"notification_get_list"}
[2026-01-08 15:45:47.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:45:47.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification\/stats?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/notification\/stats","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:45:47.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.029321908950805664}
[2026-01-08 15:45:47.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:45:47.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 15:45:47.000000] INFO: API操作 {"user_id":3,"notification_id":"stats","action":"notification_get_detail"}
[2026-01-08 15:45:49.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:45:49.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/plugin","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:45:49.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.030701875686645508}
[2026-01-08 15:45:49.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:45:49.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 15:45:49.000000] INFO: API操作 {"user_id":3,"action":"plugin_get_list"}
[2026-01-08 15:45:49.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:45:49.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/plugin\/stats","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:45:49.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-08 15:45:50.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:45:50.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/notification","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:45:50.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0343317985534668}
[2026-01-08 15:45:50.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:45:50.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 15:45:50.000000] INFO: API操作 {"user_id":3,"action":"notification_get_list"}
[2026-01-08 15:45:50.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:45:50.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification\/stats?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/notification\/stats","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:45:50.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.028278112411499023}
[2026-01-08 15:45:50.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:45:50.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 15:45:50.000000] INFO: API操作 {"user_id":3,"notification_id":"stats","action":"notification_get_detail"}
[2026-01-08 15:50:37.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:50:37.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/firmware","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/firmware.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:50:37.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.033674001693725586}
[2026-01-08 15:50:37.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:50:37.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 15:50:37.000000] INFO: API操作 {"user_id":3,"action":"firmware_get_versions"}
[2026-01-08 15:50:37.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:50:37.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/firmware","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/firmware.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:50:38.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.043540000915527344}
[2026-01-08 15:50:38.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:50:38.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 15:50:38.000000] INFO: API操作 {"user_id":3,"action":"firmware_get_versions"}
[2026-01-08 15:50:38.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:50:38.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/device","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/firmware.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:50:38.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.030624866485595703}
[2026-01-08 15:50:38.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:50:38.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 15:50:38.000000] INFO: API操作 {"user_id":3,"action":"device_get_list"}
[2026-01-08 15:50:43.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:50:43.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/notification","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:50:43.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03422403335571289}
[2026-01-08 15:50:43.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:50:43.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 15:50:43.000000] INFO: API操作 {"user_id":3,"action":"notification_get_list"}
[2026-01-08 15:50:43.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:50:43.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification\/stats?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/notification\/stats","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:50:43.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.028605937957763672}
[2026-01-08 15:50:43.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:50:43.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 15:50:43.000000] INFO: API操作 {"user_id":3,"notification_id":"stats","action":"notification_get_detail"}
[2026-01-08 15:50:45.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:50:45.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/plugin","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:50:45.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03328108787536621}
[2026-01-08 15:50:45.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 15:50:45.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 15:50:45.000000] INFO: API操作 {"user_id":3,"action":"plugin_get_list"}
[2026-01-08 15:50:45.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:50:45.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/plugin\/stats","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:50:45.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-08 15:50:48.000000] INFO: API请求 {"method":"GET","path":"\/api\/user","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:50:48.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/users.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:50:48.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/api\/user"}
[2026-01-08 15:50:48.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:50:48.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/stats?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/stats","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/users.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:50:48.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/api\/user\/stats"}
[2026-01-08 15:50:52.000000] INFO: API请求 {"method":"GET","path":"\/api\/user","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:50:52.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/users.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:50:52.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/api\/user"}
[2026-01-08 15:50:52.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 15:50:52.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/stats?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/stats","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/users.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 15:50:52.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/api\/user\/stats"}
[2026-01-08 17:26:31.000000] INFO: API请求 {"method":"GET","path":"\/api\/user","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:26:31.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/users.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:26:31.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.15334582328796387}
[2026-01-08 17:26:31.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:26:31.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 17:26:31.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:26:31.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/stats?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/stats","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/users.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:26:31.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.032562971115112305}
[2026-01-08 17:26:31.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:26:31.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 17:26:38.000000] INFO: API请求 {"method":"GET","path":"\/api\/user","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:26:38.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/users.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:26:38.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.05426192283630371}
[2026-01-08 17:26:38.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:26:38.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 17:26:38.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:26:38.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/stats?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/stats","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/users.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:26:38.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.036871910095214844}
[2026-01-08 17:26:38.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:26:38.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 17:26:41.000000] INFO: API请求 {"method":"GET","path":"\/api\/system\/settings","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:26:41.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/system\/settings?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/system\/settings","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/system.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:26:41.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03983807563781738}
[2026-01-08 17:26:41.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:26:41.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 17:26:41.000000] INFO: API请求 {"method":"GET","path":"\/api\/system\/info","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:26:41.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/system\/info?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/system\/info","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/system.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:26:41.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.031701087951660156}
[2026-01-08 17:26:41.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:26:41.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 17:27:00.000000] INFO: API请求 {"method":"GET","path":"\/api\/user","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:27:00.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/users.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:27:00.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0630800724029541}
[2026-01-08 17:27:00.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:27:00.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 17:27:00.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:27:00.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/stats?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/stats","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/users.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:27:00.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03982114791870117}
[2026-01-08 17:27:00.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:27:00.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 17:27:20.000000] INFO: API请求 {"method":"GET","path":"\/api\/user","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:27:20.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/users.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:27:20.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03805708885192871}
[2026-01-08 17:27:20.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:27:20.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 17:27:20.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:27:20.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/stats?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/stats","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/users.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:27:20.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0415802001953125}
[2026-01-08 17:27:20.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:27:20.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 17:28:14.000000] INFO: API请求 {"method":"GET","path":"\/api\/message","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:28:14.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/message?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/message","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:28:14.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/api\/message"}
[2026-01-08 17:28:14.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:28:14.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/devices","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:28:15.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.047344207763671875}
[2026-01-08 17:28:15.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:28:15.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 17:28:15.000000] INFO: API操作 {"user_id":3,"action":"user_get_devices"}
[2026-01-08 17:28:15.000000] INFO: 获取用户设备列表请求 {"user_id":3}
[2026-01-08 17:28:15.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 17:28:18.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:28:18.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/devices","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:28:18.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.032649993896484375}
[2026-01-08 17:28:18.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:28:18.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 17:28:18.000000] INFO: API操作 {"user_id":3,"action":"user_get_devices"}
[2026-01-08 17:28:18.000000] INFO: 获取用户设备列表请求 {"user_id":3}
[2026-01-08 17:28:18.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 17:31:50.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:31:50.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/plugin","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:31:50.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0417020320892334}
[2026-01-08 17:31:50.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:31:50.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 17:31:50.000000] INFO: API操作 {"user_id":3,"action":"plugin_get_list"}
[2026-01-08 17:31:50.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:31:50.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/plugin\/stats","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:31:50.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-08 17:31:51.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:31:51.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/plugin","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:31:51.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.044220924377441406}
[2026-01-08 17:31:51.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:31:51.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 17:31:51.000000] INFO: API操作 {"user_id":3,"action":"plugin_get_list"}
[2026-01-08 17:31:51.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:31:51.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/plugin\/stats","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:31:51.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-08 17:32:00.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/login","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:32:00.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/user\/login","path":"\/api\/user\/login","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Content-Length":"39","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","Content-Type":"application\/json","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/login.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":"{\"username\":\"test\",\"password\":\"111111\"}"}}
[2026-01-08 17:32:01.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03140401840209961}
[2026-01-08 17:32:01.000000] INFO: API操作 {"user_id":null,"action":"user_login"}
[2026-01-08 17:32:01.000000] INFO: 用户登录请求 {"username":"test"}
[2026-01-08 17:32:01.000000] INFO: 用户登录成功 {"username":"test"}
[2026-01-08 17:32:01.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:32:01.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:32:01.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.037947893142700195}
[2026-01-08 17:32:01.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:32:01.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:32:01.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-08 17:32:01.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-08 17:32:01.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 17:32:01.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:32:01.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:32:01.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.035661935806274414}
[2026-01-08 17:32:01.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:32:01.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:32:01.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 17:32:01.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:32:01.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/status","path":"\/api\/status","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:32:01.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:32:01.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:32:01.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.031002044677734375}
[2026-01-08 17:32:01.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:32:01.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:32:01.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 17:32:01.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:32:01.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:32:01.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.034021854400634766}
[2026-01-08 17:32:01.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:32:01.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:32:01.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-08 17:32:01.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-08 17:32:01.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 17:32:01.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:32:01.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/firmware","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:32:01.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03229999542236328}
[2026-01-08 17:32:01.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:32:01.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:32:01.000000] INFO: API操作 {"user_id":1,"action":"firmware_get_versions"}
[2026-01-08 17:32:01.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:32:01.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/notification","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:32:01.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03138017654418945}
[2026-01-08 17:32:02.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:32:02.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:32:02.000000] INFO: API操作 {"user_id":1,"action":"notification_get_list"}
[2026-01-08 17:32:03.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:32:03.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:32:03.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0358738899230957}
[2026-01-08 17:32:03.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:32:04.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:32:04.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_list"}
[2026-01-08 17:32:04.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:32:04.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:32:04.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-08 17:32:08.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:32:08.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:32:08.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.041749000549316406}
[2026-01-08 17:32:08.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:32:08.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:32:08.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-08 17:32:08.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-08 17:32:08.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 17:32:08.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:32:08.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:32:08.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03335380554199219}
[2026-01-08 17:32:08.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:32:08.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:32:08.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-08 17:32:08.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-08 17:32:08.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 17:32:10.000000] INFO: API请求 {"method":"GET","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:32:10.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/group?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/group","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:32:11.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.04477691650390625}
[2026-01-08 17:32:11.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:32:11.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:32:11.000000] INFO: API操作 {"user_id":1,"action":"device_group_get_list"}
[2026-01-08 17:32:11.000000] INFO: API请求 {"method":"GET","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:32:11.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/group?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/group","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:32:11.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.032141923904418945}
[2026-01-08 17:32:11.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:32:11.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:32:11.000000] INFO: API操作 {"user_id":1,"action":"device_group_get_list"}
[2026-01-08 17:32:11.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:32:11.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:32:11.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.033715009689331055}
[2026-01-08 17:32:11.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:32:11.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:32:11.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 17:32:13.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:32:13.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/firmware","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/firmware.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:32:13.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0941781997680664}
[2026-01-08 17:32:13.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:32:13.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:32:13.000000] INFO: API操作 {"user_id":1,"action":"firmware_get_versions"}
[2026-01-08 17:32:13.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:32:13.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/firmware","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/firmware.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:32:13.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.033145904541015625}
[2026-01-08 17:32:13.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:32:13.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:32:13.000000] INFO: API操作 {"user_id":1,"action":"firmware_get_versions"}
[2026-01-08 17:32:13.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:32:13.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/firmware.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:32:13.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.029413938522338867}
[2026-01-08 17:32:13.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:32:13.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:32:13.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 17:32:16.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:32:16.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:32:16.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03872394561767578}
[2026-01-08 17:32:16.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:32:16.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:32:16.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_list"}
[2026-01-08 17:32:16.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:32:16.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:32:16.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-08 17:32:18.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:32:18.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:32:18.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.037548065185546875}
[2026-01-08 17:32:18.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:32:18.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:32:18.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-08 17:32:18.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-08 17:32:18.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 17:32:18.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:32:18.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:32:18.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.031029939651489258}
[2026-01-08 17:32:18.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:32:18.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:32:18.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-08 17:32:18.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-08 17:32:18.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 17:32:19.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:32:19.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/devices.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:32:19.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.04755592346191406}
[2026-01-08 17:32:19.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:32:19.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:32:19.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 17:32:19.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:32:20.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/devices.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:32:20.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.21628308296203613}
[2026-01-08 17:32:20.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:32:20.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:32:20.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 17:32:22.000000] INFO: API请求 {"method":"GET","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:32:22.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/group?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/group","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:32:22.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.034425973892211914}
[2026-01-08 17:32:22.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:32:22.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:32:22.000000] INFO: API操作 {"user_id":1,"action":"device_group_get_list"}
[2026-01-08 17:32:22.000000] INFO: API请求 {"method":"GET","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:32:22.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/group?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/group","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:32:22.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.031172990798950195}
[2026-01-08 17:32:22.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:32:22.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:32:22.000000] INFO: API操作 {"user_id":1,"action":"device_group_get_list"}
[2026-01-08 17:32:22.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:32:22.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:32:22.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.030601978302001953}
[2026-01-08 17:32:22.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:32:22.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:32:22.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 17:32:23.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:32:23.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f&user_id=1","path":"\/api\/notification","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","user_id":"1"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:32:23.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.040505170822143555}
[2026-01-08 17:32:23.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:32:23.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:32:23.000000] INFO: API操作 {"user_id":1,"action":"notification_get_list"}
[2026-01-08 17:32:23.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:32:23.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f&user_id=1","path":"\/api\/notification\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","user_id":"1"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:32:23.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03249406814575195}
[2026-01-08 17:32:23.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:32:23.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:32:23.000000] INFO: API操作 {"user_id":1,"notification_id":"stats","action":"notification_get_detail"}
[2026-01-08 17:32:27.000000] INFO: API请求 {"method":"GET","path":"\/api\/tag","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:32:27.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/tag?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/tag","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/tags.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:32:27.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.04066801071166992}
[2026-01-08 17:32:27.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:32:27.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:32:27.000000] INFO: API操作 {"user_id":1,"action":"device_tag_get_list"}
[2026-01-08 17:32:27.000000] INFO: API请求 {"method":"GET","path":"\/api\/tag","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:32:27.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/tag?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/tag","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/tags.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:32:27.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03169989585876465}
[2026-01-08 17:32:27.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:32:27.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:32:27.000000] INFO: API操作 {"user_id":1,"action":"device_tag_get_list"}
[2026-01-08 17:32:27.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:32:27.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/tags.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:32:27.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03399395942687988}
[2026-01-08 17:32:27.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:32:27.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:32:27.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-08 17:34:57.000000] INFO: API请求 {"method":"GET","path":"\/api\/user","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-08 17:34:57.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Content-Type":"application\/json","Host":"localhost:8000","Connection":"Keep-Alive"},"body":""}}
[2026-01-08 17:34:57.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.05987095832824707}
[2026-01-08 17:34:57.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:34:57.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:40:26.000000] INFO: API请求 {"method":"GET","path":"\/api\/user","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-08 17:40:26.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000","Connection":"Keep-Alive"},"body":""}}
[2026-01-08 17:40:26.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.04045391082763672}
[2026-01-08 17:40:26.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:40:26.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:41:00.000000] INFO: API请求 {"method":"GET","path":"\/api\/user","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-08 17:41:00.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000"},"body":""}}
[2026-01-08 17:41:00.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0332341194152832}
[2026-01-08 17:41:00.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:41:00.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:41:45.000000] INFO: API请求 {"method":"GET","path":"\/api\/user","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-08 17:41:45.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000"},"body":""}}
[2026-01-08 17:42:02.000000] INFO: API请求 {"method":"GET","path":"\/api\/tag","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:42:02.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/tag?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/tag","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/tags.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:42:02.000000] INFO: API请求 {"method":"GET","path":"\/api\/tag","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:42:02.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/tag?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/tag","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/tags.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:42:20.000000] INFO: API请求 {"method":"GET","path":"\/api\/user","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-08 17:42:20.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000"},"body":""}}
[2026-01-08 17:42:20.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03345513343811035}
[2026-01-08 17:42:20.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:42:20.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:43:11.000000] INFO: API请求 {"method":"GET","path":"\/api\/user","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-08 17:43:11.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000"},"body":""}}
[2026-01-08 17:43:11.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.056761980056762695}
[2026-01-08 17:43:11.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:43:11.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:44:11.000000] INFO: API请求 {"method":"GET","path":"\/api\/user","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-08 17:44:11.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000"},"body":""}}
[2026-01-08 17:44:11.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03591799736022949}
[2026-01-08 17:44:11.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:44:11.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:44:11.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:44:11.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:44:40.000000] INFO: API请求 {"method":"GET","path":"\/api\/user","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-08 17:44:40.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000"},"body":""}}
[2026-01-08 17:44:40.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.034265995025634766}
[2026-01-08 17:44:40.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:44:40.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:45:07.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-08 17:45:07.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000"},"body":""}}
[2026-01-08 17:45:07.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0328211784362793}
[2026-01-08 17:45:07.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:45:07.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-08 17:58:32.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/login","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:58:32.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/user\/login","path":"\/api\/user\/login","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Content-Length":"41","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","Content-Type":"application\/json","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/login.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":"{\"username\":\"iswhat\",\"password\":\"821118\"}"}}
[2026-01-08 17:58:32.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0310208797454834}
[2026-01-08 17:58:32.000000] INFO: API操作 {"user_id":null,"action":"user_login"}
[2026-01-08 17:58:32.000000] INFO: 用户登录请求 {"username":"iswhat"}
[2026-01-08 17:58:32.000000] INFO: 用户登录成功 {"username":"iswhat"}
[2026-01-08 17:58:32.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:58:32.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/device","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:58:32.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03084087371826172}
[2026-01-08 17:58:32.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:58:32.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 17:58:32.000000] INFO: API操作 {"user_id":3,"action":"device_get_list"}
[2026-01-08 17:58:32.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:58:32.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/devices","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:58:32.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.02974104881286621}
[2026-01-08 17:58:32.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:58:32.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 17:58:32.000000] INFO: API操作 {"user_id":3,"action":"user_get_devices"}
[2026-01-08 17:58:32.000000] INFO: 获取用户设备列表请求 {"user_id":3}
[2026-01-08 17:58:32.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 17:58:32.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:58:32.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/status","path":"\/api\/status","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:58:32.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:58:32.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/device","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:58:32.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0342869758605957}
[2026-01-08 17:58:32.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:58:32.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 17:58:32.000000] INFO: API操作 {"user_id":3,"action":"device_get_list"}
[2026-01-08 17:58:33.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:58:33.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/devices","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:58:33.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03295493125915527}
[2026-01-08 17:58:33.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:58:33.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 17:58:33.000000] INFO: API操作 {"user_id":3,"action":"user_get_devices"}
[2026-01-08 17:58:33.000000] INFO: 获取用户设备列表请求 {"user_id":3}
[2026-01-08 17:58:33.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 17:58:33.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:58:33.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/firmware","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:58:33.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03382992744445801}
[2026-01-08 17:58:33.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:58:33.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 17:58:33.000000] INFO: API操作 {"user_id":3,"action":"firmware_get_versions"}
[2026-01-08 17:58:33.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:58:33.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/notification","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:58:33.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.02974987030029297}
[2026-01-08 17:58:33.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:58:33.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 17:58:33.000000] INFO: API操作 {"user_id":3,"action":"notification_get_list"}
[2026-01-08 17:58:35.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:58:35.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/plugin","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:58:35.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.037763118743896484}
[2026-01-08 17:58:35.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:58:35.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 17:58:35.000000] INFO: API操作 {"user_id":3,"action":"plugin_get_list"}
[2026-01-08 17:58:35.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:58:35.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/plugin\/stats","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:58:35.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-08 17:58:39.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:58:39.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/notification","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:58:39.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03909707069396973}
[2026-01-08 17:58:39.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:58:39.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 17:58:39.000000] INFO: API操作 {"user_id":3,"action":"notification_get_list"}
[2026-01-08 17:58:39.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:58:39.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification\/stats?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/notification\/stats","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:58:39.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.031935930252075195}
[2026-01-08 17:58:39.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:58:39.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 17:58:39.000000] INFO: API操作 {"user_id":3,"notification_id":"stats","action":"notification_get_detail"}
[2026-01-08 17:58:43.000000] INFO: API请求 {"method":"GET","path":"\/api\/user","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:58:43.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:58:43.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03149104118347168}
[2026-01-08 17:58:43.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:58:43.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 17:58:54.000000] INFO: API请求 {"method":"POST","path":"\/api\/notification\/publish","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:58:54.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/notification\/publish?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/notification\/publish","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Content-Length":"67","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","Content-Type":"application\/json","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":"{\"title\":\"ces\",\"content\":\"cergr4g \",\"type\":\"system\",\"user_id\":null}"}}
[2026-01-08 17:58:54.000000] INFO: 未匹配到路由 {"method":"POST","path":"\/api\/notification\/publish"}
[2026-01-08 17:59:35.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:59:35.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/plugin","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:59:35.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03780508041381836}
[2026-01-08 17:59:35.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:59:35.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 17:59:35.000000] INFO: API操作 {"user_id":3,"action":"plugin_get_list"}
[2026-01-08 17:59:35.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:59:35.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/plugin\/stats","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:59:35.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-08 17:59:38.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:59:38.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/firmware","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/firmware.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:59:38.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.04668903350830078}
[2026-01-08 17:59:38.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:59:38.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 17:59:38.000000] INFO: API操作 {"user_id":3,"action":"firmware_get_versions"}
[2026-01-08 17:59:38.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:59:38.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/firmware","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/firmware.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:59:38.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.034974098205566406}
[2026-01-08 17:59:38.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:59:38.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 17:59:38.000000] INFO: API操作 {"user_id":3,"action":"firmware_get_versions"}
[2026-01-08 17:59:38.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 17:59:38.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/device","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/firmware.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 17:59:38.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0341639518737793}
[2026-01-08 17:59:38.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 17:59:38.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 17:59:38.000000] INFO: API操作 {"user_id":3,"action":"device_get_list"}
[2026-01-08 18:00:09.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 18:00:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/device","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 18:00:09.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03417611122131348}
[2026-01-08 18:00:09.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 18:00:09.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 18:00:09.000000] INFO: API操作 {"user_id":3,"action":"device_get_list"}
[2026-01-08 18:00:09.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 18:00:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/devices","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 18:00:09.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.029323816299438477}
[2026-01-08 18:00:09.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 18:00:09.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 18:00:09.000000] INFO: API操作 {"user_id":3,"action":"user_get_devices"}
[2026-01-08 18:00:09.000000] INFO: 获取用户设备列表请求 {"user_id":3}
[2026-01-08 18:00:09.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 18:00:09.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 18:00:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/status","path":"\/api\/status","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 18:00:09.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 18:00:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/device","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 18:00:09.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03021097183227539}
[2026-01-08 18:00:09.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 18:00:09.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 18:00:09.000000] INFO: API操作 {"user_id":3,"action":"device_get_list"}
[2026-01-08 18:00:09.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 18:00:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/devices","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 18:00:09.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.046000003814697266}
[2026-01-08 18:00:09.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 18:00:09.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 18:00:09.000000] INFO: API操作 {"user_id":3,"action":"user_get_devices"}
[2026-01-08 18:00:09.000000] INFO: 获取用户设备列表请求 {"user_id":3}
[2026-01-08 18:00:09.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 18:00:09.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 18:00:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/firmware","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 18:00:09.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.050080060958862305}
[2026-01-08 18:00:09.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 18:00:09.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 18:00:09.000000] INFO: API操作 {"user_id":3,"action":"firmware_get_versions"}
[2026-01-08 18:00:09.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 18:00:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/notification","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 18:00:09.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.052481889724731445}
[2026-01-08 18:00:09.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 18:00:09.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 18:00:09.000000] INFO: API操作 {"user_id":3,"action":"notification_get_list"}
[2026-01-08 18:00:57.000000] INFO: API请求 {"method":"GET","path":"\/api\/user","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 18:00:57.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/users.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 18:00:58.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03934001922607422}
[2026-01-08 18:00:58.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 18:00:58.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 18:00:58.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 18:00:58.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/stats?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/stats","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/users.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 18:00:58.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03968000411987305}
[2026-01-08 18:00:58.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 18:00:58.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 18:01:03.000000] INFO: API请求 {"method":"DELETE","path":"\/api\/user\/2","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 18:01:03.000000] INFO: 速率限制中间件执行 {"request":{"method":"DELETE","uri":"\/api\/user\/2?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/2","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/users.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 18:01:03.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03320002555847168}
[2026-01-08 18:01:03.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 18:01:03.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 18:01:03.000000] INFO: API操作 {"admin_id":3,"target_user_id":"2","user_id":3,"action":"delete_user"}
[2026-01-08 18:01:03.000000] INFO: API请求 {"method":"GET","path":"\/api\/user","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 18:01:03.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/users.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 18:01:03.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.02902507781982422}
[2026-01-08 18:01:03.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 18:01:03.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 18:01:03.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 18:01:03.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/stats?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/stats","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/users.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 18:01:03.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.030717134475708008}
[2026-01-08 18:01:03.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 18:01:03.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 18:01:15.000000] INFO: API请求 {"method":"GET","path":"\/api\/message","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 18:01:15.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/message?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/message","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 18:01:15.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/api\/message"}
[2026-01-08 18:01:15.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 18:01:15.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/devices","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 18:01:15.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03459596633911133}
[2026-01-08 18:01:15.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 18:01:15.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 18:01:15.000000] INFO: API操作 {"user_id":3,"action":"user_get_devices"}
[2026-01-08 18:01:15.000000] INFO: 获取用户设备列表请求 {"user_id":3}
[2026-01-08 18:01:15.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 18:01:16.000000] INFO: API请求 {"method":"GET","path":"\/api\/message","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 18:01:16.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/message?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/message","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 18:01:16.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/api\/message"}
[2026-01-08 18:01:16.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 18:01:16.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/devices","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 18:01:16.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0363309383392334}
[2026-01-08 18:01:16.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 18:01:16.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 18:01:16.000000] INFO: API操作 {"user_id":3,"action":"user_get_devices"}
[2026-01-08 18:01:16.000000] INFO: 获取用户设备列表请求 {"user_id":3}
[2026-01-08 18:01:16.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 18:01:17.000000] INFO: API请求 {"method":"GET","path":"\/api\/message","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 18:01:17.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/message?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/message","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 18:01:17.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/api\/message"}
[2026-01-08 18:01:17.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 18:01:17.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/devices","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 18:01:17.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.04496312141418457}
[2026-01-08 18:01:17.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 18:01:17.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 18:01:17.000000] INFO: API操作 {"user_id":3,"action":"user_get_devices"}
[2026-01-08 18:01:17.000000] INFO: 获取用户设备列表请求 {"user_id":3}
[2026-01-08 18:01:17.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-08 18:01:18.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 18:01:18.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/notification","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 18:01:18.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.05238008499145508}
[2026-01-08 18:01:18.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 18:01:18.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 18:01:18.000000] INFO: API操作 {"user_id":3,"action":"notification_get_list"}
[2026-01-08 18:01:18.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 18:01:18.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification\/stats?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/notification\/stats","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 18:01:18.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.08177995681762695}
[2026-01-08 18:01:18.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 18:01:18.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 18:01:18.000000] INFO: API操作 {"user_id":3,"notification_id":"stats","action":"notification_get_detail"}
[2026-01-08 18:40:49.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 18:40:49.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/plugin","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 18:40:49.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03805088996887207}
[2026-01-08 18:40:49.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 18:40:49.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 18:40:49.000000] INFO: API操作 {"user_id":3,"action":"plugin_get_list"}
[2026-01-08 18:40:49.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 18:40:49.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/plugin\/stats","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 18:40:49.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-08 18:40:54.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 18:40:54.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/plugin","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 18:40:54.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.05338120460510254}
[2026-01-08 18:40:54.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-08 18:40:54.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-08 18:40:54.000000] INFO: API操作 {"user_id":3,"action":"plugin_get_list"}
[2026-01-08 18:40:54.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-08 18:40:54.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/plugin\/stats","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-08 18:40:54.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-09 10:36:28.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:36:28.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/login.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:36:28.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 10:38:02.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/login","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:02.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/user\/login","path":"\/api\/user\/login","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Content-Length":"39","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","Content-Type":"application\/json","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/login.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":"{\"username\":\"test\",\"password\":\"111111\"}"}}
[2026-01-09 10:38:02.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.031265974044799805}
[2026-01-09 10:38:02.000000] INFO: API操作 {"user_id":null,"action":"user_login"}
[2026-01-09 10:38:02.000000] INFO: 用户登录请求 {"username":"test"}
[2026-01-09 10:38:02.000000] INFO: 用户登录成功 {"username":"test"}
[2026-01-09 10:38:02.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:02.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:02.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03424882888793945}
[2026-01-09 10:38:02.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:02.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:02.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-09 10:38:02.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:02.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:02.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0367732048034668}
[2026-01-09 10:38:02.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:02.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:02.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 10:38:02.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 10:38:02.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 10:38:02.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:02.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/status","path":"\/api\/status","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:02.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:02.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:02.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 10:38:02.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:02.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:02.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.031822919845581055}
[2026-01-09 10:38:02.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:02.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:02.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-09 10:38:02.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:02.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:02.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.031649112701416016}
[2026-01-09 10:38:02.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:02.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:02.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 10:38:02.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 10:38:02.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 10:38:02.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:02.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/firmware","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:02.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0316770076751709}
[2026-01-09 10:38:02.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:02.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:02.000000] INFO: API操作 {"user_id":1,"action":"firmware_get_versions"}
[2026-01-09 10:38:02.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:02.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/notification","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:02.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.030308008193969727}
[2026-01-09 10:38:02.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:02.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:02.000000] INFO: API操作 {"user_id":1,"action":"notification_get_list"}
[2026-01-09 10:38:06.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:06.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/devices.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:06.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.030514955520629883}
[2026-01-09 10:38:06.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:06.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:06.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-09 10:38:06.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:06.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/devices.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:06.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 10:38:06.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:06.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/devices.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:06.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.032186031341552734}
[2026-01-09 10:38:06.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:06.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:06.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-09 10:38:07.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:07.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:07.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03135085105895996}
[2026-01-09 10:38:07.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:07.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:07.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 10:38:07.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 10:38:07.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 10:38:07.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:07.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:07.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 10:38:07.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:07.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:07.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.032820940017700195}
[2026-01-09 10:38:07.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:07.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:07.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 10:38:07.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 10:38:07.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 10:38:09.000000] INFO: API请求 {"method":"GET","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/group?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/group","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:09.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.032176971435546875}
[2026-01-09 10:38:09.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:09.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:09.000000] INFO: API操作 {"user_id":1,"action":"device_group_get_list"}
[2026-01-09 10:38:09.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:09.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 10:38:09.000000] INFO: API请求 {"method":"GET","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/group?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/group","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:09.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03392505645751953}
[2026-01-09 10:38:09.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:09.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:09.000000] INFO: API操作 {"user_id":1,"action":"device_group_get_list"}
[2026-01-09 10:38:09.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:09.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.030672073364257812}
[2026-01-09 10:38:09.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:09.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:09.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-09 10:38:11.000000] INFO: API请求 {"method":"GET","path":"\/api\/tag","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:11.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/tag?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/tag","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/tags.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:11.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03190016746520996}
[2026-01-09 10:38:11.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:11.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:11.000000] INFO: API操作 {"user_id":1,"action":"device_tag_get_list"}
[2026-01-09 10:38:11.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:11.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/tags.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:11.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 10:38:11.000000] INFO: API请求 {"method":"GET","path":"\/api\/tag","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:11.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/tag?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/tag","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/tags.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:11.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.033338069915771484}
[2026-01-09 10:38:11.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:11.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:11.000000] INFO: API操作 {"user_id":1,"action":"device_tag_get_list"}
[2026-01-09 10:38:11.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:11.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/tags.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:11.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.031016111373901367}
[2026-01-09 10:38:11.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:11.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:11.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-09 10:38:15.000000] INFO: API请求 {"method":"GET","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:15.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/group?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/group","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:15.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03502202033996582}
[2026-01-09 10:38:15.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:15.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:15.000000] INFO: API操作 {"user_id":1,"action":"device_group_get_list"}
[2026-01-09 10:38:15.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:15.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:15.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 10:38:15.000000] INFO: API请求 {"method":"GET","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:15.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/group?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/group","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:15.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.030888080596923828}
[2026-01-09 10:38:15.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:15.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:15.000000] INFO: API操作 {"user_id":1,"action":"device_group_get_list"}
[2026-01-09 10:38:15.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:15.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:15.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03252291679382324}
[2026-01-09 10:38:15.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:15.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:15.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-09 10:38:16.000000] INFO: API请求 {"method":"GET","path":"\/api\/tag","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:16.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/tag?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/tag","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/tags.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:16.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.031043052673339844}
[2026-01-09 10:38:16.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:16.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:16.000000] INFO: API操作 {"user_id":1,"action":"device_tag_get_list"}
[2026-01-09 10:38:16.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:16.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/tags.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:16.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 10:38:16.000000] INFO: API请求 {"method":"GET","path":"\/api\/tag","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:16.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/tag?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/tag","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/tags.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:17.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.029974937438964844}
[2026-01-09 10:38:17.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:17.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:17.000000] INFO: API操作 {"user_id":1,"action":"device_tag_get_list"}
[2026-01-09 10:38:17.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:17.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/tags.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:17.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.028606891632080078}
[2026-01-09 10:38:17.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:17.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:17.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-09 10:38:18.000000] INFO: API请求 {"method":"GET","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:18.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/group?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/group","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:18.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03782796859741211}
[2026-01-09 10:38:18.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:18.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:18.000000] INFO: API操作 {"user_id":1,"action":"device_group_get_list"}
[2026-01-09 10:38:18.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:18.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:18.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 10:38:18.000000] INFO: API请求 {"method":"GET","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:18.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/group?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/group","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:18.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0299990177154541}
[2026-01-09 10:38:18.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:18.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:18.000000] INFO: API操作 {"user_id":1,"action":"device_group_get_list"}
[2026-01-09 10:38:18.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:18.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:18.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.02946019172668457}
[2026-01-09 10:38:18.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:18.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:18.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-09 10:38:18.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:18.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f&user_id=1","path":"\/api\/notification","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","user_id":"1"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:19.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03274393081665039}
[2026-01-09 10:38:19.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:19.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:19.000000] INFO: API操作 {"user_id":1,"action":"notification_get_list"}
[2026-01-09 10:38:19.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:19.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f&user_id=1","path":"\/api\/notification\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","user_id":"1"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:19.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.032675981521606445}
[2026-01-09 10:38:19.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:19.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:19.000000] INFO: API操作 {"user_id":1,"notification_id":"stats","action":"notification_get_detail"}
[2026-01-09 10:38:19.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:19.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:19.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 10:38:22.000000] INFO: API请求 {"method":"GET","path":"\/api\/tag","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:22.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/tag?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/tag","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/tags.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:22.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03139805793762207}
[2026-01-09 10:38:22.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:22.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:22.000000] INFO: API操作 {"user_id":1,"action":"device_tag_get_list"}
[2026-01-09 10:38:22.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:22.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/tags.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:22.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 10:38:22.000000] INFO: API请求 {"method":"GET","path":"\/api\/tag","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:22.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/tag?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/tag","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/tags.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:22.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.029906034469604492}
[2026-01-09 10:38:22.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:22.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:22.000000] INFO: API操作 {"user_id":1,"action":"device_tag_get_list"}
[2026-01-09 10:38:22.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:22.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/tags.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:22.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.029932022094726562}
[2026-01-09 10:38:22.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:22.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:22.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-09 10:38:23.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:23.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:23.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03213095664978027}
[2026-01-09 10:38:23.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:23.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:23.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 10:38:23.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 10:38:23.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 10:38:23.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:23.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:23.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 10:38:23.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:23.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:23.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.030716896057128906}
[2026-01-09 10:38:23.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:23.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:23.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 10:38:23.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 10:38:23.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 10:38:42.000000] INFO: API请求 {"method":"GET","path":"\/api\/tag","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:42.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/tag?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/tag","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/tags.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:42.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03132200241088867}
[2026-01-09 10:38:42.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:42.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:42.000000] INFO: API操作 {"user_id":1,"action":"device_tag_get_list"}
[2026-01-09 10:38:42.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:42.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/tags.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:42.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 10:38:42.000000] INFO: API请求 {"method":"GET","path":"\/api\/tag","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:42.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/tag?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/tag","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/tags.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:42.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03035593032836914}
[2026-01-09 10:38:42.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:42.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:42.000000] INFO: API操作 {"user_id":1,"action":"device_tag_get_list"}
[2026-01-09 10:38:42.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:38:42.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/tags.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:38:42.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.031252145767211914}
[2026-01-09 10:38:42.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:38:42.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:38:42.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-09 10:39:31.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:39:31.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f&user_id=1","path":"\/api\/notification","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","user_id":"1"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:39:31.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.033386945724487305}
[2026-01-09 10:39:31.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:39:31.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:39:31.000000] INFO: API操作 {"user_id":1,"action":"notification_get_list"}
[2026-01-09 10:39:31.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:39:31.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f&user_id=1","path":"\/api\/notification\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","user_id":"1"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:39:31.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.030415058135986328}
[2026-01-09 10:39:31.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 10:39:31.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 10:39:31.000000] INFO: API操作 {"user_id":1,"notification_id":"stats","action":"notification_get_detail"}
[2026-01-09 10:39:31.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 10:39:31.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 10:39:31.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 11:06:16.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:06:16.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/plugin","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:06:16.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03670001029968262}
[2026-01-09 11:06:16.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:06:16.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-09 11:06:16.000000] INFO: API操作 {"user_id":3,"action":"plugin_get_list"}
[2026-01-09 11:06:16.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:06:16.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/plugin\/stats","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:06:16.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03965497016906738}
[2026-01-09 11:06:16.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:06:16.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-09 11:06:16.000000] INFO: API操作 {"user_id":3,"action":"plugin_get_stats"}
[2026-01-09 11:06:29.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/login","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:06:29.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/user\/login","path":"\/api\/user\/login","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Content-Length":"39","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","Content-Type":"application\/json","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/login.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":"{\"username\":\"test\",\"password\":\"111111\"}"}}
[2026-01-09 11:06:29.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.030299901962280273}
[2026-01-09 11:06:29.000000] INFO: API操作 {"user_id":null,"action":"user_login"}
[2026-01-09 11:06:29.000000] INFO: 用户登录请求 {"username":"test"}
[2026-01-09 11:06:29.000000] INFO: 用户登录成功 {"username":"test"}
[2026-01-09 11:06:30.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:06:30.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:06:30.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03495001792907715}
[2026-01-09 11:06:30.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:06:30.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:06:30.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-09 11:06:30.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:06:30.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:06:30.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.02959609031677246}
[2026-01-09 11:06:30.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:06:30.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:06:30.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 11:06:30.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 11:06:30.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 11:06:30.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:06:30.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/status","path":"\/api\/status","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:06:30.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:06:30.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:06:30.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.029369831085205078}
[2026-01-09 11:06:30.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:06:30.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:06:30.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-09 11:06:30.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:06:30.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:06:30.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.21443891525268555}
[2026-01-09 11:06:30.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:06:30.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:06:30.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 11:06:30.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 11:06:30.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 11:06:30.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:06:30.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/firmware","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:06:30.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.028882980346679688}
[2026-01-09 11:06:30.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:06:30.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:06:30.000000] INFO: API操作 {"user_id":1,"action":"firmware_get_versions"}
[2026-01-09 11:06:30.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:06:30.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/notification","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:06:30.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.02951502799987793}
[2026-01-09 11:06:30.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:06:30.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:06:30.000000] INFO: API操作 {"user_id":1,"action":"notification_get_list"}
[2026-01-09 11:06:36.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:06:36.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:06:36.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.031028032302856445}
[2026-01-09 11:06:36.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:06:36.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:06:36.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-09 11:06:36.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:06:36.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:06:36.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.031177997589111328}
[2026-01-09 11:06:36.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:06:36.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:06:36.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 11:06:36.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 11:06:36.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 11:06:36.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:06:36.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/status","path":"\/api\/status","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:06:36.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:06:36.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:06:36.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0682060718536377}
[2026-01-09 11:06:36.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:06:36.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:06:36.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-09 11:06:36.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:06:36.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:06:36.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.028040170669555664}
[2026-01-09 11:06:36.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:06:36.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:06:36.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 11:06:36.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 11:06:36.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 11:06:36.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:06:36.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/firmware","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:06:36.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.028599977493286133}
[2026-01-09 11:06:36.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:06:36.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:06:36.000000] INFO: API操作 {"user_id":1,"action":"firmware_get_versions"}
[2026-01-09 11:06:36.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:06:36.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/notification","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:06:36.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03120899200439453}
[2026-01-09 11:06:37.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:06:37.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:06:37.000000] INFO: API操作 {"user_id":1,"action":"notification_get_list"}
[2026-01-09 11:07:23.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/login","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:07:23.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/user\/login","path":"\/api\/user\/login","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Content-Length":"41","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","Content-Type":"application\/json","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/login.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":"{\"username\":\"iswhat\",\"password\":\"821118\"}"}}
[2026-01-09 11:07:23.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03418898582458496}
[2026-01-09 11:07:23.000000] INFO: API操作 {"user_id":null,"action":"user_login"}
[2026-01-09 11:07:23.000000] INFO: 用户登录请求 {"username":"iswhat"}
[2026-01-09 11:07:23.000000] INFO: 用户登录成功 {"username":"iswhat"}
[2026-01-09 11:07:24.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:07:24.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/device","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:07:24.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03579115867614746}
[2026-01-09 11:07:24.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:07:24.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-09 11:07:24.000000] INFO: API操作 {"user_id":3,"action":"device_get_list"}
[2026-01-09 11:07:24.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:07:24.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/devices","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:07:24.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.033495187759399414}
[2026-01-09 11:07:24.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:07:24.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-09 11:07:24.000000] INFO: API操作 {"user_id":3,"action":"user_get_devices"}
[2026-01-09 11:07:24.000000] INFO: 获取用户设备列表请求 {"user_id":3}
[2026-01-09 11:07:24.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 11:07:24.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:07:24.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/status","path":"\/api\/status","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:07:24.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:07:24.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/device","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:07:24.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.030178070068359375}
[2026-01-09 11:07:24.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:07:24.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-09 11:07:24.000000] INFO: API操作 {"user_id":3,"action":"device_get_list"}
[2026-01-09 11:07:24.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:07:24.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/devices","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:07:24.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03011298179626465}
[2026-01-09 11:07:24.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:07:24.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-09 11:07:24.000000] INFO: API操作 {"user_id":3,"action":"user_get_devices"}
[2026-01-09 11:07:24.000000] INFO: 获取用户设备列表请求 {"user_id":3}
[2026-01-09 11:07:24.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 11:07:24.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:07:24.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/firmware","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:07:24.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.029597997665405273}
[2026-01-09 11:07:24.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:07:24.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-09 11:07:24.000000] INFO: API操作 {"user_id":3,"action":"firmware_get_versions"}
[2026-01-09 11:07:24.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:07:24.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/notification","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:07:24.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.029417991638183594}
[2026-01-09 11:07:24.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:07:24.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-09 11:07:24.000000] INFO: API操作 {"user_id":3,"action":"notification_get_list"}
[2026-01-09 11:09:09.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:09:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/device","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:09:09.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03378701210021973}
[2026-01-09 11:09:09.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:09:09.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-09 11:09:09.000000] INFO: API操作 {"user_id":3,"action":"device_get_list"}
[2026-01-09 11:09:09.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:09:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/devices","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:09:09.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.030354976654052734}
[2026-01-09 11:09:09.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:09:09.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-09 11:09:09.000000] INFO: API操作 {"user_id":3,"action":"user_get_devices"}
[2026-01-09 11:09:09.000000] INFO: 获取用户设备列表请求 {"user_id":3}
[2026-01-09 11:09:09.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 11:09:09.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:09:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/status","path":"\/api\/status","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:09:09.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:09:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/device","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:09:09.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03124713897705078}
[2026-01-09 11:09:09.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:09:09.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-09 11:09:09.000000] INFO: API操作 {"user_id":3,"action":"device_get_list"}
[2026-01-09 11:09:09.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:09:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/devices","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:09:09.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.02983999252319336}
[2026-01-09 11:09:09.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:09:09.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-09 11:09:09.000000] INFO: API操作 {"user_id":3,"action":"user_get_devices"}
[2026-01-09 11:09:09.000000] INFO: 获取用户设备列表请求 {"user_id":3}
[2026-01-09 11:09:09.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 11:09:09.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:09:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/firmware","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:09:09.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.029114961624145508}
[2026-01-09 11:09:09.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:09:09.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-09 11:09:09.000000] INFO: API操作 {"user_id":3,"action":"firmware_get_versions"}
[2026-01-09 11:09:09.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:09:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/notification","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:09:09.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0299530029296875}
[2026-01-09 11:09:09.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:09:09.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-09 11:09:09.000000] INFO: API操作 {"user_id":3,"action":"notification_get_list"}
[2026-01-09 11:09:34.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/login","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:09:34.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/user\/login","path":"\/api\/user\/login","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Content-Length":"39","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","Content-Type":"application\/json","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/login.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":"{\"username\":\"test\",\"password\":\"111111\"}"}}
[2026-01-09 11:09:34.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.04034614562988281}
[2026-01-09 11:09:34.000000] INFO: API操作 {"user_id":null,"action":"user_login"}
[2026-01-09 11:09:34.000000] INFO: 用户登录请求 {"username":"test"}
[2026-01-09 11:09:35.000000] INFO: 用户登录成功 {"username":"test"}
[2026-01-09 11:09:35.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:09:35.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:09:35.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03556489944458008}
[2026-01-09 11:09:35.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:09:35.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:09:35.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-09 11:09:35.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:09:35.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:09:35.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.035156965255737305}
[2026-01-09 11:09:35.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:09:35.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:09:35.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 11:09:35.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 11:09:35.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 11:09:35.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:09:35.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/status","path":"\/api\/status","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:09:35.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:09:35.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:09:35.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03207993507385254}
[2026-01-09 11:09:35.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:09:35.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:09:35.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-09 11:09:35.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:09:35.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:09:35.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.030627012252807617}
[2026-01-09 11:09:35.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:09:35.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:09:35.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 11:09:35.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 11:09:35.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 11:09:35.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:09:35.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/firmware","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:09:35.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.02981090545654297}
[2026-01-09 11:09:35.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:09:35.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:09:35.000000] INFO: API操作 {"user_id":1,"action":"firmware_get_versions"}
[2026-01-09 11:09:35.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:09:35.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/notification","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:09:35.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03154897689819336}
[2026-01-09 11:09:35.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:09:35.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:09:35.000000] INFO: API操作 {"user_id":1,"action":"notification_get_list"}
[2026-01-09 11:09:39.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:09:39.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f&user_id=1","path":"\/api\/notification","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","user_id":"1"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:09:39.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.033451080322265625}
[2026-01-09 11:09:39.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:09:39.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:09:39.000000] INFO: API操作 {"user_id":1,"action":"notification_get_list"}
[2026-01-09 11:09:39.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:09:39.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f&user_id=1","path":"\/api\/notification\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","user_id":"1"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:09:39.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03051614761352539}
[2026-01-09 11:09:39.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:09:39.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:09:39.000000] INFO: API操作 {"user_id":1,"notification_id":"stats","action":"notification_get_detail"}
[2026-01-09 11:09:45.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:09:45.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:09:45.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03746509552001953}
[2026-01-09 11:09:45.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:09:45.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:09:45.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 11:09:45.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 11:09:45.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 11:09:45.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:09:45.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:09:45.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.031471967697143555}
[2026-01-09 11:09:45.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:09:45.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:09:45.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 11:09:45.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 11:09:45.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 11:09:47.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:09:47.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f&user_id=1","path":"\/api\/notification","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","user_id":"1"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:09:47.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03863716125488281}
[2026-01-09 11:09:47.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:09:47.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:09:47.000000] INFO: API操作 {"user_id":1,"action":"notification_get_list"}
[2026-01-09 11:09:47.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:09:47.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f&user_id=1","path":"\/api\/notification\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","user_id":"1"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:09:47.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.031091928482055664}
[2026-01-09 11:09:47.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:09:47.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:09:47.000000] INFO: API操作 {"user_id":1,"notification_id":"stats","action":"notification_get_detail"}
[2026-01-09 11:09:50.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:09:50.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:09:50.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0396728515625}
[2026-01-09 11:09:50.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:09:50.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:09:50.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 11:09:50.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 11:09:50.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 11:09:50.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:09:50.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:09:50.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.030848979949951172}
[2026-01-09 11:09:50.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:09:50.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:09:50.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 11:09:50.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 11:09:50.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 11:09:52.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:09:52.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f&user_id=1","path":"\/api\/notification","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","user_id":"1"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:09:52.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.037010908126831055}
[2026-01-09 11:09:52.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:09:52.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:09:52.000000] INFO: API操作 {"user_id":1,"action":"notification_get_list"}
[2026-01-09 11:09:52.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:09:52.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f&user_id=1","path":"\/api\/notification\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","user_id":"1"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:09:52.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.029312849044799805}
[2026-01-09 11:09:52.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:09:52.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:09:52.000000] INFO: API操作 {"user_id":1,"notification_id":"stats","action":"notification_get_detail"}
[2026-01-09 11:09:56.000000] INFO: API请求 {"method":"GET","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:09:56.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/group?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/group","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:09:56.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.037158966064453125}
[2026-01-09 11:09:56.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:09:56.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:09:56.000000] INFO: API操作 {"user_id":1,"action":"device_group_get_list"}
[2026-01-09 11:09:56.000000] INFO: API请求 {"method":"GET","path":"\/api\/group","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:09:56.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/group?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/group","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:09:56.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03177499771118164}
[2026-01-09 11:09:56.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:09:56.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:09:56.000000] INFO: API操作 {"user_id":1,"action":"device_group_get_list"}
[2026-01-09 11:09:56.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:09:56.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/groups.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:09:56.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03231096267700195}
[2026-01-09 11:09:56.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:09:56.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:09:56.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-09 11:10:02.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:10:02.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:10:02.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.04130697250366211}
[2026-01-09 11:10:02.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:10:02.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:10:02.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_list"}
[2026-01-09 11:10:02.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:10:02.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:10:02.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03400111198425293}
[2026-01-09 11:10:02.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:10:02.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:10:02.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_stats"}
[2026-01-09 11:10:12.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/login","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:10:12.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/user\/login","path":"\/api\/user\/login","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Content-Length":"41","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","Content-Type":"application\/json","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/login.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":"{\"username\":\"iswhat\",\"password\":\"821118\"}"}}
[2026-01-09 11:10:12.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.030807971954345703}
[2026-01-09 11:10:12.000000] INFO: API操作 {"user_id":null,"action":"user_login"}
[2026-01-09 11:10:12.000000] INFO: 用户登录请求 {"username":"iswhat"}
[2026-01-09 11:10:13.000000] INFO: 用户登录成功 {"username":"iswhat"}
[2026-01-09 11:10:13.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:10:13.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/device","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:10:13.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03709697723388672}
[2026-01-09 11:10:13.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:10:13.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-09 11:10:13.000000] INFO: API操作 {"user_id":3,"action":"device_get_list"}
[2026-01-09 11:10:13.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:10:13.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/devices","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:10:13.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03460502624511719}
[2026-01-09 11:10:13.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:10:13.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-09 11:10:13.000000] INFO: API操作 {"user_id":3,"action":"user_get_devices"}
[2026-01-09 11:10:13.000000] INFO: 获取用户设备列表请求 {"user_id":3}
[2026-01-09 11:10:13.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 11:10:13.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:10:13.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/status","path":"\/api\/status","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:10:13.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:10:13.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/device","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:10:13.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03819704055786133}
[2026-01-09 11:10:13.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:10:13.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-09 11:10:13.000000] INFO: API操作 {"user_id":3,"action":"device_get_list"}
[2026-01-09 11:10:13.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:10:13.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/user\/devices","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:10:13.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.037138938903808594}
[2026-01-09 11:10:13.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:10:13.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-09 11:10:13.000000] INFO: API操作 {"user_id":3,"action":"user_get_devices"}
[2026-01-09 11:10:13.000000] INFO: 获取用户设备列表请求 {"user_id":3}
[2026-01-09 11:10:13.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 11:10:13.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:10:13.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/firmware","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:10:13.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03128194808959961}
[2026-01-09 11:10:13.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:10:13.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-09 11:10:13.000000] INFO: API操作 {"user_id":3,"action":"firmware_get_versions"}
[2026-01-09 11:10:13.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:10:13.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/notification","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:10:14.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.04465198516845703}
[2026-01-09 11:10:14.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:10:14.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-09 11:10:14.000000] INFO: API操作 {"user_id":3,"action":"notification_get_list"}
[2026-01-09 11:10:45.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:10:45.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/notification","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:10:45.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03551888465881348}
[2026-01-09 11:10:45.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:10:45.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-09 11:10:45.000000] INFO: API操作 {"user_id":3,"action":"notification_get_list"}
[2026-01-09 11:10:45.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:10:45.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification\/stats?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/notification\/stats","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:10:45.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03144192695617676}
[2026-01-09 11:10:45.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:10:45.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-09 11:10:45.000000] INFO: API操作 {"user_id":3,"notification_id":"stats","action":"notification_get_detail"}
[2026-01-09 11:10:47.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:10:47.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/notification","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:10:47.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.034178972244262695}
[2026-01-09 11:10:47.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:10:47.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-09 11:10:47.000000] INFO: API操作 {"user_id":3,"action":"notification_get_list"}
[2026-01-09 11:10:47.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:10:47.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification\/stats?api_key=0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc","path":"\/api\/notification\/stats","query":{"api_key":"0a1857e6117f11d2d4312443e18bdadae70aa1d5acbb3e73f6e610118aad2dfc"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:10:47.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.029667139053344727}
[2026-01-09 11:10:47.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:10:47.000000] INFO: API密钥验证成功 {"username":"iswhat","ip":"::1"}
[2026-01-09 11:10:47.000000] INFO: API操作 {"user_id":3,"notification_id":"stats","action":"notification_get_detail"}
[2026-01-09 11:11:05.000000] INFO: API请求 {"method":"POST","path":"\/api\/user\/login","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:11:05.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/user\/login","path":"\/api\/user\/login","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Content-Length":"39","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","Content-Type":"application\/json","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/login.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":"{\"username\":\"test\",\"password\":\"111111\"}"}}
[2026-01-09 11:11:05.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03106093406677246}
[2026-01-09 11:11:05.000000] INFO: API操作 {"user_id":null,"action":"user_login"}
[2026-01-09 11:11:05.000000] INFO: 用户登录请求 {"username":"test"}
[2026-01-09 11:11:06.000000] INFO: 用户登录成功 {"username":"test"}
[2026-01-09 11:11:06.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:11:06.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:11:06.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03403306007385254}
[2026-01-09 11:11:06.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:11:06.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:11:06.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-09 11:11:06.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:11:06.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:11:06.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03041696548461914}
[2026-01-09 11:11:06.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:11:06.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:11:06.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 11:11:06.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 11:11:06.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 11:11:07.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:11:07.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/status","path":"\/api\/status","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:11:07.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:11:07.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:11:07.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.035893917083740234}
[2026-01-09 11:11:07.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:11:07.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:11:07.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-09 11:11:07.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:11:07.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:11:07.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03212404251098633}
[2026-01-09 11:11:07.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:11:07.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:11:07.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 11:11:07.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 11:11:07.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 11:11:07.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:11:07.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/firmware","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:11:07.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.030970096588134766}
[2026-01-09 11:11:07.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:11:07.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:11:07.000000] INFO: API操作 {"user_id":1,"action":"firmware_get_versions"}
[2026-01-09 11:11:07.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:11:07.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/notification","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:11:07.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03371596336364746}
[2026-01-09 11:11:07.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:11:07.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:11:07.000000] INFO: API操作 {"user_id":1,"action":"notification_get_list"}
[2026-01-09 11:11:11.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:11:11.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f&user_id=1","path":"\/api\/notification","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","user_id":"1"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:11:11.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0482180118560791}
[2026-01-09 11:11:11.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:11:11.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:11:11.000000] INFO: API操作 {"user_id":1,"action":"notification_get_list"}
[2026-01-09 11:11:11.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 11:11:11.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f&user_id=1","path":"\/api\/notification\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","user_id":"1"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 11:11:11.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03286314010620117}
[2026-01-09 11:11:11.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:11:11.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:11:11.000000] INFO: API操作 {"user_id":1,"notification_id":"stats","action":"notification_get_detail"}
[2026-01-09 11:29:04.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 11:29:04.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/{id}","POST \/api\/plugin","POST \/api\/plugin\/upload","PUT \/api\/plugin\/{index}","PUT \/api\/plugin\/{index}\/toggle","DELETE \/api\/plugin\/{index}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:29:04.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 11:29:04.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 11:29:04.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767929344204","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 11:29:04.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03461503982543945}
[2026-01-09 11:29:04.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:29:04.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:29:04.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_list"}
[2026-01-09 11:29:04.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-09 11:29:04.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/{id}","POST \/api\/plugin","POST \/api\/plugin\/upload","PUT \/api\/plugin\/{index}","PUT \/api\/plugin\/{index}\/toggle","DELETE \/api\/plugin\/{index}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 11:29:04.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin\/stats","handler":"PluginController@getPluginStats","matches":["\/api\/plugin\/stats"]}
[2026-01-09 11:29:04.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 11:29:04.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767929344204","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 11:29:04.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.029853105545043945}
[2026-01-09 11:29:04.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:29:04.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:29:04.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_stats"}
[2026-01-09 11:29:04.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/{id}","POST \/api\/plugin","POST \/api\/plugin\/upload","PUT \/api\/plugin\/{index}","PUT \/api\/plugin\/{index}\/toggle","DELETE \/api\/plugin\/{index}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/{id}","route_path":"\/api\/plugin\/{id}","pattern":"\/^\\\/api\\\/plugin\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/status","route_path":"\/api\/status","pattern":"\/^\\\/api\\\/status$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/settings","route_path":"\/api\/system\/settings","pattern":"\/^\\\/api\\\/system\\\/settings$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/info","route_path":"\/api\/system\/info","pattern":"\/^\\\/api\\\/system\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/database\/backup","route_path":"\/api\/system\/database\/backup","pattern":"\/^\\\/api\\\/system\\\/database\\\/backup$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:04.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 11:29:04.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767929344204","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 11:29:04.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/notification"}
[2026-01-09 11:29:32.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/{id}","POST \/api\/plugin","POST \/api\/plugin\/upload","PUT \/api\/plugin\/{index}","PUT \/api\/plugin\/{index}\/toggle","DELETE \/api\/plugin\/{index}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/notification"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/notification"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/notification"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/notification"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/notification"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/notification"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/notification"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/notification"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/notification"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/notification"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/notification"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/notification"}
[2026-01-09 11:29:32.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/notification","handler":"NotificationController@getNotifications","matches":["\/api\/notification"]}
[2026-01-09 11:29:32.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 11:29:32.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f&user_id=1","path":"\/api\/notification","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","user_id":"1"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html?ide_webview_request_time=1767929371887","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 11:29:32.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03468585014343262}
[2026-01-09 11:29:32.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:29:32.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:29:32.000000] INFO: API操作 {"user_id":1,"action":"notification_get_list"}
[2026-01-09 11:29:32.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/notification\/stats"}
[2026-01-09 11:29:32.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/{id}","POST \/api\/plugin","POST \/api\/plugin\/upload","PUT \/api\/plugin\/{index}","PUT \/api\/plugin\/{index}\/toggle","DELETE \/api\/plugin\/{index}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:29:32.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/notification\/stats","handler":"NotificationController@getNotificationStats","matches":["\/api\/notification\/stats"]}
[2026-01-09 11:29:32.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 11:29:32.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f&user_id=1","path":"\/api\/notification\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","user_id":"1"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html?ide_webview_request_time=1767929371887","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 11:29:32.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03469109535217285}
[2026-01-09 11:29:32.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:29:32.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:29:32.000000] INFO: API操作 {"user_id":1,"action":"notification_get_stats"}
[2026-01-09 11:29:32.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/{id}","POST \/api\/plugin","POST \/api\/plugin\/upload","PUT \/api\/plugin\/{index}","PUT \/api\/plugin\/{index}\/toggle","DELETE \/api\/plugin\/{index}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/{id}","route_path":"\/api\/plugin\/{id}","pattern":"\/^\\\/api\\\/plugin\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/status","route_path":"\/api\/status","pattern":"\/^\\\/api\\\/status$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/settings","route_path":"\/api\/system\/settings","pattern":"\/^\\\/api\\\/system\\\/settings$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/info","route_path":"\/api\/system\/info","pattern":"\/^\\\/api\\\/system\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/database\/backup","route_path":"\/api\/system\/database\/backup","pattern":"\/^\\\/api\\\/system\\\/database\\\/backup$\/","request_path":"\/@vite\/client"}
[2026-01-09 11:29:32.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 11:29:32.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/notifications.html?ide_webview_request_time=1767929371887","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 11:29:32.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 11:43:04.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/notification\/stats"}
[2026-01-09 11:43:04.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/{id}","POST \/api\/plugin","POST \/api\/plugin\/upload","PUT \/api\/plugin\/{index}","PUT \/api\/plugin\/{index}\/toggle","DELETE \/api\/plugin\/{index}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 11:43:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:43:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:43:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:43:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:43:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:43:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:43:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:43:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:43:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:43:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:43:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:43:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:43:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:43:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:43:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:43:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:43:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:43:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:43:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:43:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:43:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:43:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:43:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:43:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:43:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 11:43:04.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/notification\/stats","handler":"NotificationController@getNotificationStats","matches":["\/api\/notification\/stats"]}
[2026-01-09 11:43:04.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 11:43:04.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f&user_id=1","path":"\/api\/notification\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","user_id":"1"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000","Connection":"Keep-Alive"},"body":""}}
[2026-01-09 11:43:04.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.04375004768371582}
[2026-01-09 11:43:04.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 11:43:04.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 11:43:04.000000] INFO: API操作 {"user_id":1,"action":"notification_get_stats"}
[2026-01-09 11:46:59.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 11:46:59.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/{id}","POST \/api\/plugin","POST \/api\/plugin\/upload","PUT \/api\/plugin\/{index}","PUT \/api\/plugin\/{index}\/toggle","DELETE \/api\/plugin\/{index}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 11:46:59.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:46:59.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:46:59.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:46:59.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:46:59.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:46:59.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:46:59.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:46:59.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:46:59.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:46:59.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:46:59.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:46:59.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:46:59.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:46:59.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:46:59.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:46:59.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:46:59.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:46:59.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:46:59.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:46:59.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:46:59.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:46:59.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:46:59.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:46:59.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:46:59.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:46:59.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:46:59.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:46:59.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 11:46:59.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 11:46:59.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin","path":"\/api\/plugin","query":[],"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000","Connection":"Keep-Alive"},"body":""}}
[2026-01-09 11:46:59.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03798699378967285}
[2026-01-09 11:48:23.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 11:48:23.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/{id}","POST \/api\/plugin","POST \/api\/plugin\/upload","PUT \/api\/plugin\/{index}","PUT \/api\/plugin\/{index}\/toggle","DELETE \/api\/plugin\/{index}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 11:48:23.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:48:23.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:48:23.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:48:23.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:48:23.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:48:23.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:48:23.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:48:23.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:48:23.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:48:23.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:48:23.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:48:23.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:48:23.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:48:23.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:48:23.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:48:23.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:48:23.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:48:23.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:48:23.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:48:23.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:48:23.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:48:23.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:48:23.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:48:23.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:48:23.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:48:23.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:48:23.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:48:23.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 11:48:23.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 11:48:23.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin","path":"\/api\/plugin","query":[],"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000"},"body":""}}
[2026-01-09 11:48:23.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.05968189239501953}
[2026-01-09 11:49:30.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 11:49:30.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/{id}","POST \/api\/plugin","POST \/api\/plugin\/upload","PUT \/api\/plugin\/{index}","PUT \/api\/plugin\/{index}\/toggle","DELETE \/api\/plugin\/{index}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 11:49:30.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:49:30.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:49:30.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:49:30.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:49:30.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:49:30.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:49:30.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:49:30.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:49:30.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:49:30.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:49:30.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:49:30.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:49:30.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:49:30.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:49:30.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:49:30.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:49:30.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:49:30.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:49:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:49:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:49:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:49:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:49:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:49:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:49:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:49:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:49:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 11:49:31.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 11:49:31.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 11:49:31.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin","path":"\/api\/plugin","query":[],"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000"},"body":""}}
[2026-01-09 11:49:31.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.045799970626831055}
[2026-01-09 12:02:13.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 12:02:13.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/{id}","POST \/api\/plugin","POST \/api\/plugin\/upload","PUT \/api\/plugin\/{index}","PUT \/api\/plugin\/{index}\/toggle","DELETE \/api\/plugin\/{index}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 12:02:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:13.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 12:02:13.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 12:02:13.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin","path":"\/api\/plugin","query":[],"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000","Connection":"Keep-Alive"},"body":""}}
[2026-01-09 12:02:13.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03987002372741699}
[2026-01-09 12:02:36.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 12:02:36.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/{id}","POST \/api\/plugin","POST \/api\/plugin\/upload","PUT \/api\/plugin\/{index}","PUT \/api\/plugin\/{index}\/toggle","DELETE \/api\/plugin\/{index}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 12:02:36.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:36.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:36.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:36.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:36.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:36.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:36.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:36.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:36.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:36.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:36.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:36.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:36.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:36.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:36.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:36.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:36.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:36.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:36.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:36.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:36.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:36.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:36.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:36.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:36.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:36.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:36.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:02:36.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 12:02:36.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 12:02:36.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin","path":"\/api\/plugin","query":[],"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000"},"body":""}}
[2026-01-09 12:02:36.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03968000411987305}
[2026-01-09 12:03:19.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 12:03:19.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/{id}","POST \/api\/plugin","POST \/api\/plugin\/upload","PUT \/api\/plugin\/{index}","PUT \/api\/plugin\/{index}\/toggle","DELETE \/api\/plugin\/{index}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 12:03:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:03:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:03:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:03:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:03:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:03:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:03:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:03:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:03:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:03:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:03:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:03:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:03:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:03:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:03:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:03:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:03:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:03:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:03:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:03:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:03:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:03:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:03:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:03:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:03:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:03:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:03:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:03:19.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 12:03:19.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 12:03:19.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin","path":"\/api\/plugin","query":[],"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000"},"body":""}}
[2026-01-09 12:03:19.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.04180598258972168}
[2026-01-09 12:03:33.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/notification\/stats"}
[2026-01-09 12:03:33.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/{id}","POST \/api\/plugin","POST \/api\/plugin\/upload","PUT \/api\/plugin\/{index}","PUT \/api\/plugin\/{index}\/toggle","DELETE \/api\/plugin\/{index}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 12:03:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 12:03:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 12:03:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 12:03:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 12:03:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 12:03:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 12:03:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 12:03:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 12:03:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 12:03:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 12:03:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 12:03:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 12:03:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 12:03:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 12:03:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 12:03:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 12:03:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 12:03:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 12:03:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 12:03:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 12:03:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 12:03:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 12:03:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 12:03:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 12:03:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 12:03:33.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/notification\/stats","handler":"NotificationController@getNotificationStats","matches":["\/api\/notification\/stats"]}
[2026-01-09 12:03:33.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 12:03:33.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification\/stats","path":"\/api\/notification\/stats","query":[],"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000"},"body":""}}
[2026-01-09 12:03:33.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.03614687919616699}
[2026-01-09 12:10:20.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 12:10:20.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/{id}","POST \/api\/plugin","POST \/api\/plugin\/upload","PUT \/api\/plugin\/{index}","PUT \/api\/plugin\/{index}\/toggle","DELETE \/api\/plugin\/{index}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:10:20.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 12:10:20.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 12:10:20.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767931820371","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 12:10:20.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.21381902694702148}
[2026-01-09 12:10:20.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 12:10:20.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 12:10:20.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_list"}
[2026-01-09 12:10:20.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-09 12:10:20.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/{id}","POST \/api\/plugin","POST \/api\/plugin\/upload","PUT \/api\/plugin\/{index}","PUT \/api\/plugin\/{index}\/toggle","DELETE \/api\/plugin\/{index}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:10:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:10:20.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin\/stats","handler":"PluginController@getPluginStats","matches":["\/api\/plugin\/stats"]}
[2026-01-09 12:10:20.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 12:10:20.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767931820371","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 12:10:20.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.034036874771118164}
[2026-01-09 12:10:20.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 12:10:20.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 12:10:20.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_stats"}
[2026-01-09 12:10:21.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/{id}","POST \/api\/plugin","POST \/api\/plugin\/upload","PUT \/api\/plugin\/{index}","PUT \/api\/plugin\/{index}\/toggle","DELETE \/api\/plugin\/{index}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 12:10:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/{id}","route_path":"\/api\/plugin\/{id}","pattern":"\/^\\\/api\\\/plugin\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/status","route_path":"\/api\/status","pattern":"\/^\\\/api\\\/status$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/settings","route_path":"\/api\/system\/settings","pattern":"\/^\\\/api\\\/system\\\/settings$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/info","route_path":"\/api\/system\/info","pattern":"\/^\\\/api\\\/system\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/database\/backup","route_path":"\/api\/system\/database\/backup","pattern":"\/^\\\/api\\\/system\\\/database\\\/backup$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:10:21.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 12:10:21.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767931820371","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 12:10:21.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 12:27:17.000000] INFO: 路由匹配开始 {"method":"POST","path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:17.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 12:27:17.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/register","route_path":"\/api\/user\/register","pattern":"\/^\\\/api\\\/user\\\/register$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:17.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/login","route_path":"\/api\/user\/login","pattern":"\/^\\\/api\\\/user\\\/login$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:17.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/bind","route_path":"\/api\/user\/bind","pattern":"\/^\\\/api\\\/user\\\/bind$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:17.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/unbind","route_path":"\/api\/user\/unbind","pattern":"\/^\\\/api\\\/user\\\/unbind$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:17.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/first-admin","route_path":"\/api\/user\/first-admin","pattern":"\/^\\\/api\\\/user\\\/first-admin$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:17.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:17.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:17.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/message","route_path":"\/api\/message","pattern":"\/^\\\/api\\\/message$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:17.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:17.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:17.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/group\/add_device","route_path":"\/api\/group\/add_device","pattern":"\/^\\\/api\\\/group\\\/add_device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:17.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/group\/remove_device","route_path":"\/api\/group\/remove_device","pattern":"\/^\\\/api\\\/group\\\/remove_device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:17.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:17.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/add_device","route_path":"\/api\/tag\/add_device","pattern":"\/^\\\/api\\\/tag\\\/add_device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:17.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/remove_device","route_path":"\/api\/tag\/remove_device","pattern":"\/^\\\/api\\\/tag\\\/remove_device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:17.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/batch_add","route_path":"\/api\/tag\/batch_add","pattern":"\/^\\\/api\\\/tag\\\/batch_add$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:17.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/batch_remove","route_path":"\/api\/tag\/batch_remove","pattern":"\/^\\\/api\\\/tag\\\/batch_remove$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:17.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:17.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/push_task\/add_log","route_path":"\/api\/push_task\/add_log","pattern":"\/^\\\/api\\\/push_task\\\/add_log$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:17.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/push_task\/batch_log","route_path":"\/api\/push_task\/batch_log","pattern":"\/^\\\/api\\\/push_task\\\/batch_log$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:17.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/notification\/publish","route_path":"\/api\/notification\/publish","pattern":"\/^\\\/api\\\/notification\\\/publish$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:17.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","route_path":"\/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)\\\/enable\\\/(?P<pluginId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:17.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","route_path":"\/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)\\\/disable\\\/(?P<pluginId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:17.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/external","route_path":"\/api\/plugin\/external","pattern":"\/^\\\/api\\\/plugin\\\/external$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:17.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/upload","route_path":"\/api\/plugin\/upload","pattern":"\/^\\\/api\\\/plugin\\\/upload$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:17.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/approve\/{id}","route_path":"\/api\/plugin\/approve\/{id}","pattern":"\/^\\\/api\\\/plugin\\\/approve\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:17.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/initialize","route_path":"\/api\/plugin\/initialize","pattern":"\/^\\\/api\\\/plugin\\\/initialize$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:17.000000] INFO: 路由匹配成功 {"route_pattern":"POST \/api\/plugin\/initialize","handler":"PluginController@initializePlugins","matches":["\/api\/plugin\/initialize"]}
[2026-01-09 12:27:17.000000] INFO: API请求 {"method":"POST","path":"\/api\/plugin\/initialize","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 12:27:17.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/plugin\/initialize?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/initialize","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Content-Type":"application\/x-www-form-urlencoded","Host":"localhost:8000","Content-Length":"0","Connection":"Keep-Alive"},"body":""}}
[2026-01-09 12:27:39.000000] INFO: 路由匹配开始 {"method":"POST","path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:39.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 12:27:39.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/register","route_path":"\/api\/user\/register","pattern":"\/^\\\/api\\\/user\\\/register$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:39.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/login","route_path":"\/api\/user\/login","pattern":"\/^\\\/api\\\/user\\\/login$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:39.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/bind","route_path":"\/api\/user\/bind","pattern":"\/^\\\/api\\\/user\\\/bind$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:39.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/unbind","route_path":"\/api\/user\/unbind","pattern":"\/^\\\/api\\\/user\\\/unbind$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:39.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/first-admin","route_path":"\/api\/user\/first-admin","pattern":"\/^\\\/api\\\/user\\\/first-admin$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:39.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:39.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:39.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/message","route_path":"\/api\/message","pattern":"\/^\\\/api\\\/message$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:39.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:39.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:39.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/group\/add_device","route_path":"\/api\/group\/add_device","pattern":"\/^\\\/api\\\/group\\\/add_device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:39.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/group\/remove_device","route_path":"\/api\/group\/remove_device","pattern":"\/^\\\/api\\\/group\\\/remove_device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:39.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:39.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/add_device","route_path":"\/api\/tag\/add_device","pattern":"\/^\\\/api\\\/tag\\\/add_device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:39.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/remove_device","route_path":"\/api\/tag\/remove_device","pattern":"\/^\\\/api\\\/tag\\\/remove_device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:39.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/batch_add","route_path":"\/api\/tag\/batch_add","pattern":"\/^\\\/api\\\/tag\\\/batch_add$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:39.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/batch_remove","route_path":"\/api\/tag\/batch_remove","pattern":"\/^\\\/api\\\/tag\\\/batch_remove$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:39.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:39.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/push_task\/add_log","route_path":"\/api\/push_task\/add_log","pattern":"\/^\\\/api\\\/push_task\\\/add_log$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:39.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/push_task\/batch_log","route_path":"\/api\/push_task\/batch_log","pattern":"\/^\\\/api\\\/push_task\\\/batch_log$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:39.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/notification\/publish","route_path":"\/api\/notification\/publish","pattern":"\/^\\\/api\\\/notification\\\/publish$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:39.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","route_path":"\/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)\\\/enable\\\/(?P<pluginId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:39.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","route_path":"\/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)\\\/disable\\\/(?P<pluginId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:39.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/external","route_path":"\/api\/plugin\/external","pattern":"\/^\\\/api\\\/plugin\\\/external$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:39.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/upload","route_path":"\/api\/plugin\/upload","pattern":"\/^\\\/api\\\/plugin\\\/upload$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:39.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/approve\/{id}","route_path":"\/api\/plugin\/approve\/{id}","pattern":"\/^\\\/api\\\/plugin\\\/approve\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:39.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/initialize","route_path":"\/api\/plugin\/initialize","pattern":"\/^\\\/api\\\/plugin\\\/initialize$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:27:39.000000] INFO: 路由匹配成功 {"route_pattern":"POST \/api\/plugin\/initialize","handler":"PluginController@initializePlugins","matches":["\/api\/plugin\/initialize"]}
[2026-01-09 12:27:39.000000] INFO: API请求 {"method":"POST","path":"\/api\/plugin\/initialize","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 12:27:39.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/plugin\/initialize?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/initialize","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Content-Type":"application\/x-www-form-urlencoded","Host":"localhost:8000","Content-Length":"0"},"body":""}}
[2026-01-09 12:28:28.000000] INFO: 路由匹配开始 {"method":"POST","path":"\/api\/plugin\/initialize"}
[2026-01-09 12:28:28.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 12:28:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/register","route_path":"\/api\/user\/register","pattern":"\/^\\\/api\\\/user\\\/register$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:28:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/login","route_path":"\/api\/user\/login","pattern":"\/^\\\/api\\\/user\\\/login$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:28:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/bind","route_path":"\/api\/user\/bind","pattern":"\/^\\\/api\\\/user\\\/bind$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:28:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/unbind","route_path":"\/api\/user\/unbind","pattern":"\/^\\\/api\\\/user\\\/unbind$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:28:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/first-admin","route_path":"\/api\/user\/first-admin","pattern":"\/^\\\/api\\\/user\\\/first-admin$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:28:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:28:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:28:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/message","route_path":"\/api\/message","pattern":"\/^\\\/api\\\/message$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:28:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:28:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:28:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/group\/add_device","route_path":"\/api\/group\/add_device","pattern":"\/^\\\/api\\\/group\\\/add_device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:28:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/group\/remove_device","route_path":"\/api\/group\/remove_device","pattern":"\/^\\\/api\\\/group\\\/remove_device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:28:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:28:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/add_device","route_path":"\/api\/tag\/add_device","pattern":"\/^\\\/api\\\/tag\\\/add_device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:28:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/remove_device","route_path":"\/api\/tag\/remove_device","pattern":"\/^\\\/api\\\/tag\\\/remove_device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:28:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/batch_add","route_path":"\/api\/tag\/batch_add","pattern":"\/^\\\/api\\\/tag\\\/batch_add$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:28:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/batch_remove","route_path":"\/api\/tag\/batch_remove","pattern":"\/^\\\/api\\\/tag\\\/batch_remove$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:28:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:28:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/push_task\/add_log","route_path":"\/api\/push_task\/add_log","pattern":"\/^\\\/api\\\/push_task\\\/add_log$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:28:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/push_task\/batch_log","route_path":"\/api\/push_task\/batch_log","pattern":"\/^\\\/api\\\/push_task\\\/batch_log$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:28:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/notification\/publish","route_path":"\/api\/notification\/publish","pattern":"\/^\\\/api\\\/notification\\\/publish$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:28:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","route_path":"\/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)\\\/enable\\\/(?P<pluginId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:28:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","route_path":"\/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)\\\/disable\\\/(?P<pluginId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:28:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/external","route_path":"\/api\/plugin\/external","pattern":"\/^\\\/api\\\/plugin\\\/external$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:28:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/upload","route_path":"\/api\/plugin\/upload","pattern":"\/^\\\/api\\\/plugin\\\/upload$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:28:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/approve\/{id}","route_path":"\/api\/plugin\/approve\/{id}","pattern":"\/^\\\/api\\\/plugin\\\/approve\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:28:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/initialize","route_path":"\/api\/plugin\/initialize","pattern":"\/^\\\/api\\\/plugin\\\/initialize$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:28:28.000000] INFO: 路由匹配成功 {"route_pattern":"POST \/api\/plugin\/initialize","handler":"PluginController@initializePlugins","matches":["\/api\/plugin\/initialize"]}
[2026-01-09 12:28:28.000000] INFO: API请求 {"method":"POST","path":"\/api\/plugin\/initialize","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 12:28:28.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/plugin\/initialize?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/initialize","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Content-Type":"application\/x-www-form-urlencoded","Host":"localhost:8000","Content-Length":"0"},"body":""}}
[2026-01-09 12:29:27.000000] INFO: 路由匹配开始 {"method":"POST","path":"\/api\/plugin\/initialize"}
[2026-01-09 12:29:27.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 12:29:27.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/register","route_path":"\/api\/user\/register","pattern":"\/^\\\/api\\\/user\\\/register$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:29:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/login","route_path":"\/api\/user\/login","pattern":"\/^\\\/api\\\/user\\\/login$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:29:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/bind","route_path":"\/api\/user\/bind","pattern":"\/^\\\/api\\\/user\\\/bind$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:29:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/unbind","route_path":"\/api\/user\/unbind","pattern":"\/^\\\/api\\\/user\\\/unbind$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:29:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/first-admin","route_path":"\/api\/user\/first-admin","pattern":"\/^\\\/api\\\/user\\\/first-admin$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:29:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:29:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:29:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/message","route_path":"\/api\/message","pattern":"\/^\\\/api\\\/message$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:29:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:29:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:29:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/group\/add_device","route_path":"\/api\/group\/add_device","pattern":"\/^\\\/api\\\/group\\\/add_device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:29:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/group\/remove_device","route_path":"\/api\/group\/remove_device","pattern":"\/^\\\/api\\\/group\\\/remove_device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:29:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:29:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/add_device","route_path":"\/api\/tag\/add_device","pattern":"\/^\\\/api\\\/tag\\\/add_device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:29:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/remove_device","route_path":"\/api\/tag\/remove_device","pattern":"\/^\\\/api\\\/tag\\\/remove_device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:29:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/batch_add","route_path":"\/api\/tag\/batch_add","pattern":"\/^\\\/api\\\/tag\\\/batch_add$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:29:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/batch_remove","route_path":"\/api\/tag\/batch_remove","pattern":"\/^\\\/api\\\/tag\\\/batch_remove$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:29:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:29:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/push_task\/add_log","route_path":"\/api\/push_task\/add_log","pattern":"\/^\\\/api\\\/push_task\\\/add_log$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:29:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/push_task\/batch_log","route_path":"\/api\/push_task\/batch_log","pattern":"\/^\\\/api\\\/push_task\\\/batch_log$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:29:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/notification\/publish","route_path":"\/api\/notification\/publish","pattern":"\/^\\\/api\\\/notification\\\/publish$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:29:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","route_path":"\/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)\\\/enable\\\/(?P<pluginId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:29:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","route_path":"\/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)\\\/disable\\\/(?P<pluginId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:29:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/external","route_path":"\/api\/plugin\/external","pattern":"\/^\\\/api\\\/plugin\\\/external$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:29:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/upload","route_path":"\/api\/plugin\/upload","pattern":"\/^\\\/api\\\/plugin\\\/upload$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:29:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/approve\/{id}","route_path":"\/api\/plugin\/approve\/{id}","pattern":"\/^\\\/api\\\/plugin\\\/approve\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:29:28.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/initialize","route_path":"\/api\/plugin\/initialize","pattern":"\/^\\\/api\\\/plugin\\\/initialize$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 12:29:28.000000] INFO: 路由匹配成功 {"route_pattern":"POST \/api\/plugin\/initialize","handler":"PluginController@initializePlugins","matches":["\/api\/plugin\/initialize"]}
[2026-01-09 12:29:28.000000] INFO: API请求 {"method":"POST","path":"\/api\/plugin\/initialize","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 12:29:28.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/plugin\/initialize?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/initialize","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Content-Type":"application\/x-www-form-urlencoded","Host":"localhost:8000","Content-Length":"0"},"body":""}}
[2026-01-09 12:32:13.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 12:32:13.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 12:32:13.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 12:32:13.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 12:32:13.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767933133194","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 12:32:13.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-09 12:32:13.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 12:32:13.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin\/stats","handler":"PluginController@getPluginStats","matches":["\/api\/plugin\/stats"]}
[2026-01-09 12:32:13.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 12:32:13.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767933133194","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 12:32:13.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/device\/{deviceId}","route_path":"\/api\/plugin\/device\/{deviceId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/pending","route_path":"\/api\/plugin\/pending","pattern":"\/^\\\/api\\\/plugin\\\/pending$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/status","route_path":"\/api\/status","pattern":"\/^\\\/api\\\/status$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/settings","route_path":"\/api\/system\/settings","pattern":"\/^\\\/api\\\/system\\\/settings$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/info","route_path":"\/api\/system\/info","pattern":"\/^\\\/api\\\/system\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/database\/backup","route_path":"\/api\/system\/database\/backup","pattern":"\/^\\\/api\\\/system\\\/database\\\/backup$\/","request_path":"\/@vite\/client"}
[2026-01-09 12:32:13.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 12:32:13.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767933133194","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 12:32:13.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 13:02:31.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:02:31.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 13:02:31.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 13:02:31.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767934951035","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 13:02:31.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-09 13:02:31.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:02:31.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin\/stats","handler":"PluginController@getPluginStats","matches":["\/api\/plugin\/stats"]}
[2026-01-09 13:02:31.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 13:02:31.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767934951035","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 13:02:31.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/device\/{deviceId}","route_path":"\/api\/plugin\/device\/{deviceId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/pending","route_path":"\/api\/plugin\/pending","pattern":"\/^\\\/api\\\/plugin\\\/pending$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/status","route_path":"\/api\/status","pattern":"\/^\\\/api\\\/status$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/settings","route_path":"\/api\/system\/settings","pattern":"\/^\\\/api\\\/system\\\/settings$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/info","route_path":"\/api\/system\/info","pattern":"\/^\\\/api\\\/system\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/database\/backup","route_path":"\/api\/system\/database\/backup","pattern":"\/^\\\/api\\\/system\\\/database\\\/backup$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:02:31.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 13:02:31.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767934951035","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 13:02:31.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 13:05:19.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/notification"}
[2026-01-09 13:05:19.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/notification"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/notification"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/notification"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/notification"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/notification"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/notification"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/notification"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/notification"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/notification"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/notification"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/notification"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/notification"}
[2026-01-09 13:05:19.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/notification","handler":"NotificationController@getNotifications","matches":["\/api\/notification"]}
[2026-01-09 13:05:19.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 13:05:19.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f&user_id=1","path":"\/api\/notification","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","user_id":"1"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 13:05:19.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/notification\/stats"}
[2026-01-09 13:05:19.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 13:05:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 13:05:19.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/notification\/stats","handler":"NotificationController@getNotificationStats","matches":["\/api\/notification\/stats"]}
[2026-01-09 13:05:19.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 13:05:19.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f&user_id=1","path":"\/api\/notification\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","user_id":"1"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 13:05:21.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 13:05:21.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:05:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:21.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:21.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 13:05:21.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 13:05:21.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 13:05:22.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:22.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:05:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:22.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin\/stats","handler":"PluginController@getPluginStats","matches":["\/api\/plugin\/stats"]}
[2026-01-09 13:05:22.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 13:05:22.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 13:05:24.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 13:05:24.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:05:24.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 13:05:24.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 13:05:24.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 13:05:24.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:24.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:05:24.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin\/stats","handler":"PluginController@getPluginStats","matches":["\/api\/plugin\/stats"]}
[2026-01-09 13:05:24.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 13:05:24.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 13:09:42.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 13:09:42.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:09:42.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 13:09:42.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 13:09:42.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767935381953","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 13:09:42.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-09 13:09:42.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:09:42.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin\/stats","handler":"PluginController@getPluginStats","matches":["\/api\/plugin\/stats"]}
[2026-01-09 13:09:42.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 13:09:42.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767935381953","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 13:09:42.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/device\/{deviceId}","route_path":"\/api\/plugin\/device\/{deviceId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/pending","route_path":"\/api\/plugin\/pending","pattern":"\/^\\\/api\\\/plugin\\\/pending$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/status","route_path":"\/api\/status","pattern":"\/^\\\/api\\\/status$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/settings","route_path":"\/api\/system\/settings","pattern":"\/^\\\/api\\\/system\\\/settings$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/info","route_path":"\/api\/system\/info","pattern":"\/^\\\/api\\\/system\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/database\/backup","route_path":"\/api\/system\/database\/backup","pattern":"\/^\\\/api\\\/system\\\/database\\\/backup$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:09:42.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 13:09:42.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767935381953","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 13:09:42.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 13:11:20.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:11:20.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 13:11:20.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 13:11:20.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767935480006","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 13:11:20.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-09 13:11:20.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:11:20.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin\/stats","handler":"PluginController@getPluginStats","matches":["\/api\/plugin\/stats"]}
[2026-01-09 13:11:20.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 13:11:20.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767935480006","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 13:11:20.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/device\/{deviceId}","route_path":"\/api\/plugin\/device\/{deviceId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/pending","route_path":"\/api\/plugin\/pending","pattern":"\/^\\\/api\\\/plugin\\\/pending$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/status","route_path":"\/api\/status","pattern":"\/^\\\/api\\\/status$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/settings","route_path":"\/api\/system\/settings","pattern":"\/^\\\/api\\\/system\\\/settings$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/info","route_path":"\/api\/system\/info","pattern":"\/^\\\/api\\\/system\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/database\/backup","route_path":"\/api\/system\/database\/backup","pattern":"\/^\\\/api\\\/system\\\/database\\\/backup$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:11:20.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 13:11:20.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767935480006","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 13:11:20.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 13:14:20.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 13:14:20.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:14:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:14:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:14:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:14:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:14:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:14:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:14:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:14:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:14:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:14:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:14:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:14:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:14:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:14:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:14:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:14:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:14:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:14:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:14:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:14:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:14:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:14:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:14:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:14:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:14:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:14:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:14:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:14:20.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 13:14:20.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 13:14:20.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Content-Type":"application\/json","Host":"localhost:8000","Connection":"Keep-Alive"},"body":""}}
[2026-01-09 13:17:34.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 13:17:34.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:17:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:17:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:17:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:17:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:17:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:17:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:17:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:17:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:17:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:17:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:17:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:17:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:17:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:17:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:17:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:17:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:17:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:17:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:17:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:17:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:17:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:17:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:17:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:17:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:17:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:17:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:17:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:17:35.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 13:17:35.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 13:17:35.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Content-Type":"application\/json","Host":"localhost:8000","Connection":"Keep-Alive"},"body":""}}
[2026-01-09 13:19:45.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 13:19:45.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:19:45.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:19:45.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:19:45.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:19:45.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:19:45.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:19:45.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:19:45.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:19:45.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:19:45.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:19:45.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:19:45.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:19:45.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:19:45.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:19:45.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:19:45.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:19:45.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:19:45.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:19:45.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:19:45.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:19:45.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:19:45.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:19:45.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:19:45.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:19:45.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:19:45.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:19:45.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:19:45.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:19:45.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 13:19:45.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 13:19:45.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Content-Type":"application\/json","Host":"localhost:8000","Connection":"Keep-Alive"},"body":""}}
[2026-01-09 13:21:07.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 13:21:07.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:21:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:21:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:21:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:21:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:21:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:21:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:21:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:21:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:21:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:21:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:21:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:21:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:21:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:21:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:21:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:21:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:21:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:21:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:21:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:21:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:21:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:21:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:21:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:21:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:21:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:21:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:21:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:21:07.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 13:21:07.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 13:21:07.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Content-Type":"application\/json","Host":"localhost:8000"},"body":""}}
[2026-01-09 13:21:07.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":4.100799560546875e-5}
[2026-01-09 13:21:07.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.193450927734375e-5}
[2026-01-09 13:21:07.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.002716064453125e-5}
[2026-01-09 13:21:07.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":1.8835067749023438e-5}
[2026-01-09 13:21:07.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.6941299438476562e-5}
[2026-01-09 13:21:07.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.002716064453125e-5}
[2026-01-09 13:21:07.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.002716064453125e-5}
[2026-01-09 13:21:07.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.8133392333984375e-5}
[2026-01-09 13:21:07.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.193450927734375e-5}
[2026-01-09 13:21:07.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":1.8835067749023438e-5}
[2026-01-09 13:21:07.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.002716064453125e-5}
[2026-01-09 13:21:07.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.09965205192565918}
[2026-01-09 13:21:07.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 13:21:07.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 13:21:07.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_list"}
[2026-01-09 13:21:26.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-09 13:21:26.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:21:26.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:21:26.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:21:26.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:21:26.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:21:26.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:21:26.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:21:26.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:21:26.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:21:26.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:21:26.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:21:26.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:21:26.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:21:26.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:21:26.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:21:26.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:21:26.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:21:26.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:21:26.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:21:26.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:21:26.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:21:26.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:21:26.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:21:26.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:21:26.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:21:26.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:21:26.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:21:26.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:21:26.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:21:26.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin\/stats","handler":"PluginController@getPluginStats","matches":["\/api\/plugin\/stats"]}
[2026-01-09 13:21:26.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 13:21:26.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Content-Type":"application\/json","Host":"localhost:8000"},"body":""}}
[2026-01-09 13:21:26.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":5.602836608886719e-5}
[2026-01-09 13:21:26.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":4.410743713378906e-5}
[2026-01-09 13:21:26.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.7179718017578125e-5}
[2026-01-09 13:21:26.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.5987625122070312e-5}
[2026-01-09 13:21:26.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.6226043701171875e-5}
[2026-01-09 13:21:26.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":3.0040740966796875e-5}
[2026-01-09 13:21:26.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.6941299438476562e-5}
[2026-01-09 13:21:26.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.5987625122070312e-5}
[2026-01-09 13:21:26.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.8133392333984375e-5}
[2026-01-09 13:21:26.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.8133392333984375e-5}
[2026-01-09 13:21:26.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.5987625122070312e-5}
[2026-01-09 13:21:26.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0688478946685791}
[2026-01-09 13:21:26.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 13:21:26.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 13:21:26.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_stats"}
[2026-01-09 13:21:45.000000] INFO: 路由匹配开始 {"method":"POST","path":"\/api\/plugin\/initialize"}
[2026-01-09 13:21:45.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:21:45.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/register","route_path":"\/api\/user\/register","pattern":"\/^\\\/api\\\/user\\\/register$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 13:21:45.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/login","route_path":"\/api\/user\/login","pattern":"\/^\\\/api\\\/user\\\/login$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 13:21:45.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/bind","route_path":"\/api\/user\/bind","pattern":"\/^\\\/api\\\/user\\\/bind$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 13:21:45.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/unbind","route_path":"\/api\/user\/unbind","pattern":"\/^\\\/api\\\/user\\\/unbind$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 13:21:45.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/first-admin","route_path":"\/api\/user\/first-admin","pattern":"\/^\\\/api\\\/user\\\/first-admin$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 13:21:45.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 13:21:45.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 13:21:45.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/message","route_path":"\/api\/message","pattern":"\/^\\\/api\\\/message$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 13:21:45.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 13:21:45.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 13:21:45.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/group\/add_device","route_path":"\/api\/group\/add_device","pattern":"\/^\\\/api\\\/group\\\/add_device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 13:21:45.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/group\/remove_device","route_path":"\/api\/group\/remove_device","pattern":"\/^\\\/api\\\/group\\\/remove_device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 13:21:45.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 13:21:45.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/add_device","route_path":"\/api\/tag\/add_device","pattern":"\/^\\\/api\\\/tag\\\/add_device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 13:21:45.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/remove_device","route_path":"\/api\/tag\/remove_device","pattern":"\/^\\\/api\\\/tag\\\/remove_device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 13:21:45.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/batch_add","route_path":"\/api\/tag\/batch_add","pattern":"\/^\\\/api\\\/tag\\\/batch_add$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 13:21:45.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/batch_remove","route_path":"\/api\/tag\/batch_remove","pattern":"\/^\\\/api\\\/tag\\\/batch_remove$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 13:21:45.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 13:21:45.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/push_task\/add_log","route_path":"\/api\/push_task\/add_log","pattern":"\/^\\\/api\\\/push_task\\\/add_log$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 13:21:45.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/push_task\/batch_log","route_path":"\/api\/push_task\/batch_log","pattern":"\/^\\\/api\\\/push_task\\\/batch_log$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 13:21:45.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/notification\/publish","route_path":"\/api\/notification\/publish","pattern":"\/^\\\/api\\\/notification\\\/publish$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 13:21:45.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","route_path":"\/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)\\\/enable\\\/(?P<pluginId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 13:21:45.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","route_path":"\/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)\\\/disable\\\/(?P<pluginId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 13:21:45.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/external","route_path":"\/api\/plugin\/external","pattern":"\/^\\\/api\\\/plugin\\\/external$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 13:21:45.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/upload","route_path":"\/api\/plugin\/upload","pattern":"\/^\\\/api\\\/plugin\\\/upload$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 13:21:45.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/approve\/{id}","route_path":"\/api\/plugin\/approve\/{id}","pattern":"\/^\\\/api\\\/plugin\\\/approve\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 13:21:45.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/initialize","route_path":"\/api\/plugin\/initialize","pattern":"\/^\\\/api\\\/plugin\\\/initialize$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 13:21:45.000000] INFO: 路由匹配成功 {"route_pattern":"POST \/api\/plugin\/initialize","handler":"PluginController@initializePlugins","matches":["\/api\/plugin\/initialize"]}
[2026-01-09 13:21:45.000000] INFO: API请求 {"method":"POST","path":"\/api\/plugin\/initialize","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 13:21:45.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/plugin\/initialize?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/initialize","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Content-Type":"application\/json","Host":"localhost:8000","Content-Length":"0"},"body":""}}
[2026-01-09 13:21:45.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":5.0067901611328125e-5}
[2026-01-09 13:21:45.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":1.9073486328125e-5}
[2026-01-09 13:21:45.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.4080276489257812e-5}
[2026-01-09 13:21:45.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.002716064453125e-5}
[2026-01-09 13:21:45.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":1.9073486328125e-5}
[2026-01-09 13:21:45.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.9087066650390625e-5}
[2026-01-09 13:21:45.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.3126602172851562e-5}
[2026-01-09 13:21:45.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.5033950805664062e-5}
[2026-01-09 13:21:45.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.384185791015625e-5}
[2026-01-09 13:21:45.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.5987625122070312e-5}
[2026-01-09 13:21:45.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":1.8835067749023438e-5}
[2026-01-09 13:21:45.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.05428814888000488}
[2026-01-09 13:21:45.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 13:21:45.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 13:26:10.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 13:26:10.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:10.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 13:26:10.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 13:26:10.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767936370553","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 13:26:10.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":5.1975250244140625e-5}
[2026-01-09 13:26:10.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.5033950805664062e-5}
[2026-01-09 13:26:10.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.09808349609375e-5}
[2026-01-09 13:26:10.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":1.9073486328125e-5}
[2026-01-09 13:26:10.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.002716064453125e-5}
[2026-01-09 13:26:10.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":1.9073486328125e-5}
[2026-01-09 13:26:10.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.09808349609375e-5}
[2026-01-09 13:26:10.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.4080276489257812e-5}
[2026-01-09 13:26:10.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.09808349609375e-5}
[2026-01-09 13:26:10.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":1.9788742065429688e-5}
[2026-01-09 13:26:10.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.002716064453125e-5}
[2026-01-09 13:26:10.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.05307722091674805}
[2026-01-09 13:26:10.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 13:26:10.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 13:26:10.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_list"}
[2026-01-09 13:26:10.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:10.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:10.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin\/stats","handler":"PluginController@getPluginStats","matches":["\/api\/plugin\/stats"]}
[2026-01-09 13:26:10.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 13:26:10.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767936370553","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 13:26:10.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":5.888938903808594e-5}
[2026-01-09 13:26:10.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":3.0040740966796875e-5}
[2026-01-09 13:26:10.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.5987625122070312e-5}
[2026-01-09 13:26:10.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.384185791015625e-5}
[2026-01-09 13:26:10.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.5033950805664062e-5}
[2026-01-09 13:26:10.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":3.0040740966796875e-5}
[2026-01-09 13:26:10.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.7894973754882812e-5}
[2026-01-09 13:26:10.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.002716064453125e-5}
[2026-01-09 13:26:10.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.4080276489257812e-5}
[2026-01-09 13:26:10.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.5987625122070312e-5}
[2026-01-09 13:26:10.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.4080276489257812e-5}
[2026-01-09 13:26:10.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.059153079986572266}
[2026-01-09 13:26:10.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 13:26:10.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 13:26:10.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_stats"}
[2026-01-09 13:26:10.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/device\/{deviceId}","route_path":"\/api\/plugin\/device\/{deviceId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/pending","route_path":"\/api\/plugin\/pending","pattern":"\/^\\\/api\\\/plugin\\\/pending$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/status","route_path":"\/api\/status","pattern":"\/^\\\/api\\\/status$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/settings","route_path":"\/api\/system\/settings","pattern":"\/^\\\/api\\\/system\\\/settings$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/info","route_path":"\/api\/system\/info","pattern":"\/^\\\/api\\\/system\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/database\/backup","route_path":"\/api\/system\/database\/backup","pattern":"\/^\\\/api\\\/system\\\/database\\\/backup$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:10.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 13:26:10.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767936370553","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 13:26:10.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 13:26:13.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 13:26:13.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:26:13.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 13:26:13.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 13:26:13.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767936373612","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 13:26:13.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":4.887580871582031e-5}
[2026-01-09 13:26:13.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":3.790855407714844e-5}
[2026-01-09 13:26:13.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.1219253540039062e-5}
[2026-01-09 13:26:13.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.002716064453125e-5}
[2026-01-09 13:26:13.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.5987625122070312e-5}
[2026-01-09 13:26:13.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.7894973754882812e-5}
[2026-01-09 13:26:13.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":6.604194641113281e-5}
[2026-01-09 13:26:13.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.8133392333984375e-5}
[2026-01-09 13:26:13.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.4080276489257812e-5}
[2026-01-09 13:26:13.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.09808349609375e-5}
[2026-01-09 13:26:13.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":1.9073486328125e-5}
[2026-01-09 13:26:13.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.054628849029541016}
[2026-01-09 13:26:13.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 13:26:13.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 13:26:13.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_list"}
[2026-01-09 13:26:13.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:13.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:26:13.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin\/stats","handler":"PluginController@getPluginStats","matches":["\/api\/plugin\/stats"]}
[2026-01-09 13:26:13.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 13:26:13.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767936373612","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 13:26:13.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":4.315376281738281e-5}
[2026-01-09 13:26:13.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.193450927734375e-5}
[2026-01-09 13:26:13.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.6941299438476562e-5}
[2026-01-09 13:26:13.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.09808349609375e-5}
[2026-01-09 13:26:13.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.09808349609375e-5}
[2026-01-09 13:26:13.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.8133392333984375e-5}
[2026-01-09 13:26:13.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":3.0994415283203125e-5}
[2026-01-09 13:26:13.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.2172927856445312e-5}
[2026-01-09 13:26:13.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.5033950805664062e-5}
[2026-01-09 13:26:13.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":3.0040740966796875e-5}
[2026-01-09 13:26:13.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.09808349609375e-5}
[2026-01-09 13:26:13.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0556180477142334}
[2026-01-09 13:26:13.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 13:26:13.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 13:26:13.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_stats"}
[2026-01-09 13:26:13.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 13:26:13.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:13.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:14.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:14.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:14.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:14.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:14.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:14.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/device\/{deviceId}","route_path":"\/api\/plugin\/device\/{deviceId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:14.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/pending","route_path":"\/api\/plugin\/pending","pattern":"\/^\\\/api\\\/plugin\\\/pending$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:14.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/status","route_path":"\/api\/status","pattern":"\/^\\\/api\\\/status$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:14.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/settings","route_path":"\/api\/system\/settings","pattern":"\/^\\\/api\\\/system\\\/settings$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:14.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/info","route_path":"\/api\/system\/info","pattern":"\/^\\\/api\\\/system\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:14.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/database\/backup","route_path":"\/api\/system\/database\/backup","pattern":"\/^\\\/api\\\/system\\\/database\\\/backup$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:26:14.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 13:26:14.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767936373612","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 13:26:14.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 13:31:03.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/user\/devices"}
[2026-01-09 13:31:03.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:31:03.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 13:31:03.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 13:31:03.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/user\/devices","handler":"UserController@getDevices","matches":["\/api\/user\/devices"]}
[2026-01-09 13:31:03.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 13:31:03.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Content-Type":"application\/json","Host":"localhost:8000","Connection":"Keep-Alive"},"body":""}}
[2026-01-09 13:31:03.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":5.3882598876953125e-5}
[2026-01-09 13:31:03.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":3.2901763916015625e-5}
[2026-01-09 13:31:03.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.6941299438476562e-5}
[2026-01-09 13:31:03.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":3.910064697265625e-5}
[2026-01-09 13:31:03.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.4080276489257812e-5}
[2026-01-09 13:31:03.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.8133392333984375e-5}
[2026-01-09 13:31:03.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.5987625122070312e-5}
[2026-01-09 13:31:03.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":3.0040740966796875e-5}
[2026-01-09 13:31:03.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":3.910064697265625e-5}
[2026-01-09 13:31:03.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.7179718017578125e-5}
[2026-01-09 13:31:03.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.5987625122070312e-5}
[2026-01-09 13:31:03.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.07732009887695312}
[2026-01-09 13:31:03.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 13:31:03.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 13:31:03.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 13:31:03.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 13:31:03.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 13:31:25.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 13:31:25.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:31:25.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:31:25.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:31:25.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:31:25.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:31:25.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:31:25.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:31:25.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:31:25.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:31:25.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:31:25.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:31:25.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:31:25.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:31:25.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:31:25.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:31:25.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:31:25.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:31:25.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:31:25.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:31:25.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:31:25.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:31:25.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:31:25.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:31:25.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:31:25.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:31:25.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:31:25.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:31:25.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:31:25.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 13:31:25.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 13:31:25.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Content-Type":"application\/json","Host":"localhost:8000"},"body":""}}
[2026-01-09 13:31:25.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":4.506111145019531e-5}
[2026-01-09 13:31:25.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.8133392333984375e-5}
[2026-01-09 13:31:25.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.47955322265625e-5}
[2026-01-09 13:31:25.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.5987625122070312e-5}
[2026-01-09 13:31:25.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.7894973754882812e-5}
[2026-01-09 13:31:25.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.3126602172851562e-5}
[2026-01-09 13:31:25.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.5033950805664062e-5}
[2026-01-09 13:31:25.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.4080276489257812e-5}
[2026-01-09 13:31:25.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.384185791015625e-5}
[2026-01-09 13:31:25.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":1.9073486328125e-5}
[2026-01-09 13:31:25.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":1.9073486328125e-5}
[2026-01-09 13:31:25.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.07156705856323242}
[2026-01-09 13:31:25.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 13:31:25.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 13:31:25.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_list"}
[2026-01-09 13:31:48.000000] INFO: 路由匹配开始 {"method":"POST","path":"\/api\/plugin\/external"}
[2026-01-09 13:31:48.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:31:48.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/register","route_path":"\/api\/user\/register","pattern":"\/^\\\/api\\\/user\\\/register$\/","request_path":"\/api\/plugin\/external"}
[2026-01-09 13:31:48.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/login","route_path":"\/api\/user\/login","pattern":"\/^\\\/api\\\/user\\\/login$\/","request_path":"\/api\/plugin\/external"}
[2026-01-09 13:31:48.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/bind","route_path":"\/api\/user\/bind","pattern":"\/^\\\/api\\\/user\\\/bind$\/","request_path":"\/api\/plugin\/external"}
[2026-01-09 13:31:48.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/unbind","route_path":"\/api\/user\/unbind","pattern":"\/^\\\/api\\\/user\\\/unbind$\/","request_path":"\/api\/plugin\/external"}
[2026-01-09 13:31:48.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/first-admin","route_path":"\/api\/user\/first-admin","pattern":"\/^\\\/api\\\/user\\\/first-admin$\/","request_path":"\/api\/plugin\/external"}
[2026-01-09 13:31:48.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/external"}
[2026-01-09 13:31:48.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/external"}
[2026-01-09 13:31:48.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/message","route_path":"\/api\/message","pattern":"\/^\\\/api\\\/message$\/","request_path":"\/api\/plugin\/external"}
[2026-01-09 13:31:48.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/external"}
[2026-01-09 13:31:48.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/external"}
[2026-01-09 13:31:48.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/group\/add_device","route_path":"\/api\/group\/add_device","pattern":"\/^\\\/api\\\/group\\\/add_device$\/","request_path":"\/api\/plugin\/external"}
[2026-01-09 13:31:48.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/group\/remove_device","route_path":"\/api\/group\/remove_device","pattern":"\/^\\\/api\\\/group\\\/remove_device$\/","request_path":"\/api\/plugin\/external"}
[2026-01-09 13:31:48.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/external"}
[2026-01-09 13:31:48.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/add_device","route_path":"\/api\/tag\/add_device","pattern":"\/^\\\/api\\\/tag\\\/add_device$\/","request_path":"\/api\/plugin\/external"}
[2026-01-09 13:31:48.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/remove_device","route_path":"\/api\/tag\/remove_device","pattern":"\/^\\\/api\\\/tag\\\/remove_device$\/","request_path":"\/api\/plugin\/external"}
[2026-01-09 13:31:48.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/batch_add","route_path":"\/api\/tag\/batch_add","pattern":"\/^\\\/api\\\/tag\\\/batch_add$\/","request_path":"\/api\/plugin\/external"}
[2026-01-09 13:31:48.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/batch_remove","route_path":"\/api\/tag\/batch_remove","pattern":"\/^\\\/api\\\/tag\\\/batch_remove$\/","request_path":"\/api\/plugin\/external"}
[2026-01-09 13:31:48.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/external"}
[2026-01-09 13:31:48.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/push_task\/add_log","route_path":"\/api\/push_task\/add_log","pattern":"\/^\\\/api\\\/push_task\\\/add_log$\/","request_path":"\/api\/plugin\/external"}
[2026-01-09 13:31:48.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/push_task\/batch_log","route_path":"\/api\/push_task\/batch_log","pattern":"\/^\\\/api\\\/push_task\\\/batch_log$\/","request_path":"\/api\/plugin\/external"}
[2026-01-09 13:31:48.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/notification\/publish","route_path":"\/api\/notification\/publish","pattern":"\/^\\\/api\\\/notification\\\/publish$\/","request_path":"\/api\/plugin\/external"}
[2026-01-09 13:31:48.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","route_path":"\/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)\\\/enable\\\/(?P<pluginId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/external"}
[2026-01-09 13:31:48.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","route_path":"\/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)\\\/disable\\\/(?P<pluginId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/external"}
[2026-01-09 13:31:48.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/external","route_path":"\/api\/plugin\/external","pattern":"\/^\\\/api\\\/plugin\\\/external$\/","request_path":"\/api\/plugin\/external"}
[2026-01-09 13:31:48.000000] INFO: 路由匹配成功 {"route_pattern":"POST \/api\/plugin\/external","handler":"PluginController@addExternalPlugin","matches":["\/api\/plugin\/external"]}
[2026-01-09 13:31:48.000000] INFO: API请求 {"method":"POST","path":"\/api\/plugin\/external","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 13:31:48.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/plugin\/external?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/external","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Content-Type":"application\/json","Host":"localhost:8000","Content-Length":"104"},"body":"{\"name\":\"??????\",\"url\":\"http:\/\/example.com\/plugin\",\"description\":\"??????????\",\"refresh_interval\":\"60??\"}"}}
[2026-01-09 13:31:48.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":5.602836608886719e-5}
[2026-01-09 13:31:48.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":7.796287536621094e-5}
[2026-01-09 13:31:48.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":7.605552673339844e-5}
[2026-01-09 13:31:48.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":3.1948089599609375e-5}
[2026-01-09 13:31:48.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":4.100799560546875e-5}
[2026-01-09 13:31:48.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":5.1975250244140625e-5}
[2026-01-09 13:31:48.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":7.009506225585938e-5}
[2026-01-09 13:31:48.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":8.606910705566406e-5}
[2026-01-09 13:31:48.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":0.0008120536804199219}
[2026-01-09 13:31:48.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":5.984306335449219e-5}
[2026-01-09 13:31:48.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":4.100799560546875e-5}
[2026-01-09 13:31:48.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.1000509262084961}
[2026-01-09 13:31:48.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 13:31:48.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 13:31:48.000000] INFO: API操作 {"user_id":1,"action":"plugin_add_external"}
[2026-01-09 13:32:07.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 13:32:07.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:32:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:32:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:32:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:32:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:32:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:32:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:32:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:32:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:32:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:32:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:32:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:32:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:32:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:32:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:32:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:32:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:32:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:32:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:32:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:32:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:32:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:32:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:32:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:32:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:32:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:32:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:32:07.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:32:07.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 13:32:07.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 13:32:07.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Content-Type":"application\/json","Host":"localhost:8000"},"body":""}}
[2026-01-09 13:32:07.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":4.887580871582031e-5}
[2026-01-09 13:32:07.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.5987625122070312e-5}
[2026-01-09 13:32:07.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.09808349609375e-5}
[2026-01-09 13:32:07.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":1.9073486328125e-5}
[2026-01-09 13:32:07.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":1.9073486328125e-5}
[2026-01-09 13:32:07.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":1.811981201171875e-5}
[2026-01-09 13:32:07.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.5987625122070312e-5}
[2026-01-09 13:32:07.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":1.9073486328125e-5}
[2026-01-09 13:32:07.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":1.811981201171875e-5}
[2026-01-09 13:32:07.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":1.811981201171875e-5}
[2026-01-09 13:32:07.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":1.7881393432617188e-5}
[2026-01-09 13:32:07.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.05731701850891113}
[2026-01-09 13:32:07.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 13:32:07.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 13:32:07.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_list"}
[2026-01-09 13:55:24.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/user\/devices"}
[2026-01-09 13:55:24.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 13:55:24.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/user\/devices","handler":"UserController@getDevices","matches":["\/api\/user\/devices"]}
[2026-01-09 13:55:24.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 13:55:24.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767938124209","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 13:55:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":5.2928924560546875e-5}
[2026-01-09 13:55:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.6941299438476562e-5}
[2026-01-09 13:55:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.5033950805664062e-5}
[2026-01-09 13:55:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.5033950805664062e-5}
[2026-01-09 13:55:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":3.0994415283203125e-5}
[2026-01-09 13:55:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.002716064453125e-5}
[2026-01-09 13:55:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.193450927734375e-5}
[2026-01-09 13:55:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.5033950805664062e-5}
[2026-01-09 13:55:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.5987625122070312e-5}
[2026-01-09 13:55:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.5987625122070312e-5}
[2026-01-09 13:55:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.9087066650390625e-5}
[2026-01-09 13:55:24.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.059751033782958984}
[2026-01-09 13:55:24.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 13:55:24.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 13:55:24.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 13:55:24.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 13:55:24.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 13:55:24.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 13:55:24.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:24.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 13:55:24.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 13:55:24.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767938124209","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 13:55:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":4.410743713378906e-5}
[2026-01-09 13:55:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.193450927734375e-5}
[2026-01-09 13:55:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":1.7881393432617188e-5}
[2026-01-09 13:55:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.3126602172851562e-5}
[2026-01-09 13:55:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.5033950805664062e-5}
[2026-01-09 13:55:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.7894973754882812e-5}
[2026-01-09 13:55:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.5033950805664062e-5}
[2026-01-09 13:55:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.6941299438476562e-5}
[2026-01-09 13:55:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.384185791015625e-5}
[2026-01-09 13:55:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":1.71661376953125e-5}
[2026-01-09 13:55:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":1.7881393432617188e-5}
[2026-01-09 13:55:24.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.05383896827697754}
[2026-01-09 13:55:24.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 13:55:24.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 13:55:24.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_list"}
[2026-01-09 13:55:24.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/device\/{deviceId}","route_path":"\/api\/plugin\/device\/{deviceId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/pending","route_path":"\/api\/plugin\/pending","pattern":"\/^\\\/api\\\/plugin\\\/pending$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/status","route_path":"\/api\/status","pattern":"\/^\\\/api\\\/status$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/settings","route_path":"\/api\/system\/settings","pattern":"\/^\\\/api\\\/system\\\/settings$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/info","route_path":"\/api\/system\/info","pattern":"\/^\\\/api\\\/system\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/database\/backup","route_path":"\/api\/system\/database\/backup","pattern":"\/^\\\/api\\\/system\\\/database\\\/backup$\/","request_path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 13:55:24.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767938124209","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 13:55:24.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 13:55:24.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:24.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:24.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:24.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin\/stats","handler":"PluginController@getPluginStats","matches":["\/api\/plugin\/stats"]}
[2026-01-09 13:55:24.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 13:55:24.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767938124209","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 13:55:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":4.887580871582031e-5}
[2026-01-09 13:55:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.6941299438476562e-5}
[2026-01-09 13:55:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.8133392333984375e-5}
[2026-01-09 13:55:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":1.9073486328125e-5}
[2026-01-09 13:55:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.5033950805664062e-5}
[2026-01-09 13:55:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.9087066650390625e-5}
[2026-01-09 13:55:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.7894973754882812e-5}
[2026-01-09 13:55:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.384185791015625e-5}
[2026-01-09 13:55:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.5987625122070312e-5}
[2026-01-09 13:55:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.09808349609375e-5}
[2026-01-09 13:55:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.193450927734375e-5}
[2026-01-09 13:55:24.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.05301713943481445}
[2026-01-09 13:55:24.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 13:55:24.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 13:55:24.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_stats"}
[2026-01-09 13:55:33.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/device\/{deviceId}","route_path":"\/api\/plugin\/device\/{deviceId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/pending","route_path":"\/api\/plugin\/pending","pattern":"\/^\\\/api\\\/plugin\\\/pending$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/status","route_path":"\/api\/status","pattern":"\/^\\\/api\\\/status$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/settings","route_path":"\/api\/system\/settings","pattern":"\/^\\\/api\\\/system\\\/settings$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/info","route_path":"\/api\/system\/info","pattern":"\/^\\\/api\\\/system\\\/info$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/database\/backup","route_path":"\/api\/system\/database\/backup","pattern":"\/^\\\/api\\\/system\\\/database\\\/backup$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:33.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/1","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 13:55:33.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/1?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/1","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767938124209","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 13:55:33.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/api\/plugin\/1"}
[2026-01-09 13:55:44.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/user\/devices"}
[2026-01-09 13:55:44.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 13:55:44.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/user\/devices","handler":"UserController@getDevices","matches":["\/api\/user\/devices"]}
[2026-01-09 13:55:44.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 13:55:44.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 13:55:44.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":5.3882598876953125e-5}
[2026-01-09 13:55:44.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":4.1961669921875e-5}
[2026-01-09 13:55:44.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.4080276489257812e-5}
[2026-01-09 13:55:44.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.4080276489257812e-5}
[2026-01-09 13:55:44.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.5987625122070312e-5}
[2026-01-09 13:55:44.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.4080276489257812e-5}
[2026-01-09 13:55:44.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.6941299438476562e-5}
[2026-01-09 13:55:44.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.8133392333984375e-5}
[2026-01-09 13:55:44.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.7179718017578125e-5}
[2026-01-09 13:55:44.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.6941299438476562e-5}
[2026-01-09 13:55:44.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.8133392333984375e-5}
[2026-01-09 13:55:44.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.1076509952545166}
[2026-01-09 13:55:44.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 13:55:44.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 13:55:44.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 13:55:44.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 13:55:44.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 13:55:44.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 13:55:44.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:55:44.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 13:55:44.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 13:55:44.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 13:55:44.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":5.602836608886719e-5}
[2026-01-09 13:55:44.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":3.2901763916015625e-5}
[2026-01-09 13:55:44.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.5987625122070312e-5}
[2026-01-09 13:55:44.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.7894973754882812e-5}
[2026-01-09 13:55:44.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.7179718017578125e-5}
[2026-01-09 13:55:44.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.5987625122070312e-5}
[2026-01-09 13:55:44.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":3.0994415283203125e-5}
[2026-01-09 13:55:44.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.5987625122070312e-5}
[2026-01-09 13:55:44.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.5033950805664062e-5}
[2026-01-09 13:55:44.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.7179718017578125e-5}
[2026-01-09 13:55:44.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.6941299438476562e-5}
[2026-01-09 13:55:44.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.10513091087341309}
[2026-01-09 13:55:44.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 13:55:44.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 13:55:44.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_list"}
[2026-01-09 13:55:44.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:44.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:44.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:55:44.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin\/stats","handler":"PluginController@getPluginStats","matches":["\/api\/plugin\/stats"]}
[2026-01-09 13:55:44.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 13:55:44.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 13:55:45.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":4.482269287109375e-5}
[2026-01-09 13:55:45.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.8133392333984375e-5}
[2026-01-09 13:55:45.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.5033950805664062e-5}
[2026-01-09 13:55:45.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.288818359375e-5}
[2026-01-09 13:55:45.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.6941299438476562e-5}
[2026-01-09 13:55:45.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.5033950805664062e-5}
[2026-01-09 13:55:45.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.5033950805664062e-5}
[2026-01-09 13:55:45.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.5033950805664062e-5}
[2026-01-09 13:55:45.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.5033950805664062e-5}
[2026-01-09 13:55:45.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.384185791015625e-5}
[2026-01-09 13:55:45.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.47955322265625e-5}
[2026-01-09 13:55:45.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.2087249755859375}
[2026-01-09 13:55:45.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 13:55:45.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 13:55:45.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_stats"}
[2026-01-09 13:55:49.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/device\/{deviceId}","route_path":"\/api\/plugin\/device\/{deviceId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/pending","route_path":"\/api\/plugin\/pending","pattern":"\/^\\\/api\\\/plugin\\\/pending$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/status","route_path":"\/api\/status","pattern":"\/^\\\/api\\\/status$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/settings","route_path":"\/api\/system\/settings","pattern":"\/^\\\/api\\\/system\\\/settings$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/info","route_path":"\/api\/system\/info","pattern":"\/^\\\/api\\\/system\\\/info$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/database\/backup","route_path":"\/api\/system\/database\/backup","pattern":"\/^\\\/api\\\/system\\\/database\\\/backup$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:55:49.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/1","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 13:55:49.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/1?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/1","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 13:55:49.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/api\/plugin\/1"}
[2026-01-09 13:56:06.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/user\/devices"}
[2026-01-09 13:56:06.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 13:56:06.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/user\/devices","handler":"UserController@getDevices","matches":["\/api\/user\/devices"]}
[2026-01-09 13:56:06.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 13:56:06.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 13:56:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":0.0003070831298828125}
[2026-01-09 13:56:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":3.218650817871094e-5}
[2026-01-09 13:56:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":3.504753112792969e-5}
[2026-01-09 13:56:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.8848648071289062e-5}
[2026-01-09 13:56:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.7894973754882812e-5}
[2026-01-09 13:56:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.6941299438476562e-5}
[2026-01-09 13:56:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.4080276489257812e-5}
[2026-01-09 13:56:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.5987625122070312e-5}
[2026-01-09 13:56:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.6941299438476562e-5}
[2026-01-09 13:56:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.8133392333984375e-5}
[2026-01-09 13:56:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.5987625122070312e-5}
[2026-01-09 13:56:06.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.09156608581542969}
[2026-01-09 13:56:06.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 13:56:06.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 13:56:06.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 13:56:06.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 13:56:06.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 13:56:06.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 13:56:06.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 13:56:06.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 13:56:06.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 13:56:06.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 13:56:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":3.886222839355469e-5}
[2026-01-09 13:56:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.5987625122070312e-5}
[2026-01-09 13:56:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.384185791015625e-5}
[2026-01-09 13:56:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":4.1961669921875e-5}
[2026-01-09 13:56:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.4080276489257812e-5}
[2026-01-09 13:56:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":1.811981201171875e-5}
[2026-01-09 13:56:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":1.811981201171875e-5}
[2026-01-09 13:56:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":1.9073486328125e-5}
[2026-01-09 13:56:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.09808349609375e-5}
[2026-01-09 13:56:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":1.811981201171875e-5}
[2026-01-09 13:56:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":1.811981201171875e-5}
[2026-01-09 13:56:06.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.053987979888916016}
[2026-01-09 13:56:06.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 13:56:06.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 13:56:06.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_list"}
[2026-01-09 13:56:06.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-09 13:56:06.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:56:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 13:56:06.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin\/stats","handler":"PluginController@getPluginStats","matches":["\/api\/plugin\/stats"]}
[2026-01-09 13:56:06.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 13:56:06.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 13:56:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":4.00543212890625e-5}
[2026-01-09 13:56:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":4.696846008300781e-5}
[2026-01-09 13:56:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":1.9073486328125e-5}
[2026-01-09 13:56:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":1.6927719116210938e-5}
[2026-01-09 13:56:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":1.9073486328125e-5}
[2026-01-09 13:56:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":1.811981201171875e-5}
[2026-01-09 13:56:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":3.0040740966796875e-5}
[2026-01-09 13:56:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":1.9073486328125e-5}
[2026-01-09 13:56:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.7179718017578125e-5}
[2026-01-09 13:56:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.5033950805664062e-5}
[2026-01-09 13:56:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.5987625122070312e-5}
[2026-01-09 13:56:06.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.06092190742492676}
[2026-01-09 13:56:06.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 13:56:06.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 13:56:06.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_stats"}
[2026-01-09 13:56:09.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/device\/{deviceId}","route_path":"\/api\/plugin\/device\/{deviceId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/pending","route_path":"\/api\/plugin\/pending","pattern":"\/^\\\/api\\\/plugin\\\/pending$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/status","route_path":"\/api\/status","pattern":"\/^\\\/api\\\/status$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/settings","route_path":"\/api\/system\/settings","pattern":"\/^\\\/api\\\/system\\\/settings$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/info","route_path":"\/api\/system\/info","pattern":"\/^\\\/api\\\/system\\\/info$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/database\/backup","route_path":"\/api\/system\/database\/backup","pattern":"\/^\\\/api\\\/system\\\/database\\\/backup$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 13:56:09.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/1","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 13:56:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/1?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/1","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 13:56:09.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/api\/plugin\/1"}
[2026-01-09 14:04:01.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 14:04:01.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/{id}","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:04:01.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:04:01.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:04:01.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:04:01.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:04:01.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:04:01.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:04:01.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:04:01.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:04:01.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:04:01.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:04:01.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:04:01.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:04:01.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:04:01.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:04:01.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:04:01.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:04:01.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:04:01.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:04:01.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:04:01.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:04:01.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:04:01.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:04:01.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:04:01.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:04:01.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:04:01.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:04:01.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:04:01.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 14:04:01.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 14:04:01.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000","Connection":"Keep-Alive"},"body":""}}
[2026-01-09 14:04:01.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":5.91278076171875e-5}
[2026-01-09 14:04:01.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":3.0040740966796875e-5}
[2026-01-09 14:04:01.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.3126602172851562e-5}
[2026-01-09 14:04:01.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.7894973754882812e-5}
[2026-01-09 14:04:01.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.7894973754882812e-5}
[2026-01-09 14:04:01.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.8133392333984375e-5}
[2026-01-09 14:04:01.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":1.9073486328125e-5}
[2026-01-09 14:04:01.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.5987625122070312e-5}
[2026-01-09 14:04:01.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.09808349609375e-5}
[2026-01-09 14:04:01.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.002716064453125e-5}
[2026-01-09 14:04:01.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":3.0994415283203125e-5}
[2026-01-09 14:04:01.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.09110021591186523}
[2026-01-09 14:04:01.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:04:01.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:04:01.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_list"}
[2026-01-09 14:04:12.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/1"}
[2026-01-09 14:04:12.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/{id}","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:04:12.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:04:12.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:04:12.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:04:12.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:04:12.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:04:12.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:04:12.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:04:12.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:04:12.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:04:12.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:04:12.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:04:12.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:04:12.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:04:12.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:04:12.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:04:12.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:04:12.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:04:12.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:04:12.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:04:12.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:04:12.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:04:12.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:04:12.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:04:12.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:04:12.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:04:12.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:04:12.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:04:12.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/{id}","route_path":"\/api\/plugin\/{id}","pattern":"\/^\\\/api\\\/plugin\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:04:12.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin\/{id}","handler":"PluginController@getPlugin","matches":{"0":"\/api\/plugin\/1","id":"1","1":"1"}}
[2026-01-09 14:04:12.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/1","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 14:04:12.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/1?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/1","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000"},"body":""}}
[2026-01-09 14:04:12.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":4.792213439941406e-5}
[2026-01-09 14:04:12.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.8848648071289062e-5}
[2026-01-09 14:04:12.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":4.1961669921875e-5}
[2026-01-09 14:04:12.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":3.0994415283203125e-5}
[2026-01-09 14:04:12.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":3.0040740966796875e-5}
[2026-01-09 14:04:12.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.7894973754882812e-5}
[2026-01-09 14:04:12.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.5987625122070312e-5}
[2026-01-09 14:04:12.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":3.0040740966796875e-5}
[2026-01-09 14:04:12.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":0.0003819465637207031}
[2026-01-09 14:04:12.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":3.600120544433594e-5}
[2026-01-09 14:04:12.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":3.1948089599609375e-5}
[2026-01-09 14:04:12.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.08235001564025879}
[2026-01-09 14:04:12.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:04:12.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:04:12.000000] INFO: API操作 {"user_id":1,"plugin_id":"1","action":"plugin_get_detail"}
[2026-01-09 14:08:29.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 14:08:29.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/{id}","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:29.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 14:08:29.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:08:29.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767938908664","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:08:29.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":4.792213439941406e-5}
[2026-01-09 14:08:29.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.6941299438476562e-5}
[2026-01-09 14:08:29.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.8133392333984375e-5}
[2026-01-09 14:08:29.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.9087066650390625e-5}
[2026-01-09 14:08:29.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.7179718017578125e-5}
[2026-01-09 14:08:29.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.7179718017578125e-5}
[2026-01-09 14:08:29.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":3.0040740966796875e-5}
[2026-01-09 14:08:29.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":3.0040740966796875e-5}
[2026-01-09 14:08:29.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":4.100799560546875e-5}
[2026-01-09 14:08:29.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":3.1948089599609375e-5}
[2026-01-09 14:08:29.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.9802322387695312e-5}
[2026-01-09 14:08:29.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.06912612915039062}
[2026-01-09 14:08:29.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:08:29.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:08:29.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_list"}
[2026-01-09 14:08:29.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/user\/devices"}
[2026-01-09 14:08:29.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/{id}","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 14:08:29.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/user\/devices","handler":"UserController@getDevices","matches":["\/api\/user\/devices"]}
[2026-01-09 14:08:29.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:08:29.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767938908664","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:08:29.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":5.1021575927734375e-5}
[2026-01-09 14:08:29.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":3.314018249511719e-5}
[2026-01-09 14:08:29.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.6941299438476562e-5}
[2026-01-09 14:08:29.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.002716064453125e-5}
[2026-01-09 14:08:29.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":1.8835067749023438e-5}
[2026-01-09 14:08:29.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.3126602172851562e-5}
[2026-01-09 14:08:29.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.6941299438476562e-5}
[2026-01-09 14:08:29.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.7894973754882812e-5}
[2026-01-09 14:08:29.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.5987625122070312e-5}
[2026-01-09 14:08:29.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.193450927734375e-5}
[2026-01-09 14:08:29.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.7179718017578125e-5}
[2026-01-09 14:08:29.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.05670809745788574}
[2026-01-09 14:08:29.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:08:29.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:08:29.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 14:08:29.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 14:08:29.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 14:08:29.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:29.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/{id}","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/{id}","route_path":"\/api\/plugin\/{id}","pattern":"\/^\\\/api\\\/plugin\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:29.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin\/{id}","handler":"PluginController@getPlugin","matches":{"0":"\/api\/plugin\/stats","id":"stats","1":"stats"}}
[2026-01-09 14:08:29.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:08:29.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767938908664","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:08:29.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":3.719329833984375e-5}
[2026-01-09 14:08:29.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":1.9073486328125e-5}
[2026-01-09 14:08:29.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.09808349609375e-5}
[2026-01-09 14:08:29.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.5033950805664062e-5}
[2026-01-09 14:08:29.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.3126602172851562e-5}
[2026-01-09 14:08:29.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.5987625122070312e-5}
[2026-01-09 14:08:29.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.4080276489257812e-5}
[2026-01-09 14:08:29.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.193450927734375e-5}
[2026-01-09 14:08:29.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.002716064453125e-5}
[2026-01-09 14:08:29.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.09808349609375e-5}
[2026-01-09 14:08:29.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.5987625122070312e-5}
[2026-01-09 14:08:29.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.05512404441833496}
[2026-01-09 14:08:29.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:08:29.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:08:29.000000] INFO: API操作 {"user_id":1,"plugin_id":"stats","action":"plugin_get_detail"}
[2026-01-09 14:08:29.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/{id}","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/{id}","route_path":"\/api\/plugin\/{id}","pattern":"\/^\\\/api\\\/plugin\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/device\/{deviceId}","route_path":"\/api\/plugin\/device\/{deviceId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/pending","route_path":"\/api\/plugin\/pending","pattern":"\/^\\\/api\\\/plugin\\\/pending$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/status","route_path":"\/api\/status","pattern":"\/^\\\/api\\\/status$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/settings","route_path":"\/api\/system\/settings","pattern":"\/^\\\/api\\\/system\\\/settings$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/info","route_path":"\/api\/system\/info","pattern":"\/^\\\/api\\\/system\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/database\/backup","route_path":"\/api\/system\/database\/backup","pattern":"\/^\\\/api\\\/system\\\/database\\\/backup$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:08:29.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:08:29.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767938908664","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:08:29.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 14:08:37.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/user\/devices"}
[2026-01-09 14:08:37.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/{id}","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 14:08:37.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/user\/devices","handler":"UserController@getDevices","matches":["\/api\/user\/devices"]}
[2026-01-09 14:08:37.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 14:08:37.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 14:08:37.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":6.29425048828125e-5}
[2026-01-09 14:08:37.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":6.29425048828125e-5}
[2026-01-09 14:08:37.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":7.009506225585938e-5}
[2026-01-09 14:08:37.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":3.695487976074219e-5}
[2026-01-09 14:08:37.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":3.4809112548828125e-5}
[2026-01-09 14:08:37.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.6941299438476562e-5}
[2026-01-09 14:08:37.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.6941299438476562e-5}
[2026-01-09 14:08:37.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.9087066650390625e-5}
[2026-01-09 14:08:37.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.7894973754882812e-5}
[2026-01-09 14:08:37.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.8133392333984375e-5}
[2026-01-09 14:08:37.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":5.888938903808594e-5}
[2026-01-09 14:08:37.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.1435539722442627}
[2026-01-09 14:08:37.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:08:37.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:08:37.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 14:08:37.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 14:08:37.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 14:08:37.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 14:08:37.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/{id}","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:08:37.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 14:08:37.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 14:08:37.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 14:08:37.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":4.482269287109375e-5}
[2026-01-09 14:08:37.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.7894973754882812e-5}
[2026-01-09 14:08:37.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":3.1948089599609375e-5}
[2026-01-09 14:08:37.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":3.0994415283203125e-5}
[2026-01-09 14:08:37.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.7179718017578125e-5}
[2026-01-09 14:08:37.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.9087066650390625e-5}
[2026-01-09 14:08:37.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.7894973754882812e-5}
[2026-01-09 14:08:37.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":3.0994415283203125e-5}
[2026-01-09 14:08:37.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.8133392333984375e-5}
[2026-01-09 14:08:37.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.8133392333984375e-5}
[2026-01-09 14:08:37.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.7894973754882812e-5}
[2026-01-09 14:08:37.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.07667708396911621}
[2026-01-09 14:08:37.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:08:37.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:08:37.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_list"}
[2026-01-09 14:08:37.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:37.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/{id}","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:37.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/{id}","route_path":"\/api\/plugin\/{id}","pattern":"\/^\\\/api\\\/plugin\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:08:37.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin\/{id}","handler":"PluginController@getPlugin","matches":{"0":"\/api\/plugin\/stats","id":"stats","1":"stats"}}
[2026-01-09 14:08:37.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 14:08:37.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 14:08:38.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":4.506111145019531e-5}
[2026-01-09 14:08:38.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.5987625122070312e-5}
[2026-01-09 14:08:38.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.5033950805664062e-5}
[2026-01-09 14:08:38.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":3.504753112792969e-5}
[2026-01-09 14:08:38.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.6941299438476562e-5}
[2026-01-09 14:08:38.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.9087066650390625e-5}
[2026-01-09 14:08:38.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.9087066650390625e-5}
[2026-01-09 14:08:38.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.9087066650390625e-5}
[2026-01-09 14:08:38.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.6941299438476562e-5}
[2026-01-09 14:08:38.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":4.1961669921875e-5}
[2026-01-09 14:08:38.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":4.9114227294921875e-5}
[2026-01-09 14:08:38.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.07118010520935059}
[2026-01-09 14:08:38.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:08:38.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:08:38.000000] INFO: API操作 {"user_id":1,"plugin_id":"stats","action":"plugin_get_detail"}
[2026-01-09 14:08:46.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/1"}
[2026-01-09 14:08:46.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/{id}","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:08:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:08:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:08:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:08:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:08:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:08:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:08:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:08:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:08:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:08:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:08:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:08:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:08:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:08:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:08:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:08:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:08:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:08:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:08:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:08:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:08:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:08:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:08:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:08:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:08:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:08:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:08:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:08:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/{id}","route_path":"\/api\/plugin\/{id}","pattern":"\/^\\\/api\\\/plugin\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:08:46.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin\/{id}","handler":"PluginController@getPlugin","matches":{"0":"\/api\/plugin\/1","id":"1","1":"1"}}
[2026-01-09 14:08:46.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/1","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 14:08:46.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/1?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/1","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":""}}
[2026-01-09 14:08:46.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":4.696846008300781e-5}
[2026-01-09 14:08:46.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":3.1948089599609375e-5}
[2026-01-09 14:08:46.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.8133392333984375e-5}
[2026-01-09 14:08:46.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.09808349609375e-5}
[2026-01-09 14:08:46.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.8133392333984375e-5}
[2026-01-09 14:08:46.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.288818359375e-5}
[2026-01-09 14:08:46.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.5033950805664062e-5}
[2026-01-09 14:08:46.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.09808349609375e-5}
[2026-01-09 14:08:46.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.002716064453125e-5}
[2026-01-09 14:08:46.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.5033950805664062e-5}
[2026-01-09 14:08:46.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.002716064453125e-5}
[2026-01-09 14:08:46.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.057621002197265625}
[2026-01-09 14:08:46.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:08:46.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:08:46.000000] INFO: API操作 {"user_id":1,"plugin_id":"1","action":"plugin_get_detail"}
[2026-01-09 14:08:50.000000] INFO: 路由匹配开始 {"method":"PUT","path":"\/api\/plugin\/1\/toggle"}
[2026-01-09 14:08:50.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/{id}","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:08:50.000000] INFO: 尝试匹配路由 {"route_pattern":"PUT \/api\/user\/device","route_path":"\/api\/user\/device","pattern":"\/^\\\/api\\\/user\\\/device$\/","request_path":"\/api\/plugin\/1\/toggle"}
[2026-01-09 14:08:50.000000] INFO: 尝试匹配路由 {"route_pattern":"PUT \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1\/toggle"}
[2026-01-09 14:08:50.000000] INFO: 尝试匹配路由 {"route_pattern":"PUT \/api\/message\/{deviceId}\/read","route_path":"\/api\/message\/{deviceId}\/read","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/read$\/","request_path":"\/api\/plugin\/1\/toggle"}
[2026-01-09 14:08:50.000000] INFO: 尝试匹配路由 {"route_pattern":"PUT \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1\/toggle"}
[2026-01-09 14:08:50.000000] INFO: 尝试匹配路由 {"route_pattern":"PUT \/api\/firmware\/publish\/{id}","route_path":"\/api\/firmware\/publish\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/publish\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1\/toggle"}
[2026-01-09 14:08:50.000000] INFO: 尝试匹配路由 {"route_pattern":"PUT \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1\/toggle"}
[2026-01-09 14:08:50.000000] INFO: 尝试匹配路由 {"route_pattern":"PUT \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1\/toggle"}
[2026-01-09 14:08:50.000000] INFO: 尝试匹配路由 {"route_pattern":"PUT \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1\/toggle"}
[2026-01-09 14:08:50.000000] INFO: 尝试匹配路由 {"route_pattern":"PUT \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/1\/toggle"}
[2026-01-09 14:08:50.000000] INFO: 尝试匹配路由 {"route_pattern":"PUT \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1\/toggle"}
[2026-01-09 14:08:50.000000] INFO: 尝试匹配路由 {"route_pattern":"PUT \/api\/system\/settings","route_path":"\/api\/system\/settings","pattern":"\/^\\\/api\\\/system\\\/settings$\/","request_path":"\/api\/plugin\/1\/toggle"}
[2026-01-09 14:08:50.000000] INFO: API请求 {"method":"PUT","path":"\/api\/plugin\/1\/toggle","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0"}
[2026-01-09 14:08:50.000000] INFO: 速率限制中间件执行 {"request":{"method":"PUT","uri":"\/api\/plugin\/1\/toggle?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/1\/toggle","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Content-Length":"21","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/143.0.0.0 Safari\/537.36 Edg\/143.0.0.0","sec-ch-ua":"\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","Content-Type":"application\/json","sec-ch-ua-mobile":"?0","Accept":"*\/*","Origin":"http:\/\/localhost:8000","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"},"body":"{\"status\":\"disabled\"}"}}
[2026-01-09 14:08:50.000000] INFO: 未匹配到路由 {"method":"PUT","path":"\/api\/plugin\/1\/toggle"}
[2026-01-09 14:12:42.000000] INFO: 路由匹配开始 {"method":"POST","path":"\/api\/plugin\/initialize"}
[2026-01-09 14:12:42.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/{id}","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:12:42.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/register","route_path":"\/api\/user\/register","pattern":"\/^\\\/api\\\/user\\\/register$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:12:42.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/login","route_path":"\/api\/user\/login","pattern":"\/^\\\/api\\\/user\\\/login$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:12:42.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/bind","route_path":"\/api\/user\/bind","pattern":"\/^\\\/api\\\/user\\\/bind$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:12:42.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/unbind","route_path":"\/api\/user\/unbind","pattern":"\/^\\\/api\\\/user\\\/unbind$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:12:42.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/first-admin","route_path":"\/api\/user\/first-admin","pattern":"\/^\\\/api\\\/user\\\/first-admin$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:12:42.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:12:42.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:12:42.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/message","route_path":"\/api\/message","pattern":"\/^\\\/api\\\/message$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:12:42.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:12:42.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:12:42.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/group\/add_device","route_path":"\/api\/group\/add_device","pattern":"\/^\\\/api\\\/group\\\/add_device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:12:42.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/group\/remove_device","route_path":"\/api\/group\/remove_device","pattern":"\/^\\\/api\\\/group\\\/remove_device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:12:42.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:12:42.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/add_device","route_path":"\/api\/tag\/add_device","pattern":"\/^\\\/api\\\/tag\\\/add_device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:12:42.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/remove_device","route_path":"\/api\/tag\/remove_device","pattern":"\/^\\\/api\\\/tag\\\/remove_device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:12:42.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/batch_add","route_path":"\/api\/tag\/batch_add","pattern":"\/^\\\/api\\\/tag\\\/batch_add$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:12:42.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/batch_remove","route_path":"\/api\/tag\/batch_remove","pattern":"\/^\\\/api\\\/tag\\\/batch_remove$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:12:42.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:12:42.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/push_task\/add_log","route_path":"\/api\/push_task\/add_log","pattern":"\/^\\\/api\\\/push_task\\\/add_log$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:12:42.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/push_task\/batch_log","route_path":"\/api\/push_task\/batch_log","pattern":"\/^\\\/api\\\/push_task\\\/batch_log$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:12:42.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/notification\/publish","route_path":"\/api\/notification\/publish","pattern":"\/^\\\/api\\\/notification\\\/publish$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:12:42.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","route_path":"\/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)\\\/enable\\\/(?P<pluginId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:12:42.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","route_path":"\/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)\\\/disable\\\/(?P<pluginId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:12:42.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/external","route_path":"\/api\/plugin\/external","pattern":"\/^\\\/api\\\/plugin\\\/external$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:12:42.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/upload","route_path":"\/api\/plugin\/upload","pattern":"\/^\\\/api\\\/plugin\\\/upload$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:12:42.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/approve\/{id}","route_path":"\/api\/plugin\/approve\/{id}","pattern":"\/^\\\/api\\\/plugin\\\/approve\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:12:42.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/initialize","route_path":"\/api\/plugin\/initialize","pattern":"\/^\\\/api\\\/plugin\\\/initialize$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:12:42.000000] INFO: 路由匹配成功 {"route_pattern":"POST \/api\/plugin\/initialize","handler":"PluginController@initializePlugins","matches":["\/api\/plugin\/initialize"]}
[2026-01-09 14:12:42.000000] INFO: API请求 {"method":"POST","path":"\/api\/plugin\/initialize","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 14:12:42.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/plugin\/initialize?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/initialize","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Content-Type":"application\/x-www-form-urlencoded","Host":"localhost:8000","Content-Length":"0","Connection":"Keep-Alive"},"body":""}}
[2026-01-09 14:12:42.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":8.606910705566406e-5}
[2026-01-09 14:12:42.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.8848648071289062e-5}
[2026-01-09 14:12:42.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":1.9073486328125e-5}
[2026-01-09 14:12:42.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":1.8835067749023438e-5}
[2026-01-09 14:12:42.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.002716064453125e-5}
[2026-01-09 14:12:42.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.6226043701171875e-5}
[2026-01-09 14:12:42.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.6941299438476562e-5}
[2026-01-09 14:12:42.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.9087066650390625e-5}
[2026-01-09 14:12:42.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":3.0040740966796875e-5}
[2026-01-09 14:12:42.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.09808349609375e-5}
[2026-01-09 14:12:42.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":1.8835067749023438e-5}
[2026-01-09 14:12:42.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.06238102912902832}
[2026-01-09 14:12:42.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:12:42.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:13:18.000000] INFO: 路由匹配开始 {"method":"POST","path":"\/api\/plugin\/initialize"}
[2026-01-09 14:13:18.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/{id}","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:13:18.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/register","route_path":"\/api\/user\/register","pattern":"\/^\\\/api\\\/user\\\/register$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:13:18.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/login","route_path":"\/api\/user\/login","pattern":"\/^\\\/api\\\/user\\\/login$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:13:18.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/bind","route_path":"\/api\/user\/bind","pattern":"\/^\\\/api\\\/user\\\/bind$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:13:18.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/unbind","route_path":"\/api\/user\/unbind","pattern":"\/^\\\/api\\\/user\\\/unbind$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:13:18.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/first-admin","route_path":"\/api\/user\/first-admin","pattern":"\/^\\\/api\\\/user\\\/first-admin$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:13:18.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:13:18.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:13:18.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/message","route_path":"\/api\/message","pattern":"\/^\\\/api\\\/message$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:13:18.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:13:18.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:13:18.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/group\/add_device","route_path":"\/api\/group\/add_device","pattern":"\/^\\\/api\\\/group\\\/add_device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:13:18.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/group\/remove_device","route_path":"\/api\/group\/remove_device","pattern":"\/^\\\/api\\\/group\\\/remove_device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:13:18.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:13:18.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/add_device","route_path":"\/api\/tag\/add_device","pattern":"\/^\\\/api\\\/tag\\\/add_device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:13:18.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/remove_device","route_path":"\/api\/tag\/remove_device","pattern":"\/^\\\/api\\\/tag\\\/remove_device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:13:18.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/batch_add","route_path":"\/api\/tag\/batch_add","pattern":"\/^\\\/api\\\/tag\\\/batch_add$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:13:18.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/batch_remove","route_path":"\/api\/tag\/batch_remove","pattern":"\/^\\\/api\\\/tag\\\/batch_remove$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:13:18.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:13:18.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/push_task\/add_log","route_path":"\/api\/push_task\/add_log","pattern":"\/^\\\/api\\\/push_task\\\/add_log$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:13:18.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/push_task\/batch_log","route_path":"\/api\/push_task\/batch_log","pattern":"\/^\\\/api\\\/push_task\\\/batch_log$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:13:18.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/notification\/publish","route_path":"\/api\/notification\/publish","pattern":"\/^\\\/api\\\/notification\\\/publish$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:13:18.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","route_path":"\/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)\\\/enable\\\/(?P<pluginId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:13:18.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","route_path":"\/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)\\\/disable\\\/(?P<pluginId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:13:18.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/external","route_path":"\/api\/plugin\/external","pattern":"\/^\\\/api\\\/plugin\\\/external$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:13:18.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/upload","route_path":"\/api\/plugin\/upload","pattern":"\/^\\\/api\\\/plugin\\\/upload$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:13:18.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/approve\/{id}","route_path":"\/api\/plugin\/approve\/{id}","pattern":"\/^\\\/api\\\/plugin\\\/approve\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:13:18.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/initialize","route_path":"\/api\/plugin\/initialize","pattern":"\/^\\\/api\\\/plugin\\\/initialize$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:13:18.000000] INFO: 路由匹配成功 {"route_pattern":"POST \/api\/plugin\/initialize","handler":"PluginController@initializePlugins","matches":["\/api\/plugin\/initialize"]}
[2026-01-09 14:13:18.000000] INFO: API请求 {"method":"POST","path":"\/api\/plugin\/initialize","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 14:13:18.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/plugin\/initialize?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/initialize","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Content-Type":"application\/x-www-form-urlencoded","Host":"localhost:8000","Content-Length":"0"},"body":""}}
[2026-01-09 14:13:18.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":9.799003601074219e-5}
[2026-01-09 14:13:18.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":3.814697265625e-5}
[2026-01-09 14:13:18.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":3.600120544433594e-5}
[2026-01-09 14:13:18.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":3.0994415283203125e-5}
[2026-01-09 14:13:18.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.7894973754882812e-5}
[2026-01-09 14:13:18.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.5987625122070312e-5}
[2026-01-09 14:13:18.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":1.9073486328125e-5}
[2026-01-09 14:13:18.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":1.9788742065429688e-5}
[2026-01-09 14:13:18.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.6941299438476562e-5}
[2026-01-09 14:13:18.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.4080276489257812e-5}
[2026-01-09 14:13:18.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.09808349609375e-5}
[2026-01-09 14:13:18.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0788111686706543}
[2026-01-09 14:13:18.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:13:18.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:13:18.000000] INFO: API操作 {"user_id":1,"action":"plugin_initialize"}
[2026-01-09 14:13:51.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 14:13:51.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/{id}","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:13:51.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:13:51.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:13:51.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:13:51.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:13:51.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:13:51.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:13:51.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:13:51.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:13:51.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:13:51.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:13:51.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:13:51.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:13:51.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:13:51.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:13:51.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:13:51.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:13:51.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:13:51.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:13:51.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:13:51.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:13:51.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:13:51.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:13:51.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:13:51.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:13:51.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:13:51.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:13:51.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:13:51.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 14:13:51.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 14:13:51.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000"},"body":""}}
[2026-01-09 14:13:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":4.315376281738281e-5}
[2026-01-09 14:13:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.09808349609375e-5}
[2026-01-09 14:13:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.09808349609375e-5}
[2026-01-09 14:13:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":1.8835067749023438e-5}
[2026-01-09 14:13:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.2172927856445312e-5}
[2026-01-09 14:13:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.6941299438476562e-5}
[2026-01-09 14:13:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.002716064453125e-5}
[2026-01-09 14:13:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.09808349609375e-5}
[2026-01-09 14:13:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.09808349609375e-5}
[2026-01-09 14:13:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":1.9788742065429688e-5}
[2026-01-09 14:13:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":1.8835067749023438e-5}
[2026-01-09 14:13:52.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.05517411231994629}
[2026-01-09 14:13:52.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:13:52.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:13:52.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_list"}
[2026-01-09 14:14:09.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:09.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/{id}","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","GET \/api\/plugin\/pending","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/initialize","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:14:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:09.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/{id}","route_path":"\/api\/plugin\/{id}","pattern":"\/^\\\/api\\\/plugin\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:09.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin\/{id}","handler":"PluginController@getPlugin","matches":{"0":"\/api\/plugin\/stats","id":"stats","1":"stats"}}
[2026-01-09 14:14:09.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 14:14:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000"},"body":""}}
[2026-01-09 14:14:09.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":4.9114227294921875e-5}
[2026-01-09 14:14:09.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":8.082389831542969e-5}
[2026-01-09 14:14:09.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.002716064453125e-5}
[2026-01-09 14:14:09.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.6941299438476562e-5}
[2026-01-09 14:14:09.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.5987625122070312e-5}
[2026-01-09 14:14:09.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.09808349609375e-5}
[2026-01-09 14:14:09.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.4080276489257812e-5}
[2026-01-09 14:14:09.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.09808349609375e-5}
[2026-01-09 14:14:09.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.8133392333984375e-5}
[2026-01-09 14:14:09.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.09808349609375e-5}
[2026-01-09 14:14:09.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":1.9073486328125e-5}
[2026-01-09 14:14:09.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.05877518653869629}
[2026-01-09 14:14:09.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:14:09.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:14:09.000000] INFO: API操作 {"user_id":1,"plugin_id":"stats","action":"plugin_get_detail"}
[2026-01-09 14:14:55.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:55.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","GET \/api\/plugin\/{id}","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:14:55.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:55.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:55.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:55.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:55.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:55.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:55.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:55.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:55.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:55.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:55.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:55.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:55.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:55.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:55.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:55.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:55.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:55.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:55.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:55.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:55.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:55.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:55.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:55.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:55.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:55.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:55.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:55.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:14:55.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin\/stats","handler":"PluginController@getPluginStats","matches":["\/api\/plugin\/stats"]}
[2026-01-09 14:14:55.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 14:14:55.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000"},"body":""}}
[2026-01-09 14:14:55.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":0.00012803077697753906}
[2026-01-09 14:14:55.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":3.0040740966796875e-5}
[2026-01-09 14:14:55.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.9087066650390625e-5}
[2026-01-09 14:14:55.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.9087066650390625e-5}
[2026-01-09 14:14:55.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.4080276489257812e-5}
[2026-01-09 14:14:55.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.7179718017578125e-5}
[2026-01-09 14:14:55.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.5987625122070312e-5}
[2026-01-09 14:14:55.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":3.2901763916015625e-5}
[2026-01-09 14:14:55.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.5987625122070312e-5}
[2026-01-09 14:14:55.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":3.2901763916015625e-5}
[2026-01-09 14:14:55.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.5033950805664062e-5}
[2026-01-09 14:14:55.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.06691193580627441}
[2026-01-09 14:14:55.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:14:55.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:14:55.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_stats"}
[2026-01-09 14:15:09.000000] INFO: 路由匹配开始 {"method":"POST","path":"\/api\/plugin\/initialize"}
[2026-01-09 14:15:09.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","GET \/api\/plugin\/{id}","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:15:09.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/register","route_path":"\/api\/user\/register","pattern":"\/^\\\/api\\\/user\\\/register$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:15:09.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/login","route_path":"\/api\/user\/login","pattern":"\/^\\\/api\\\/user\\\/login$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:15:09.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/bind","route_path":"\/api\/user\/bind","pattern":"\/^\\\/api\\\/user\\\/bind$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:15:09.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/unbind","route_path":"\/api\/user\/unbind","pattern":"\/^\\\/api\\\/user\\\/unbind$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:15:09.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/first-admin","route_path":"\/api\/user\/first-admin","pattern":"\/^\\\/api\\\/user\\\/first-admin$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:15:09.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:15:09.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:15:09.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/message","route_path":"\/api\/message","pattern":"\/^\\\/api\\\/message$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:15:09.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:15:09.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:15:09.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/group\/add_device","route_path":"\/api\/group\/add_device","pattern":"\/^\\\/api\\\/group\\\/add_device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:15:09.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/group\/remove_device","route_path":"\/api\/group\/remove_device","pattern":"\/^\\\/api\\\/group\\\/remove_device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:15:09.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:15:09.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/add_device","route_path":"\/api\/tag\/add_device","pattern":"\/^\\\/api\\\/tag\\\/add_device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:15:09.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/remove_device","route_path":"\/api\/tag\/remove_device","pattern":"\/^\\\/api\\\/tag\\\/remove_device$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:15:09.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/batch_add","route_path":"\/api\/tag\/batch_add","pattern":"\/^\\\/api\\\/tag\\\/batch_add$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:15:09.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/batch_remove","route_path":"\/api\/tag\/batch_remove","pattern":"\/^\\\/api\\\/tag\\\/batch_remove$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:15:09.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:15:09.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/push_task\/add_log","route_path":"\/api\/push_task\/add_log","pattern":"\/^\\\/api\\\/push_task\\\/add_log$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:15:09.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/push_task\/batch_log","route_path":"\/api\/push_task\/batch_log","pattern":"\/^\\\/api\\\/push_task\\\/batch_log$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:15:09.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/notification\/publish","route_path":"\/api\/notification\/publish","pattern":"\/^\\\/api\\\/notification\\\/publish$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:15:09.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/external","route_path":"\/api\/plugin\/external","pattern":"\/^\\\/api\\\/plugin\\\/external$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:15:09.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/upload","route_path":"\/api\/plugin\/upload","pattern":"\/^\\\/api\\\/plugin\\\/upload$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:15:09.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/initialize","route_path":"\/api\/plugin\/initialize","pattern":"\/^\\\/api\\\/plugin\\\/initialize$\/","request_path":"\/api\/plugin\/initialize"}
[2026-01-09 14:15:09.000000] INFO: 路由匹配成功 {"route_pattern":"POST \/api\/plugin\/initialize","handler":"PluginController@initializePlugins","matches":["\/api\/plugin\/initialize"]}
[2026-01-09 14:15:09.000000] INFO: API请求 {"method":"POST","path":"\/api\/plugin\/initialize","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 14:15:09.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/plugin\/initialize?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/initialize","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Content-Type":"application\/x-www-form-urlencoded","Host":"localhost:8000","Content-Length":"0"},"body":""}}
[2026-01-09 14:15:09.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":6.103515625e-5}
[2026-01-09 14:15:09.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":3.0040740966796875e-5}
[2026-01-09 14:15:09.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.9087066650390625e-5}
[2026-01-09 14:15:09.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.5987625122070312e-5}
[2026-01-09 14:15:09.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":5.888938903808594e-5}
[2026-01-09 14:15:09.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.5987625122070312e-5}
[2026-01-09 14:15:09.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.5987625122070312e-5}
[2026-01-09 14:15:09.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.6941299438476562e-5}
[2026-01-09 14:15:09.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.5987625122070312e-5}
[2026-01-09 14:15:09.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":3.1948089599609375e-5}
[2026-01-09 14:15:09.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":3.1948089599609375e-5}
[2026-01-09 14:15:09.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.1047670841217041}
[2026-01-09 14:15:09.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:15:09.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:15:09.000000] INFO: API操作 {"user_id":1,"action":"plugin_initialize"}
[2026-01-09 14:16:27.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/user\/devices"}
[2026-01-09 14:16:27.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","GET \/api\/plugin\/{id}","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 14:16:27.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/user\/devices","handler":"UserController@getDevices","matches":["\/api\/user\/devices"]}
[2026-01-09 14:16:27.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:16:27.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767939386901","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:16:27.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":4.410743713378906e-5}
[2026-01-09 14:16:27.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":1.9073486328125e-5}
[2026-01-09 14:16:27.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":1.9073486328125e-5}
[2026-01-09 14:16:27.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":1.7881393432617188e-5}
[2026-01-09 14:16:27.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":1.8835067749023438e-5}
[2026-01-09 14:16:27.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":1.9073486328125e-5}
[2026-01-09 14:16:27.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.4080276489257812e-5}
[2026-01-09 14:16:27.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":3.0994415283203125e-5}
[2026-01-09 14:16:27.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.4080276489257812e-5}
[2026-01-09 14:16:27.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.6941299438476562e-5}
[2026-01-09 14:16:27.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.1219253540039062e-5}
[2026-01-09 14:16:27.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.054489850997924805}
[2026-01-09 14:16:27.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:16:27.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:16:27.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 14:16:27.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 14:16:27.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 14:16:27.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 14:16:27.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","GET \/api\/plugin\/{id}","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:16:27.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 14:16:27.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:16:27.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767939386901","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:16:27.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":3.886222839355469e-5}
[2026-01-09 14:16:27.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":1.8835067749023438e-5}
[2026-01-09 14:16:27.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.5987625122070312e-5}
[2026-01-09 14:16:27.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":1.811981201171875e-5}
[2026-01-09 14:16:27.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.288818359375e-5}
[2026-01-09 14:16:27.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.288818359375e-5}
[2026-01-09 14:16:27.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":1.7881393432617188e-5}
[2026-01-09 14:16:27.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.384185791015625e-5}
[2026-01-09 14:16:27.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.7894973754882812e-5}
[2026-01-09 14:16:27.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.002716064453125e-5}
[2026-01-09 14:16:27.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.5033950805664062e-5}
[2026-01-09 14:16:27.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.05256485939025879}
[2026-01-09 14:16:27.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:16:27.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:16:27.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_list"}
[2026-01-09 14:16:27.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-09 14:16:27.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","GET \/api\/plugin\/{id}","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:16:27.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin\/stats","handler":"PluginController@getPluginStats","matches":["\/api\/plugin\/stats"]}
[2026-01-09 14:16:27.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:16:27.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767939386901","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:16:27.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":3.600120544433594e-5}
[2026-01-09 14:16:27.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.5987625122070312e-5}
[2026-01-09 14:16:27.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.5033950805664062e-5}
[2026-01-09 14:16:27.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":1.9073486328125e-5}
[2026-01-09 14:16:27.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.5033950805664062e-5}
[2026-01-09 14:16:27.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.09808349609375e-5}
[2026-01-09 14:16:27.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":1.8835067749023438e-5}
[2026-01-09 14:16:27.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":1.9073486328125e-5}
[2026-01-09 14:16:27.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":1.9073486328125e-5}
[2026-01-09 14:16:27.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.002716064453125e-5}
[2026-01-09 14:16:27.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":1.9073486328125e-5}
[2026-01-09 14:16:27.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.04983115196228027}
[2026-01-09 14:16:27.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:16:27.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:16:27.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_stats"}
[2026-01-09 14:16:27.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","GET \/api\/plugin\/{id}","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/device\/{deviceId}","route_path":"\/api\/plugin\/device\/{deviceId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/pending","route_path":"\/api\/plugin\/pending","pattern":"\/^\\\/api\\\/plugin\\\/pending$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/{id}","route_path":"\/api\/plugin\/{id}","pattern":"\/^\\\/api\\\/plugin\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/status","route_path":"\/api\/status","pattern":"\/^\\\/api\\\/status$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/settings","route_path":"\/api\/system\/settings","pattern":"\/^\\\/api\\\/system\\\/settings$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/info","route_path":"\/api\/system\/info","pattern":"\/^\\\/api\\\/system\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/database\/backup","route_path":"\/api\/system\/database\/backup","pattern":"\/^\\\/api\\\/system\\\/database\\\/backup$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:16:27.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:16:27.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767939386901","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:16:27.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 14:20:33.000000] INFO: 路由匹配开始 {"method":"POST","path":"\/api\/plugin\/init"}
[2026-01-09 14:20:33.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:20:33.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/register","route_path":"\/api\/user\/register","pattern":"\/^\\\/api\\\/user\\\/register$\/","request_path":"\/api\/plugin\/init"}
[2026-01-09 14:20:33.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/login","route_path":"\/api\/user\/login","pattern":"\/^\\\/api\\\/user\\\/login$\/","request_path":"\/api\/plugin\/init"}
[2026-01-09 14:20:33.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/bind","route_path":"\/api\/user\/bind","pattern":"\/^\\\/api\\\/user\\\/bind$\/","request_path":"\/api\/plugin\/init"}
[2026-01-09 14:20:33.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/unbind","route_path":"\/api\/user\/unbind","pattern":"\/^\\\/api\\\/user\\\/unbind$\/","request_path":"\/api\/plugin\/init"}
[2026-01-09 14:20:33.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user\/first-admin","route_path":"\/api\/user\/first-admin","pattern":"\/^\\\/api\\\/user\\\/first-admin$\/","request_path":"\/api\/plugin\/init"}
[2026-01-09 14:20:33.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/init"}
[2026-01-09 14:20:33.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/init"}
[2026-01-09 14:20:33.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/message","route_path":"\/api\/message","pattern":"\/^\\\/api\\\/message$\/","request_path":"\/api\/plugin\/init"}
[2026-01-09 14:20:33.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/init"}
[2026-01-09 14:20:33.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/init"}
[2026-01-09 14:20:33.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/group\/add_device","route_path":"\/api\/group\/add_device","pattern":"\/^\\\/api\\\/group\\\/add_device$\/","request_path":"\/api\/plugin\/init"}
[2026-01-09 14:20:33.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/group\/remove_device","route_path":"\/api\/group\/remove_device","pattern":"\/^\\\/api\\\/group\\\/remove_device$\/","request_path":"\/api\/plugin\/init"}
[2026-01-09 14:20:33.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/init"}
[2026-01-09 14:20:33.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/add_device","route_path":"\/api\/tag\/add_device","pattern":"\/^\\\/api\\\/tag\\\/add_device$\/","request_path":"\/api\/plugin\/init"}
[2026-01-09 14:20:33.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/remove_device","route_path":"\/api\/tag\/remove_device","pattern":"\/^\\\/api\\\/tag\\\/remove_device$\/","request_path":"\/api\/plugin\/init"}
[2026-01-09 14:20:33.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/batch_add","route_path":"\/api\/tag\/batch_add","pattern":"\/^\\\/api\\\/tag\\\/batch_add$\/","request_path":"\/api\/plugin\/init"}
[2026-01-09 14:20:33.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/tag\/batch_remove","route_path":"\/api\/tag\/batch_remove","pattern":"\/^\\\/api\\\/tag\\\/batch_remove$\/","request_path":"\/api\/plugin\/init"}
[2026-01-09 14:20:33.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/init"}
[2026-01-09 14:20:33.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/push_task\/add_log","route_path":"\/api\/push_task\/add_log","pattern":"\/^\\\/api\\\/push_task\\\/add_log$\/","request_path":"\/api\/plugin\/init"}
[2026-01-09 14:20:33.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/push_task\/batch_log","route_path":"\/api\/push_task\/batch_log","pattern":"\/^\\\/api\\\/push_task\\\/batch_log$\/","request_path":"\/api\/plugin\/init"}
[2026-01-09 14:20:33.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/notification\/publish","route_path":"\/api\/notification\/publish","pattern":"\/^\\\/api\\\/notification\\\/publish$\/","request_path":"\/api\/plugin\/init"}
[2026-01-09 14:20:33.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/external","route_path":"\/api\/plugin\/external","pattern":"\/^\\\/api\\\/plugin\\\/external$\/","request_path":"\/api\/plugin\/init"}
[2026-01-09 14:20:33.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/upload","route_path":"\/api\/plugin\/upload","pattern":"\/^\\\/api\\\/plugin\\\/upload$\/","request_path":"\/api\/plugin\/init"}
[2026-01-09 14:20:33.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/initialize","route_path":"\/api\/plugin\/initialize","pattern":"\/^\\\/api\\\/plugin\\\/initialize$\/","request_path":"\/api\/plugin\/init"}
[2026-01-09 14:20:33.000000] INFO: 尝试匹配路由 {"route_pattern":"POST \/api\/plugin\/init","route_path":"\/api\/plugin\/init","pattern":"\/^\\\/api\\\/plugin\\\/init$\/","request_path":"\/api\/plugin\/init"}
[2026-01-09 14:20:33.000000] INFO: 路由匹配成功 {"route_pattern":"POST \/api\/plugin\/init","handler":"PluginController@initPluginsApi","matches":["\/api\/plugin\/init"]}
[2026-01-09 14:20:33.000000] INFO: API请求 {"method":"POST","path":"\/api\/plugin\/init","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 14:20:33.000000] INFO: 速率限制中间件执行 {"request":{"method":"POST","uri":"\/api\/plugin\/init?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/init","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Content-Type":"application\/x-www-form-urlencoded","Host":"localhost:8000","Content-Length":"0","Connection":"Keep-Alive"},"body":""}}
[2026-01-09 14:20:34.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":7.700920104980469e-5}
[2026-01-09 14:20:34.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.9087066650390625e-5}
[2026-01-09 14:20:34.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.6941299438476562e-5}
[2026-01-09 14:20:34.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.6941299438476562e-5}
[2026-01-09 14:20:34.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.6941299438476562e-5}
[2026-01-09 14:20:34.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.6941299438476562e-5}
[2026-01-09 14:20:34.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.6941299438476562e-5}
[2026-01-09 14:20:34.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.6941299438476562e-5}
[2026-01-09 14:20:34.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":3.2901763916015625e-5}
[2026-01-09 14:20:34.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":5.0067901611328125e-5}
[2026-01-09 14:20:34.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.9087066650390625e-5}
[2026-01-09 14:20:34.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.21126008033752441}
[2026-01-09 14:20:34.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:20:34.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:20:34.000000] INFO: API操作 {"user_id":1,"action":"plugin_init_api"}
[2026-01-09 14:20:49.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 14:20:49.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:20:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:20:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:20:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:20:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:20:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:20:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:20:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:20:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:20:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:20:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:20:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:20:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:20:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:20:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:20:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:20:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:20:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:20:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:20:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:20:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:20:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:20:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:20:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:20:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:20:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:20:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:20:49.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:20:49.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 14:20:49.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 14:20:49.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000"},"body":""}}
[2026-01-09 14:20:49.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":4.100799560546875e-5}
[2026-01-09 14:20:49.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.09808349609375e-5}
[2026-01-09 14:20:49.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.09808349609375e-5}
[2026-01-09 14:20:49.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.8133392333984375e-5}
[2026-01-09 14:20:49.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.6941299438476562e-5}
[2026-01-09 14:20:49.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.9087066650390625e-5}
[2026-01-09 14:20:49.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":3.0040740966796875e-5}
[2026-01-09 14:20:49.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.8133392333984375e-5}
[2026-01-09 14:20:49.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.7179718017578125e-5}
[2026-01-09 14:20:49.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.09808349609375e-5}
[2026-01-09 14:20:49.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":1.9788742065429688e-5}
[2026-01-09 14:20:49.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0536649227142334}
[2026-01-09 14:20:49.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:20:49.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:20:49.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_list"}
[2026-01-09 14:21:04.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-09 14:21:04.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:21:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:21:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:21:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:21:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:21:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:21:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:21:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:21:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:21:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:21:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:21:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:21:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:21:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:21:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:21:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:21:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:21:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:21:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:21:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:21:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:21:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:21:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:21:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:21:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:21:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:21:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:21:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:21:04.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:21:04.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin\/stats","handler":"PluginController@getPluginStats","matches":["\/api\/plugin\/stats"]}
[2026-01-09 14:21:04.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 14:21:04.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000"},"body":""}}
[2026-01-09 14:21:04.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":3.695487976074219e-5}
[2026-01-09 14:21:04.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.09808349609375e-5}
[2026-01-09 14:21:04.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":1.9073486328125e-5}
[2026-01-09 14:21:04.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":1.9073486328125e-5}
[2026-01-09 14:21:04.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":1.9073486328125e-5}
[2026-01-09 14:21:04.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.09808349609375e-5}
[2026-01-09 14:21:04.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.002716064453125e-5}
[2026-01-09 14:21:04.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.002716064453125e-5}
[2026-01-09 14:21:04.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.002716064453125e-5}
[2026-01-09 14:21:04.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.002716064453125e-5}
[2026-01-09 14:21:04.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.6941299438476562e-5}
[2026-01-09 14:21:04.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0523991584777832}
[2026-01-09 14:21:04.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:21:04.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:21:04.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_stats"}
[2026-01-09 14:21:20.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/1"}
[2026-01-09 14:21:20.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:21:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:21:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:21:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:21:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:21:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:21:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:21:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:21:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:21:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:21:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:21:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:21:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:21:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:21:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:21:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:21:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:21:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:21:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:21:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:21:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:21:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:21:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:21:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:21:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:21:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:21:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:21:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:21:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:21:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/device\/{deviceId}","route_path":"\/api\/plugin\/device\/{deviceId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:21:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/pending","route_path":"\/api\/plugin\/pending","pattern":"\/^\\\/api\\\/plugin\\\/pending$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:21:20.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/{id}","route_path":"\/api\/plugin\/{id}","pattern":"\/^\\\/api\\\/plugin\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:21:20.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin\/{id}","handler":"PluginController@getPlugin","matches":{"0":"\/api\/plugin\/1","id":"1","1":"1"}}
[2026-01-09 14:21:20.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/1","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 14:21:20.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/1?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/1","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000"},"body":""}}
[2026-01-09 14:21:20.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":3.3855438232421875e-5}
[2026-01-09 14:21:20.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":1.8835067749023438e-5}
[2026-01-09 14:21:20.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.193450927734375e-5}
[2026-01-09 14:21:20.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.4080276489257812e-5}
[2026-01-09 14:21:20.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.09808349609375e-5}
[2026-01-09 14:21:20.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.002716064453125e-5}
[2026-01-09 14:21:20.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":1.9073486328125e-5}
[2026-01-09 14:21:20.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.1219253540039062e-5}
[2026-01-09 14:21:20.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.002716064453125e-5}
[2026-01-09 14:21:20.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":1.8835067749023438e-5}
[2026-01-09 14:21:20.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.002716064453125e-5}
[2026-01-09 14:21:20.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0504300594329834}
[2026-01-09 14:21:20.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:21:20.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:21:20.000000] INFO: API操作 {"user_id":1,"plugin_id":"1","action":"plugin_get_detail"}
[2026-01-09 14:22:35.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/user\/devices"}
[2026-01-09 14:22:35.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 14:22:35.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/user\/devices","handler":"UserController@getDevices","matches":["\/api\/user\/devices"]}
[2026-01-09 14:22:35.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:22:35.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767939755289","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:22:35.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":4.601478576660156e-5}
[2026-01-09 14:22:35.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":1.7881393432617188e-5}
[2026-01-09 14:22:35.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.002716064453125e-5}
[2026-01-09 14:22:35.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":1.9073486328125e-5}
[2026-01-09 14:22:35.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.002716064453125e-5}
[2026-01-09 14:22:35.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":1.9073486328125e-5}
[2026-01-09 14:22:35.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":1.811981201171875e-5}
[2026-01-09 14:22:35.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.5987625122070312e-5}
[2026-01-09 14:22:35.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":1.8835067749023438e-5}
[2026-01-09 14:22:35.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":1.9073486328125e-5}
[2026-01-09 14:22:35.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":1.9073486328125e-5}
[2026-01-09 14:22:35.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.050726890563964844}
[2026-01-09 14:22:35.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:22:35.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:22:35.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 14:22:35.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 14:22:35.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 14:22:35.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 14:22:35.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:22:35.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 14:22:35.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:22:35.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767939755289","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:22:35.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":3.886222839355469e-5}
[2026-01-09 14:22:35.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":3.2901763916015625e-5}
[2026-01-09 14:22:35.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":3.0994415283203125e-5}
[2026-01-09 14:22:35.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.7179718017578125e-5}
[2026-01-09 14:22:35.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.5033950805664062e-5}
[2026-01-09 14:22:35.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.1219253540039062e-5}
[2026-01-09 14:22:35.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.09808349609375e-5}
[2026-01-09 14:22:35.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.002716064453125e-5}
[2026-01-09 14:22:35.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.002716064453125e-5}
[2026-01-09 14:22:35.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.002716064453125e-5}
[2026-01-09 14:22:35.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":1.9788742065429688e-5}
[2026-01-09 14:22:35.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.04928302764892578}
[2026-01-09 14:22:35.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:22:35.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:22:35.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_list"}
[2026-01-09 14:22:35.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-09 14:22:35.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:22:35.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin\/stats","handler":"PluginController@getPluginStats","matches":["\/api\/plugin\/stats"]}
[2026-01-09 14:22:35.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:22:35.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767939755289","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:22:35.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":3.600120544433594e-5}
[2026-01-09 14:22:35.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":1.9073486328125e-5}
[2026-01-09 14:22:35.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.09808349609375e-5}
[2026-01-09 14:22:35.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.002716064453125e-5}
[2026-01-09 14:22:35.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.09808349609375e-5}
[2026-01-09 14:22:35.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":5.4836273193359375e-5}
[2026-01-09 14:22:35.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.002716064453125e-5}
[2026-01-09 14:22:35.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.002716064453125e-5}
[2026-01-09 14:22:35.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.002716064453125e-5}
[2026-01-09 14:22:35.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":1.9073486328125e-5}
[2026-01-09 14:22:35.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.1219253540039062e-5}
[2026-01-09 14:22:35.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.05092215538024902}
[2026-01-09 14:22:35.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:22:35.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:22:35.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_stats"}
[2026-01-09 14:22:35.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/device\/{deviceId}","route_path":"\/api\/plugin\/device\/{deviceId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/pending","route_path":"\/api\/plugin\/pending","pattern":"\/^\\\/api\\\/plugin\\\/pending$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/{id}","route_path":"\/api\/plugin\/{id}","pattern":"\/^\\\/api\\\/plugin\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/status","route_path":"\/api\/status","pattern":"\/^\\\/api\\\/status$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/settings","route_path":"\/api\/system\/settings","pattern":"\/^\\\/api\\\/system\\\/settings$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/info","route_path":"\/api\/system\/info","pattern":"\/^\\\/api\\\/system\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/database\/backup","route_path":"\/api\/system\/database\/backup","pattern":"\/^\\\/api\\\/system\\\/database\\\/backup$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:22:35.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:22:35.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767939755289","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:22:35.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 14:23:32.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 14:23:32.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:23:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:23:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:23:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:23:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:23:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:23:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:23:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:23:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:23:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:23:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:23:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:23:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:23:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:23:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:23:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:23:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:23:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:23:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:23:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:23:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:23:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:23:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:23:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:23:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:23:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:23:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:23:32.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:23:32.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 14:23:32.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 14:23:32.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000","Connection":"Keep-Alive"},"body":""}}
[2026-01-09 14:23:33.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":3.695487976074219e-5}
[2026-01-09 14:23:33.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":7.081031799316406e-5}
[2026-01-09 14:23:33.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.09808349609375e-5}
[2026-01-09 14:23:33.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.7894973754882812e-5}
[2026-01-09 14:23:33.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.7179718017578125e-5}
[2026-01-09 14:23:33.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":1.8835067749023438e-5}
[2026-01-09 14:23:33.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.002716064453125e-5}
[2026-01-09 14:23:33.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.384185791015625e-5}
[2026-01-09 14:23:33.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":5.1021575927734375e-5}
[2026-01-09 14:23:33.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.8133392333984375e-5}
[2026-01-09 14:23:33.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.6941299438476562e-5}
[2026-01-09 14:23:33.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0834801197052002}
[2026-01-09 14:23:33.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:23:33.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:23:33.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_list"}
[2026-01-09 14:23:48.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/1"}
[2026-01-09 14:23:48.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:23:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:23:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:23:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:23:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:23:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:23:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:23:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:23:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:23:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:23:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:23:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:23:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:23:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:23:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:23:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:23:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:23:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:23:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:23:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:23:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:23:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:23:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:23:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:23:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:23:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:23:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:23:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:23:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:23:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/device\/{deviceId}","route_path":"\/api\/plugin\/device\/{deviceId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:23:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/pending","route_path":"\/api\/plugin\/pending","pattern":"\/^\\\/api\\\/plugin\\\/pending$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:23:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/{id}","route_path":"\/api\/plugin\/{id}","pattern":"\/^\\\/api\\\/plugin\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:23:48.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin\/{id}","handler":"PluginController@getPlugin","matches":{"0":"\/api\/plugin\/1","id":"1","1":"1"}}
[2026-01-09 14:23:48.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/1","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 14:23:48.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/1?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/1","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000"},"body":""}}
[2026-01-09 14:23:49.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":4.601478576660156e-5}
[2026-01-09 14:23:49.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":3.0040740966796875e-5}
[2026-01-09 14:23:49.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.7179718017578125e-5}
[2026-01-09 14:23:49.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.5033950805664062e-5}
[2026-01-09 14:23:49.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":3.0040740966796875e-5}
[2026-01-09 14:23:49.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":3.0994415283203125e-5}
[2026-01-09 14:23:49.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.7894973754882812e-5}
[2026-01-09 14:23:49.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":3.600120544433594e-5}
[2026-01-09 14:23:49.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":4.100799560546875e-5}
[2026-01-09 14:23:49.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":3.0040740966796875e-5}
[2026-01-09 14:23:49.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.5987625122070312e-5}
[2026-01-09 14:23:49.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.10770392417907715}
[2026-01-09 14:23:49.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:23:49.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:23:49.000000] INFO: API操作 {"user_id":1,"plugin_id":"1","action":"plugin_get_detail"}
[2026-01-09 14:24:23.000000] INFO: 路由匹配开始 {"method":"DELETE","path":"\/api\/plugin\/1"}
[2026-01-09 14:24:23.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:24:23.000000] INFO: 尝试匹配路由 {"route_pattern":"DELETE \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:24:23.000000] INFO: 尝试匹配路由 {"route_pattern":"DELETE \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:24:23.000000] INFO: 尝试匹配路由 {"route_pattern":"DELETE \/api\/message\/{deviceId}\/{messageId}","route_path":"\/api\/message\/{deviceId}\/{messageId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/(?P<messageId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:24:23.000000] INFO: 尝试匹配路由 {"route_pattern":"DELETE \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:24:23.000000] INFO: 尝试匹配路由 {"route_pattern":"DELETE \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:24:23.000000] INFO: 尝试匹配路由 {"route_pattern":"DELETE \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:24:23.000000] INFO: 尝试匹配路由 {"route_pattern":"DELETE \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:24:23.000000] INFO: 尝试匹配路由 {"route_pattern":"DELETE \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:24:23.000000] INFO: 尝试匹配路由 {"route_pattern":"DELETE \/api\/plugin\/{id}","route_path":"\/api\/plugin\/{id}","pattern":"\/^\\\/api\\\/plugin\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/1"}
[2026-01-09 14:24:23.000000] INFO: 路由匹配成功 {"route_pattern":"DELETE \/api\/plugin\/{id}","handler":"PluginController@deletePlugin","matches":{"0":"\/api\/plugin\/1","id":"1","1":"1"}}
[2026-01-09 14:24:23.000000] INFO: API请求 {"method":"DELETE","path":"\/api\/plugin\/1","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 14:24:23.000000] INFO: 速率限制中间件执行 {"request":{"method":"DELETE","uri":"\/api\/plugin\/1?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/1","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000","Content-Length":"0"},"body":""}}
[2026-01-09 14:24:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":5.316734313964844e-5}
[2026-01-09 14:24:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":3.0040740966796875e-5}
[2026-01-09 14:24:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.8133392333984375e-5}
[2026-01-09 14:24:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.7179718017578125e-5}
[2026-01-09 14:24:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.5033950805664062e-5}
[2026-01-09 14:24:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.09808349609375e-5}
[2026-01-09 14:24:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":1.811981201171875e-5}
[2026-01-09 14:24:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":1.811981201171875e-5}
[2026-01-09 14:24:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":1.7881393432617188e-5}
[2026-01-09 14:24:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.002716064453125e-5}
[2026-01-09 14:24:24.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.002716064453125e-5}
[2026-01-09 14:24:24.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0729060173034668}
[2026-01-09 14:24:24.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:24:24.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:24:24.000000] INFO: API操作 {"user_id":1,"plugin_id":"1","action":"plugin_delete"}
[2026-01-09 14:24:38.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 14:24:38.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:24:38.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:24:38.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:24:38.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:24:38.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:24:38.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:24:38.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:24:38.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:24:38.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:24:38.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:24:38.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:24:38.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:24:38.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:24:38.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:24:38.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:24:38.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:24:38.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:24:38.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:24:38.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:24:38.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:24:38.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:24:38.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:24:38.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:24:38.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:24:38.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:24:38.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:24:38.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:24:38.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:24:38.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 14:24:38.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 14:24:38.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000"},"body":""}}
[2026-01-09 14:24:38.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":3.3855438232421875e-5}
[2026-01-09 14:24:38.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.5033950805664062e-5}
[2026-01-09 14:24:38.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.9087066650390625e-5}
[2026-01-09 14:24:38.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":4.982948303222656e-5}
[2026-01-09 14:24:38.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.002716064453125e-5}
[2026-01-09 14:24:38.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.09808349609375e-5}
[2026-01-09 14:24:38.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.5033950805664062e-5}
[2026-01-09 14:24:38.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":1.811981201171875e-5}
[2026-01-09 14:24:38.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":1.7881393432617188e-5}
[2026-01-09 14:24:38.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.8133392333984375e-5}
[2026-01-09 14:24:38.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.193450927734375e-5}
[2026-01-09 14:24:38.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.05981087684631348}
[2026-01-09 14:24:38.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:24:38.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:24:38.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_list"}
[2026-01-09 14:24:53.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-09 14:24:53.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:24:53.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:24:53.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:24:53.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:24:53.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:24:53.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:24:53.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:24:53.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:24:53.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:24:53.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:24:53.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:24:53.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:24:53.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:24:53.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:24:53.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:24:53.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:24:53.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:24:53.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:24:53.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:24:53.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:24:53.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:24:53.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:24:53.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:24:53.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:24:53.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:24:53.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:24:53.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:24:53.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:24:53.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:24:53.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin\/stats","handler":"PluginController@getPluginStats","matches":["\/api\/plugin\/stats"]}
[2026-01-09 14:24:53.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 14:24:53.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000"},"body":""}}
[2026-01-09 14:24:53.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":4.506111145019531e-5}
[2026-01-09 14:24:53.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":3.0994415283203125e-5}
[2026-01-09 14:24:53.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.3126602172851562e-5}
[2026-01-09 14:24:53.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.7894973754882812e-5}
[2026-01-09 14:24:53.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.193450927734375e-5}
[2026-01-09 14:24:53.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":1.811981201171875e-5}
[2026-01-09 14:24:53.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.002716064453125e-5}
[2026-01-09 14:24:53.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":1.9073486328125e-5}
[2026-01-09 14:24:53.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.5987625122070312e-5}
[2026-01-09 14:24:53.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.4080276489257812e-5}
[2026-01-09 14:24:53.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.5987625122070312e-5}
[2026-01-09 14:24:53.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.06374382972717285}
[2026-01-09 14:24:53.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:24:53.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:24:53.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_stats"}
[2026-01-09 14:30:22.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/user\/devices"}
[2026-01-09 14:30:22.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 14:30:22.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/user\/devices","handler":"UserController@getDevices","matches":["\/api\/user\/devices"]}
[2026-01-09 14:30:22.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:30:22.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767940221852","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:30:22.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":3.790855407714844e-5}
[2026-01-09 14:30:22.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.5033950805664062e-5}
[2026-01-09 14:30:22.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.8133392333984375e-5}
[2026-01-09 14:30:22.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.5987625122070312e-5}
[2026-01-09 14:30:22.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.193450927734375e-5}
[2026-01-09 14:30:22.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":3.695487976074219e-5}
[2026-01-09 14:30:22.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":1.9073486328125e-5}
[2026-01-09 14:30:22.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.002716064453125e-5}
[2026-01-09 14:30:22.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":1.811981201171875e-5}
[2026-01-09 14:30:22.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.4080276489257812e-5}
[2026-01-09 14:30:22.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":1.811981201171875e-5}
[2026-01-09 14:30:22.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.054368019104003906}
[2026-01-09 14:30:22.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:30:22.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:30:22.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 14:30:22.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 14:30:22.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 14:30:22.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 14:30:22.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:30:22.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 14:30:22.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:30:22.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767940221852","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:30:22.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":3.409385681152344e-5}
[2026-01-09 14:30:22.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.09808349609375e-5}
[2026-01-09 14:30:22.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":1.7881393432617188e-5}
[2026-01-09 14:30:22.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":1.811981201171875e-5}
[2026-01-09 14:30:22.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":1.7881393432617188e-5}
[2026-01-09 14:30:22.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":1.9073486328125e-5}
[2026-01-09 14:30:22.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.5987625122070312e-5}
[2026-01-09 14:30:22.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":4.506111145019531e-5}
[2026-01-09 14:30:22.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.3126602172851562e-5}
[2026-01-09 14:30:22.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.5033950805664062e-5}
[2026-01-09 14:30:22.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.7894973754882812e-5}
[2026-01-09 14:30:22.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.05722498893737793}
[2026-01-09 14:30:22.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:30:22.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:30:22.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_list"}
[2026-01-09 14:30:22.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-09 14:30:22.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:30:22.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin\/stats","handler":"PluginController@getPluginStats","matches":["\/api\/plugin\/stats"]}
[2026-01-09 14:30:22.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:30:22.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767940221852","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:30:22.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":5.602836608886719e-5}
[2026-01-09 14:30:22.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.6941299438476562e-5}
[2026-01-09 14:30:22.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.1219253540039062e-5}
[2026-01-09 14:30:22.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":1.7881393432617188e-5}
[2026-01-09 14:30:22.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":1.9073486328125e-5}
[2026-01-09 14:30:22.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":1.811981201171875e-5}
[2026-01-09 14:30:22.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":1.811981201171875e-5}
[2026-01-09 14:30:22.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":1.7881393432617188e-5}
[2026-01-09 14:30:22.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.5033950805664062e-5}
[2026-01-09 14:30:22.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.5987625122070312e-5}
[2026-01-09 14:30:22.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.5033950805664062e-5}
[2026-01-09 14:30:22.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.06171703338623047}
[2026-01-09 14:30:22.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:30:22.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:30:22.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_stats"}
[2026-01-09 14:30:22.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/device\/{deviceId}","route_path":"\/api\/plugin\/device\/{deviceId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/pending","route_path":"\/api\/plugin\/pending","pattern":"\/^\\\/api\\\/plugin\\\/pending$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/{id}","route_path":"\/api\/plugin\/{id}","pattern":"\/^\\\/api\\\/plugin\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/status","route_path":"\/api\/status","pattern":"\/^\\\/api\\\/status$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/settings","route_path":"\/api\/system\/settings","pattern":"\/^\\\/api\\\/system\\\/settings$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/info","route_path":"\/api\/system\/info","pattern":"\/^\\\/api\\\/system\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/database\/backup","route_path":"\/api\/system\/database\/backup","pattern":"\/^\\\/api\\\/system\\\/database\\\/backup$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:30:22.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:30:22.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767940221852","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:30:22.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 14:31:00.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/user\/devices"}
[2026-01-09 14:31:00.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 14:31:00.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/user\/devices","handler":"UserController@getDevices","matches":["\/api\/user\/devices"]}
[2026-01-09 14:31:00.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:31:00.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767940221852","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:31:00.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":4.9114227294921875e-5}
[2026-01-09 14:31:00.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.2172927856445312e-5}
[2026-01-09 14:31:00.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.193450927734375e-5}
[2026-01-09 14:31:00.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.09808349609375e-5}
[2026-01-09 14:31:00.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.3126602172851562e-5}
[2026-01-09 14:31:00.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.5033950805664062e-5}
[2026-01-09 14:31:00.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.3126602172851562e-5}
[2026-01-09 14:31:00.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.193450927734375e-5}
[2026-01-09 14:31:00.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.3126602172851562e-5}
[2026-01-09 14:31:00.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":1.7881393432617188e-5}
[2026-01-09 14:31:00.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":1.71661376953125e-5}
[2026-01-09 14:31:00.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.12322592735290527}
[2026-01-09 14:31:00.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:31:00.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:31:00.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 14:31:00.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 14:31:00.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 14:31:00.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 14:31:00.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:00.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 14:31:00.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:31:00.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767940221852","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:31:00.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":9.608268737792969e-5}
[2026-01-09 14:31:00.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":5.5789947509765625e-5}
[2026-01-09 14:31:00.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":3.0994415283203125e-5}
[2026-01-09 14:31:00.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":3.814697265625e-5}
[2026-01-09 14:31:00.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":3.910064697265625e-5}
[2026-01-09 14:31:00.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":3.504753112792969e-5}
[2026-01-09 14:31:00.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":3.600120544433594e-5}
[2026-01-09 14:31:00.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":0.00013184547424316406}
[2026-01-09 14:31:00.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":6.103515625e-5}
[2026-01-09 14:31:00.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":3.314018249511719e-5}
[2026-01-09 14:31:00.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":3.314018249511719e-5}
[2026-01-09 14:31:00.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.11065888404846191}
[2026-01-09 14:31:00.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:31:00.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:31:00.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_list"}
[2026-01-09 14:31:00.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:00.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:00.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:00.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin\/stats","handler":"PluginController@getPluginStats","matches":["\/api\/plugin\/stats"]}
[2026-01-09 14:31:00.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:31:00.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767940221852","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:31:00.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":4.1961669921875e-5}
[2026-01-09 14:31:00.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.5033950805664062e-5}
[2026-01-09 14:31:00.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.193450927734375e-5}
[2026-01-09 14:31:00.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.4080276489257812e-5}
[2026-01-09 14:31:00.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.2172927856445312e-5}
[2026-01-09 14:31:00.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.2172927856445312e-5}
[2026-01-09 14:31:00.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.8133392333984375e-5}
[2026-01-09 14:31:00.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.5987625122070312e-5}
[2026-01-09 14:31:00.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":1.9073486328125e-5}
[2026-01-09 14:31:00.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":1.9073486328125e-5}
[2026-01-09 14:31:00.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.002716064453125e-5}
[2026-01-09 14:31:00.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.06209707260131836}
[2026-01-09 14:31:00.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:31:00.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:31:00.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_stats"}
[2026-01-09 14:31:02.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/user\/devices"}
[2026-01-09 14:31:02.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 14:31:02.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/user\/devices","handler":"UserController@getDevices","matches":["\/api\/user\/devices"]}
[2026-01-09 14:31:02.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:31:02.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767940221852","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:31:02.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":3.719329833984375e-5}
[2026-01-09 14:31:02.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.09808349609375e-5}
[2026-01-09 14:31:02.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":1.8835067749023438e-5}
[2026-01-09 14:31:02.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.5987625122070312e-5}
[2026-01-09 14:31:02.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":1.9073486328125e-5}
[2026-01-09 14:31:02.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.5033950805664062e-5}
[2026-01-09 14:31:02.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":1.8835067749023438e-5}
[2026-01-09 14:31:02.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":1.9073486328125e-5}
[2026-01-09 14:31:02.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":1.9073486328125e-5}
[2026-01-09 14:31:02.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":1.811981201171875e-5}
[2026-01-09 14:31:02.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":1.811981201171875e-5}
[2026-01-09 14:31:02.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.053484201431274414}
[2026-01-09 14:31:02.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:31:02.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:31:02.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 14:31:02.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 14:31:02.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 14:31:02.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 14:31:02.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:02.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 14:31:02.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:31:02.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767940221852","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:31:02.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":4.315376281738281e-5}
[2026-01-09 14:31:02.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":1.7881393432617188e-5}
[2026-01-09 14:31:02.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":1.811981201171875e-5}
[2026-01-09 14:31:02.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.6941299438476562e-5}
[2026-01-09 14:31:02.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":1.9073486328125e-5}
[2026-01-09 14:31:02.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.5987625122070312e-5}
[2026-01-09 14:31:02.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":1.811981201171875e-5}
[2026-01-09 14:31:02.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.002716064453125e-5}
[2026-01-09 14:31:02.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":1.9073486328125e-5}
[2026-01-09 14:31:02.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.6941299438476562e-5}
[2026-01-09 14:31:02.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.6941299438476562e-5}
[2026-01-09 14:31:02.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.05480504035949707}
[2026-01-09 14:31:02.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:31:02.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:31:02.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_list"}
[2026-01-09 14:31:02.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:02.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:02.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:02.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin\/stats","handler":"PluginController@getPluginStats","matches":["\/api\/plugin\/stats"]}
[2026-01-09 14:31:02.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:31:02.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767940221852","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:31:02.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":3.409385681152344e-5}
[2026-01-09 14:31:02.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.09808349609375e-5}
[2026-01-09 14:31:02.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":1.8835067749023438e-5}
[2026-01-09 14:31:02.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":3.695487976074219e-5}
[2026-01-09 14:31:02.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.09808349609375e-5}
[2026-01-09 14:31:02.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.09808349609375e-5}
[2026-01-09 14:31:02.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":1.7881393432617188e-5}
[2026-01-09 14:31:02.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":1.811981201171875e-5}
[2026-01-09 14:31:02.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":1.8835067749023438e-5}
[2026-01-09 14:31:02.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.384185791015625e-5}
[2026-01-09 14:31:02.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":1.811981201171875e-5}
[2026-01-09 14:31:02.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.053034067153930664}
[2026-01-09 14:31:02.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:31:02.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:31:02.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_stats"}
[2026-01-09 14:31:06.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/user\/devices"}
[2026-01-09 14:31:06.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 14:31:06.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/user\/devices","handler":"UserController@getDevices","matches":["\/api\/user\/devices"]}
[2026-01-09 14:31:06.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:31:06.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767940266039","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:31:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":4.506111145019531e-5}
[2026-01-09 14:31:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.5033950805664062e-5}
[2026-01-09 14:31:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.9087066650390625e-5}
[2026-01-09 14:31:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.193450927734375e-5}
[2026-01-09 14:31:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.5987625122070312e-5}
[2026-01-09 14:31:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.6941299438476562e-5}
[2026-01-09 14:31:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.6941299438476562e-5}
[2026-01-09 14:31:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":1.7881393432617188e-5}
[2026-01-09 14:31:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":1.7881393432617188e-5}
[2026-01-09 14:31:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":1.9073486328125e-5}
[2026-01-09 14:31:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.5033950805664062e-5}
[2026-01-09 14:31:06.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.05925607681274414}
[2026-01-09 14:31:06.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:31:06.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:31:06.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 14:31:06.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 14:31:06.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 14:31:06.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 14:31:06.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:31:06.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 14:31:06.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:31:06.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767940266039","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:31:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":6.008148193359375e-5}
[2026-01-09 14:31:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":3.0994415283203125e-5}
[2026-01-09 14:31:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.6941299438476562e-5}
[2026-01-09 14:31:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":1.9788742065429688e-5}
[2026-01-09 14:31:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":1.9073486328125e-5}
[2026-01-09 14:31:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":1.7881393432617188e-5}
[2026-01-09 14:31:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":1.9073486328125e-5}
[2026-01-09 14:31:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":1.8835067749023438e-5}
[2026-01-09 14:31:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.47955322265625e-5}
[2026-01-09 14:31:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":5.507469177246094e-5}
[2026-01-09 14:31:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":3.0994415283203125e-5}
[2026-01-09 14:31:06.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.055776119232177734}
[2026-01-09 14:31:06.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:31:06.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:31:06.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_list"}
[2026-01-09 14:31:06.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:06.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:31:06.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin\/stats","handler":"PluginController@getPluginStats","matches":["\/api\/plugin\/stats"]}
[2026-01-09 14:31:06.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:31:06.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767940266039","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:31:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":3.504753112792969e-5}
[2026-01-09 14:31:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.09808349609375e-5}
[2026-01-09 14:31:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":1.8835067749023438e-5}
[2026-01-09 14:31:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.193450927734375e-5}
[2026-01-09 14:31:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":1.8835067749023438e-5}
[2026-01-09 14:31:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.002716064453125e-5}
[2026-01-09 14:31:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.5033950805664062e-5}
[2026-01-09 14:31:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":1.9073486328125e-5}
[2026-01-09 14:31:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":1.9073486328125e-5}
[2026-01-09 14:31:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":1.7881393432617188e-5}
[2026-01-09 14:31:06.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":1.7881393432617188e-5}
[2026-01-09 14:31:06.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.05787396430969238}
[2026-01-09 14:31:06.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:31:06.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:31:06.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_stats"}
[2026-01-09 14:31:06.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/device\/{deviceId}","route_path":"\/api\/plugin\/device\/{deviceId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/pending","route_path":"\/api\/plugin\/pending","pattern":"\/^\\\/api\\\/plugin\\\/pending$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/{id}","route_path":"\/api\/plugin\/{id}","pattern":"\/^\\\/api\\\/plugin\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/status","route_path":"\/api\/status","pattern":"\/^\\\/api\\\/status$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/settings","route_path":"\/api\/system\/settings","pattern":"\/^\\\/api\\\/system\\\/settings$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/info","route_path":"\/api\/system\/info","pattern":"\/^\\\/api\\\/system\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/database\/backup","route_path":"\/api\/system\/database\/backup","pattern":"\/^\\\/api\\\/system\\\/database\\\/backup$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:31:06.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:31:06.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/plugins.html?ide_webview_request_time=1767940266039","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:31:06.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/device"}
[2026-01-09 14:32:43.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/device"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/device"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/device"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/device"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/device"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/device"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/device"}
[2026-01-09 14:32:43.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/device","handler":"DeviceController@getDevices","matches":["\/api\/device"]}
[2026-01-09 14:32:43.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:32:43.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":3.981590270996094e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.5987625122070312e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.6226043701171875e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":3.218650817871094e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":7.987022399902344e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":4.410743713378906e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":4.076957702636719e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":3.0040740966796875e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.5987625122070312e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.7894973754882812e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.5987625122070312e-5}
[2026-01-09 14:32:43.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.057386159896850586}
[2026-01-09 14:32:43.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:32:43.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:32:43.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-09 14:32:43.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/user\/devices"}
[2026-01-09 14:32:43.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 14:32:43.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/user\/devices","handler":"UserController@getDevices","matches":["\/api\/user\/devices"]}
[2026-01-09 14:32:43.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:32:43.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":4.696846008300781e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.5033950805664062e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.5033950805664062e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.5987625122070312e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":3.0040740966796875e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.5987625122070312e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.7894973754882812e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.5987625122070312e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.09808349609375e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.5033950805664062e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.5033950805664062e-5}
[2026-01-09 14:32:43.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.06597304344177246}
[2026-01-09 14:32:43.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:32:43.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:32:43.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 14:32:43.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 14:32:43.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 14:32:43.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/status"}
[2026-01-09 14:32:43.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/status"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/status"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/status"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/status"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/status"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/status"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/status"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/status"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/status"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/status"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/status"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/status"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/status"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/status"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/status"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/status"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/status"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/status"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/status"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/status"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/status"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/status"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/status"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/status"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/status"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/status"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/status"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/api\/status"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/device\/{deviceId}","route_path":"\/api\/plugin\/device\/{deviceId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/status"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/pending","route_path":"\/api\/plugin\/pending","pattern":"\/^\\\/api\\\/plugin\\\/pending$\/","request_path":"\/api\/status"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/{id}","route_path":"\/api\/plugin\/{id}","pattern":"\/^\\\/api\\\/plugin\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/status"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/status","route_path":"\/api\/status","pattern":"\/^\\\/api\\\/status$\/","request_path":"\/api\/status"}
[2026-01-09 14:32:43.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/status","handler":"StatusController@getStatus","matches":["\/api\/status"]}
[2026-01-09 14:32:43.000000] INFO: API请求 {"method":"GET","path":"\/api\/status","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:32:43.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/status","path":"\/api\/status","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:32:43.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/device\/{deviceId}","route_path":"\/api\/plugin\/device\/{deviceId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/pending","route_path":"\/api\/plugin\/pending","pattern":"\/^\\\/api\\\/plugin\\\/pending$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/{id}","route_path":"\/api\/plugin\/{id}","pattern":"\/^\\\/api\\\/plugin\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/status","route_path":"\/api\/status","pattern":"\/^\\\/api\\\/status$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/settings","route_path":"\/api\/system\/settings","pattern":"\/^\\\/api\\\/system\\\/settings$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/info","route_path":"\/api\/system\/info","pattern":"\/^\\\/api\\\/system\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/database\/backup","route_path":"\/api\/system\/database\/backup","pattern":"\/^\\\/api\\\/system\\\/database\\\/backup$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:32:43.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:32:43.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 14:32:43.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/device"}
[2026-01-09 14:32:43.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/device"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/device"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/device"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/device"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/device"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/device"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/device"}
[2026-01-09 14:32:43.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/device","handler":"DeviceController@getDevices","matches":["\/api\/device"]}
[2026-01-09 14:32:43.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:32:43.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":3.504753112792969e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":6.794929504394531e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.5987625122070312e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":5.1021575927734375e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.9802322387695312e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.8133392333984375e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":1.9073486328125e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.47955322265625e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.8133392333984375e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.9087066650390625e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.8133392333984375e-5}
[2026-01-09 14:32:43.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.05620598793029785}
[2026-01-09 14:32:43.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:32:43.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:32:43.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-09 14:32:43.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/user\/devices"}
[2026-01-09 14:32:43.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 14:32:43.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/user\/devices","handler":"UserController@getDevices","matches":["\/api\/user\/devices"]}
[2026-01-09 14:32:43.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:32:43.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":4.696846008300781e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":3.0040740966796875e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":1.9073486328125e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.5033950805664062e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":1.811981201171875e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":1.7881393432617188e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.5987625122070312e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":1.811981201171875e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":1.8835067749023438e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.5033950805664062e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":1.811981201171875e-5}
[2026-01-09 14:32:43.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.05298304557800293}
[2026-01-09 14:32:43.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:32:43.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:32:43.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 14:32:43.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 14:32:43.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 14:32:43.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/firmware"}
[2026-01-09 14:32:43.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/firmware"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/firmware"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/firmware"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/firmware"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/firmware"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/firmware"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/firmware"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/firmware"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/firmware"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/firmware"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/firmware"}
[2026-01-09 14:32:43.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/firmware","handler":"FirmwareController@getAllVersions","matches":["\/api\/firmware"]}
[2026-01-09 14:32:43.000000] INFO: API请求 {"method":"GET","path":"\/api\/firmware","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:32:43.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/firmware?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/firmware","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":4.792213439941406e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.2172927856445312e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":0.00019693374633789062}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.6941299438476562e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.5987625122070312e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.6941299438476562e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.7894973754882812e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.6941299438476562e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.5987625122070312e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.6941299438476562e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.193450927734375e-5}
[2026-01-09 14:32:43.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.056183815002441406}
[2026-01-09 14:32:43.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:32:43.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:32:43.000000] INFO: API操作 {"user_id":1,"action":"firmware_get_versions"}
[2026-01-09 14:32:43.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/notification"}
[2026-01-09 14:32:43.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/notification"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/notification"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/notification"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/notification"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/notification"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/notification"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/notification"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/notification"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/notification"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/notification"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/notification"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 14:32:43.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/notification"}
[2026-01-09 14:32:43.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/notification","handler":"NotificationController@getNotifications","matches":["\/api\/notification"]}
[2026-01-09 14:32:43.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:32:43.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/notification","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/dashboard.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":4.601478576660156e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.09808349609375e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":1.7881393432617188e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.6941299438476562e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":1.811981201171875e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":1.7881393432617188e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":1.9073486328125e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.3126602172851562e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.5033950805664062e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":1.9073486328125e-5}
[2026-01-09 14:32:43.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.09808349609375e-5}
[2026-01-09 14:32:43.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.05298304557800293}
[2026-01-09 14:32:43.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:32:43.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:32:43.000000] INFO: API操作 {"user_id":1,"action":"notification_get_list"}
[2026-01-09 14:32:52.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/device"}
[2026-01-09 14:32:52.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/device"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/device"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/device"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/device"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/device"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/device"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/device"}
[2026-01-09 14:32:52.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/device","handler":"DeviceController@getDevices","matches":["\/api\/device"]}
[2026-01-09 14:32:52.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:32:52.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/devices.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:32:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":3.409385681152344e-5}
[2026-01-09 14:32:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.5987625122070312e-5}
[2026-01-09 14:32:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":1.9073486328125e-5}
[2026-01-09 14:32:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":1.9073486328125e-5}
[2026-01-09 14:32:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":1.7881393432617188e-5}
[2026-01-09 14:32:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.193450927734375e-5}
[2026-01-09 14:32:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.2172927856445312e-5}
[2026-01-09 14:32:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":1.811981201171875e-5}
[2026-01-09 14:32:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":1.8835067749023438e-5}
[2026-01-09 14:32:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":1.9073486328125e-5}
[2026-01-09 14:32:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.5987625122070312e-5}
[2026-01-09 14:32:52.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.058999061584472656}
[2026-01-09 14:32:52.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:32:52.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:32:52.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-09 14:32:52.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/device\/{deviceId}","route_path":"\/api\/plugin\/device\/{deviceId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/pending","route_path":"\/api\/plugin\/pending","pattern":"\/^\\\/api\\\/plugin\\\/pending$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/{id}","route_path":"\/api\/plugin\/{id}","pattern":"\/^\\\/api\\\/plugin\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/status","route_path":"\/api\/status","pattern":"\/^\\\/api\\\/status$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/settings","route_path":"\/api\/system\/settings","pattern":"\/^\\\/api\\\/system\\\/settings$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/info","route_path":"\/api\/system\/info","pattern":"\/^\\\/api\\\/system\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/database\/backup","route_path":"\/api\/system\/database\/backup","pattern":"\/^\\\/api\\\/system\\\/database\\\/backup$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:32:52.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/devices.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:32:52.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 14:32:52.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/device"}
[2026-01-09 14:32:52.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/device"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/device"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/device"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/device"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/device"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/device"}
[2026-01-09 14:32:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/device"}
[2026-01-09 14:32:52.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/device","handler":"DeviceController@getDevices","matches":["\/api\/device"]}
[2026-01-09 14:32:52.000000] INFO: API请求 {"method":"GET","path":"\/api\/device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:32:52.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/devices.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:32:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":3.409385681152344e-5}
[2026-01-09 14:32:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.47955322265625e-5}
[2026-01-09 14:32:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.002716064453125e-5}
[2026-01-09 14:32:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.5033950805664062e-5}
[2026-01-09 14:32:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.7894973754882812e-5}
[2026-01-09 14:32:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":1.7881393432617188e-5}
[2026-01-09 14:32:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.193450927734375e-5}
[2026-01-09 14:32:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.5987625122070312e-5}
[2026-01-09 14:32:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.6941299438476562e-5}
[2026-01-09 14:32:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.5987625122070312e-5}
[2026-01-09 14:32:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.8133392333984375e-5}
[2026-01-09 14:32:52.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.054863929748535156}
[2026-01-09 14:32:52.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:32:52.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:32:52.000000] INFO: API操作 {"user_id":1,"action":"device_get_list"}
[2026-01-09 14:34:52.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/user\/devices"}
[2026-01-09 14:34:52.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 14:34:52.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/user\/devices","handler":"UserController@getDevices","matches":["\/api\/user\/devices"]}
[2026-01-09 14:34:52.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:34:52.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:34:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":3.600120544433594e-5}
[2026-01-09 14:34:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.09808349609375e-5}
[2026-01-09 14:34:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.5987625122070312e-5}
[2026-01-09 14:34:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.5987625122070312e-5}
[2026-01-09 14:34:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.6941299438476562e-5}
[2026-01-09 14:34:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.3126602172851562e-5}
[2026-01-09 14:34:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":1.7881393432617188e-5}
[2026-01-09 14:34:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":1.7881393432617188e-5}
[2026-01-09 14:34:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":1.8835067749023438e-5}
[2026-01-09 14:34:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.5987625122070312e-5}
[2026-01-09 14:34:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.47955322265625e-5}
[2026-01-09 14:34:52.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.06230592727661133}
[2026-01-09 14:34:52.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:34:52.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:34:52.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 14:34:52.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 14:34:52.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 14:34:52.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 14:34:52.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:34:52.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 14:34:52.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:34:52.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:34:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":4.1961669921875e-5}
[2026-01-09 14:34:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.002716064453125e-5}
[2026-01-09 14:34:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.8848648071289062e-5}
[2026-01-09 14:34:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":1.8835067749023438e-5}
[2026-01-09 14:34:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.09808349609375e-5}
[2026-01-09 14:34:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.09808349609375e-5}
[2026-01-09 14:34:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":1.811981201171875e-5}
[2026-01-09 14:34:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":1.7881393432617188e-5}
[2026-01-09 14:34:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":1.7881393432617188e-5}
[2026-01-09 14:34:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.3126602172851562e-5}
[2026-01-09 14:34:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.47955322265625e-5}
[2026-01-09 14:34:52.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.06922316551208496}
[2026-01-09 14:34:52.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:34:52.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:34:52.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_list"}
[2026-01-09 14:34:52.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/stats"}
[2026-01-09 14:34:52.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/api\/plugin\/stats"}
[2026-01-09 14:34:52.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin\/stats","handler":"PluginController@getPluginStats","matches":["\/api\/plugin\/stats"]}
[2026-01-09 14:34:52.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:34:52.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:34:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":3.409385681152344e-5}
[2026-01-09 14:34:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.5987625122070312e-5}
[2026-01-09 14:34:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.9087066650390625e-5}
[2026-01-09 14:34:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.5987625122070312e-5}
[2026-01-09 14:34:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.09808349609375e-5}
[2026-01-09 14:34:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.8133392333984375e-5}
[2026-01-09 14:34:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.5987625122070312e-5}
[2026-01-09 14:34:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.2172927856445312e-5}
[2026-01-09 14:34:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.193450927734375e-5}
[2026-01-09 14:34:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":1.811981201171875e-5}
[2026-01-09 14:34:52.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.09808349609375e-5}
[2026-01-09 14:34:52.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.057749032974243164}
[2026-01-09 14:34:52.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:34:52.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:34:52.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_stats"}
[2026-01-09 14:34:52.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/device\/{deviceId}","route_path":"\/api\/plugin\/device\/{deviceId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/pending","route_path":"\/api\/plugin\/pending","pattern":"\/^\\\/api\\\/plugin\\\/pending$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/{id}","route_path":"\/api\/plugin\/{id}","pattern":"\/^\\\/api\\\/plugin\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/status","route_path":"\/api\/status","pattern":"\/^\\\/api\\\/status$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/settings","route_path":"\/api\/system\/settings","pattern":"\/^\\\/api\\\/system\\\/settings$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/info","route_path":"\/api\/system\/info","pattern":"\/^\\\/api\\\/system\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/database\/backup","route_path":"\/api\/system\/database\/backup","pattern":"\/^\\\/api\\\/system\\\/database\\\/backup$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:34:52.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:34:52.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/plugins.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:34:52.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 14:38:19.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin"}
[2026-01-09 14:38:19.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:38:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:38:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:38:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:38:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:38:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:38:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:38:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:38:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:38:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:38:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:38:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:38:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:38:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:38:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:38:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:38:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:38:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:38:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:38:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:38:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:38:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:38:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:38:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:38:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:38:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:38:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:38:19.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin"}
[2026-01-09 14:38:19.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin","handler":"PluginController@getPlugins","matches":["\/api\/plugin"]}
[2026-01-09 14:38:19.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 14:38:19.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000","Connection":"Keep-Alive"},"body":""}}
[2026-01-09 14:38:19.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":5.2928924560546875e-5}
[2026-01-09 14:38:19.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":3.0040740966796875e-5}
[2026-01-09 14:38:19.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":3.0040740966796875e-5}
[2026-01-09 14:38:19.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.5033950805664062e-5}
[2026-01-09 14:38:19.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":4.1961669921875e-5}
[2026-01-09 14:38:19.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.5033950805664062e-5}
[2026-01-09 14:38:19.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.9087066650390625e-5}
[2026-01-09 14:38:19.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":3.0994415283203125e-5}
[2026-01-09 14:38:19.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.47955322265625e-5}
[2026-01-09 14:38:19.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.47955322265625e-5}
[2026-01-09 14:38:19.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":3.0040740966796875e-5}
[2026-01-09 14:38:19.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.0879828929901123}
[2026-01-09 14:38:19.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:38:19.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:38:19.000000] INFO: API操作 {"user_id":1,"action":"plugin_get_list"}
[2026-01-09 14:38:41.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/plugin\/device\/test-device"}
[2026-01-09 14:38:41.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:38:41.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/plugin\/device\/test-device"}
[2026-01-09 14:38:41.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/plugin\/device\/test-device"}
[2026-01-09 14:38:41.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/plugin\/device\/test-device"}
[2026-01-09 14:38:41.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/plugin\/device\/test-device"}
[2026-01-09 14:38:41.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/plugin\/device\/test-device"}
[2026-01-09 14:38:41.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/device\/test-device"}
[2026-01-09 14:38:41.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/plugin\/device\/test-device"}
[2026-01-09 14:38:41.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/device\/test-device"}
[2026-01-09 14:38:41.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/device\/test-device"}
[2026-01-09 14:38:41.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/plugin\/device\/test-device"}
[2026-01-09 14:38:41.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/plugin\/device\/test-device"}
[2026-01-09 14:38:41.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/plugin\/device\/test-device"}
[2026-01-09 14:38:41.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/device\/test-device"}
[2026-01-09 14:38:41.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/plugin\/device\/test-device"}
[2026-01-09 14:38:41.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/device\/test-device"}
[2026-01-09 14:38:41.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/device\/test-device"}
[2026-01-09 14:38:41.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/plugin\/device\/test-device"}
[2026-01-09 14:38:41.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/device\/test-device"}
[2026-01-09 14:38:41.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/device\/test-device"}
[2026-01-09 14:38:41.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/device\/test-device"}
[2026-01-09 14:38:41.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/plugin\/device\/test-device"}
[2026-01-09 14:38:41.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/device\/test-device"}
[2026-01-09 14:38:41.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/plugin\/device\/test-device"}
[2026-01-09 14:38:41.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/plugin\/device\/test-device"}
[2026-01-09 14:38:41.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/plugin\/device\/test-device"}
[2026-01-09 14:38:41.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/plugin\/device\/test-device"}
[2026-01-09 14:38:41.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/api\/plugin\/device\/test-device"}
[2026-01-09 14:38:41.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/api\/plugin\/device\/test-device"}
[2026-01-09 14:38:41.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/device\/{deviceId}","route_path":"\/api\/plugin\/device\/{deviceId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/plugin\/device\/test-device"}
[2026-01-09 14:38:41.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/plugin\/device\/{deviceId}","handler":"PluginController@getDevicePlugins","matches":{"0":"\/api\/plugin\/device\/test-device","deviceId":"test-device","1":"test-device"}}
[2026-01-09 14:38:41.000000] INFO: API请求 {"method":"GET","path":"\/api\/plugin\/device\/test-device","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462"}
[2026-01-09 14:38:41.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/plugin\/device\/test-device?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/plugin\/device\/test-device","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"User-Agent":"Mozilla\/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell\/5.1.26100.7462","Host":"localhost:8000"},"body":""}}
[2026-01-09 14:38:41.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":4.291534423828125e-5}
[2026-01-09 14:38:41.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.47955322265625e-5}
[2026-01-09 14:38:41.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":3.0994415283203125e-5}
[2026-01-09 14:38:41.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.09808349609375e-5}
[2026-01-09 14:38:41.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.09808349609375e-5}
[2026-01-09 14:38:41.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":1.811981201171875e-5}
[2026-01-09 14:38:41.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":1.7881393432617188e-5}
[2026-01-09 14:38:41.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":1.811981201171875e-5}
[2026-01-09 14:38:41.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.4080276489257812e-5}
[2026-01-09 14:38:41.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.5987625122070312e-5}
[2026-01-09 14:38:41.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.5033950805664062e-5}
[2026-01-09 14:38:41.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.09697318077087402}
[2026-01-09 14:38:41.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:38:41.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:38:41.000000] INFO: API操作 {"user_id":1,"device_id":"test-device","action":"plugin_get_device_list"}
[2026-01-09 14:46:46.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/notification"}
[2026-01-09 14:46:46.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/notification"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/notification"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/notification"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/notification"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/notification"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/notification"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/notification"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/notification"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/notification"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/notification"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/notification"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/notification"}
[2026-01-09 14:46:46.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/notification","handler":"NotificationController@getNotifications","matches":["\/api\/notification"]}
[2026-01-09 14:46:46.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:46:46.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f&user_id=1","path":"\/api\/notification","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","user_id":"1"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:46:46.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":4.982948303222656e-5}
[2026-01-09 14:46:46.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.8848648071289062e-5}
[2026-01-09 14:46:46.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.9087066650390625e-5}
[2026-01-09 14:46:46.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":1.9073486328125e-5}
[2026-01-09 14:46:46.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":1.8835067749023438e-5}
[2026-01-09 14:46:46.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":1.7881393432617188e-5}
[2026-01-09 14:46:46.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":1.811981201171875e-5}
[2026-01-09 14:46:46.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":1.7881393432617188e-5}
[2026-01-09 14:46:46.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.6941299438476562e-5}
[2026-01-09 14:46:46.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.5987625122070312e-5}
[2026-01-09 14:46:46.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.5987625122070312e-5}
[2026-01-09 14:46:46.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.05816507339477539}
[2026-01-09 14:46:46.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:46:46.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:46:46.000000] INFO: API操作 {"user_id":1,"action":"notification_get_list"}
[2026-01-09 14:46:46.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/notification\/stats"}
[2026-01-09 14:46:46.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/api\/notification\/stats"}
[2026-01-09 14:46:46.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/notification\/stats","handler":"NotificationController@getNotificationStats","matches":["\/api\/notification\/stats"]}
[2026-01-09 14:46:46.000000] INFO: API请求 {"method":"GET","path":"\/api\/notification\/stats","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:46:46.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/notification\/stats?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f&user_id=1","path":"\/api\/notification\/stats","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","user_id":"1"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:46:46.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":3.504753112792969e-5}
[2026-01-09 14:46:46.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.002716064453125e-5}
[2026-01-09 14:46:46.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":1.811981201171875e-5}
[2026-01-09 14:46:46.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":1.7881393432617188e-5}
[2026-01-09 14:46:46.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":1.7881393432617188e-5}
[2026-01-09 14:46:46.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.6941299438476562e-5}
[2026-01-09 14:46:46.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":1.8835067749023438e-5}
[2026-01-09 14:46:46.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.6941299438476562e-5}
[2026-01-09 14:46:46.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":1.7881393432617188e-5}
[2026-01-09 14:46:46.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":1.7881393432617188e-5}
[2026-01-09 14:46:46.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":1.811981201171875e-5}
[2026-01-09 14:46:46.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.05701899528503418}
[2026-01-09 14:46:46.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:46:46.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:46:46.000000] INFO: API操作 {"user_id":1,"action":"notification_get_stats"}
[2026-01-09 14:46:46.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/device\/{deviceId}","route_path":"\/api\/plugin\/device\/{deviceId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/pending","route_path":"\/api\/plugin\/pending","pattern":"\/^\\\/api\\\/plugin\\\/pending$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/{id}","route_path":"\/api\/plugin\/{id}","pattern":"\/^\\\/api\\\/plugin\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/status","route_path":"\/api\/status","pattern":"\/^\\\/api\\\/status$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/settings","route_path":"\/api\/system\/settings","pattern":"\/^\\\/api\\\/system\\\/settings$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/info","route_path":"\/api\/system\/info","pattern":"\/^\\\/api\\\/system\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/database\/backup","route_path":"\/api\/system\/database\/backup","pattern":"\/^\\\/api\\\/system\\\/database\\\/backup$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:46.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:46:46.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/notifications.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:46:46.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/user\/devices"}
[2026-01-09 14:46:48.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 14:46:48.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/user\/devices","handler":"UserController@getDevices","matches":["\/api\/user\/devices"]}
[2026-01-09 14:46:48.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:46:48.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:46:48.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":3.409385681152344e-5}
[2026-01-09 14:46:48.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":1.8835067749023438e-5}
[2026-01-09 14:46:48.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.4080276489257812e-5}
[2026-01-09 14:46:48.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":2.6941299438476562e-5}
[2026-01-09 14:46:48.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.5033950805664062e-5}
[2026-01-09 14:46:48.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":1.811981201171875e-5}
[2026-01-09 14:46:48.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":1.7881393432617188e-5}
[2026-01-09 14:46:48.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":2.4080276489257812e-5}
[2026-01-09 14:46:48.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":5.0067901611328125e-5}
[2026-01-09 14:46:48.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.5987625122070312e-5}
[2026-01-09 14:46:48.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":1.7881393432617188e-5}
[2026-01-09 14:46:48.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.06362295150756836}
[2026-01-09 14:46:48.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:46:48.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:46:48.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 14:46:48.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 14:46:48.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 14:46:48.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/exist","route_path":"\/api\/user\/exist","pattern":"\/^\\\/api\\\/user\\\/exist$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user","route_path":"\/api\/user","pattern":"\/^\\\/api\\\/user$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/stats","route_path":"\/api\/user\/stats","pattern":"\/^\\\/api\\\/user\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/{id}","route_path":"\/api\/user\/{id}","pattern":"\/^\\\/api\\\/user\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device","route_path":"\/api\/device","pattern":"\/^\\\/api\\\/device$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/device\/{id}","route_path":"\/api\/device\/{id}","pattern":"\/^\\\/api\\\/device\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}","route_path":"\/api\/message\/{deviceId}","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/message\/{deviceId}\/unread","route_path":"\/api\/message\/{deviceId}\/unread","pattern":"\/^\\\/api\\\/message\\\/(?P<deviceId>[^\\\/]+)\\\/unread$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware","route_path":"\/api\/firmware","pattern":"\/^\\\/api\\\/firmware$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/active\/{model}","route_path":"\/api\/firmware\/active\/{model}","pattern":"\/^\\\/api\\\/firmware\\\/active\\\/(?P<model>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/firmware\/{id}","route_path":"\/api\/firmware\/{id}","pattern":"\/^\\\/api\\\/firmware\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group","route_path":"\/api\/group","pattern":"\/^\\\/api\\\/group$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/{id}","route_path":"\/api\/group\/{id}","pattern":"\/^\\\/api\\\/group\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/group\/devices\/{id}","route_path":"\/api\/group\/devices\/{id}","pattern":"\/^\\\/api\\\/group\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag","route_path":"\/api\/tag","pattern":"\/^\\\/api\\\/tag$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/{id}","route_path":"\/api\/tag\/{id}","pattern":"\/^\\\/api\\\/tag\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/devices\/{id}","route_path":"\/api\/tag\/devices\/{id}","pattern":"\/^\\\/api\\\/tag\\\/devices\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/tag\/device_tags\/{deviceId}","route_path":"\/api\/tag\/device_tags\/{deviceId}","pattern":"\/^\\\/api\\\/tag\\\/device_tags\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task","route_path":"\/api\/push_task","pattern":"\/^\\\/api\\\/push_task$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/push_task\/{id}","route_path":"\/api\/push_task\/{id}","pattern":"\/^\\\/api\\\/push_task\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification","route_path":"\/api\/notification","pattern":"\/^\\\/api\\\/notification$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/unread-count","route_path":"\/api\/notification\/unread-count","pattern":"\/^\\\/api\\\/notification\\\/unread-count$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/stats","route_path":"\/api\/notification\/stats","pattern":"\/^\\\/api\\\/notification\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/notification\/{id}","route_path":"\/api\/notification\/{id}","pattern":"\/^\\\/api\\\/notification\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin","route_path":"\/api\/plugin","pattern":"\/^\\\/api\\\/plugin$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/stats","route_path":"\/api\/plugin\/stats","pattern":"\/^\\\/api\\\/plugin\\\/stats$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/device\/{deviceId}","route_path":"\/api\/plugin\/device\/{deviceId}","pattern":"\/^\\\/api\\\/plugin\\\/device\\\/(?P<deviceId>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/pending","route_path":"\/api\/plugin\/pending","pattern":"\/^\\\/api\\\/plugin\\\/pending$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/plugin\/{id}","route_path":"\/api\/plugin\/{id}","pattern":"\/^\\\/api\\\/plugin\\\/(?P<id>[^\\\/]+)$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/status","route_path":"\/api\/status","pattern":"\/^\\\/api\\\/status$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/settings","route_path":"\/api\/system\/settings","pattern":"\/^\\\/api\\\/system\\\/settings$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/info","route_path":"\/api\/system\/info","pattern":"\/^\\\/api\\\/system\\\/info$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/system\/database\/backup","route_path":"\/api\/system\/database\/backup","pattern":"\/^\\\/api\\\/system\\\/database\\\/backup$\/","request_path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: API请求 {"method":"GET","path":"\/@vite\/client","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:46:48.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/@vite\/client","path":"\/@vite\/client","query":[],"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","Origin":"http:\/\/localhost:8000","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"script","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:46:48.000000] INFO: 未匹配到路由 {"method":"GET","path":"\/@vite\/client"}
[2026-01-09 14:46:48.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/user\/devices"}
[2026-01-09 14:46:48.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 14:46:48.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 14:46:48.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/user\/devices","handler":"UserController@getDevices","matches":["\/api\/user\/devices"]}
[2026-01-09 14:46:48.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:46:48.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:46:48.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":4.38690185546875e-5}
[2026-01-09 14:46:48.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":2.09808349609375e-5}
[2026-01-09 14:46:48.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":2.09808349609375e-5}
[2026-01-09 14:46:48.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":1.7881393432617188e-5}
[2026-01-09 14:46:48.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":1.9073486328125e-5}
[2026-01-09 14:46:48.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.7894973754882812e-5}
[2026-01-09 14:46:48.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":5.793571472167969e-5}
[2026-01-09 14:46:48.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":6.198883056640625e-5}
[2026-01-09 14:46:48.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":2.09808349609375e-5}
[2026-01-09 14:46:48.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":2.5033950805664062e-5}
[2026-01-09 14:46:48.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":1.9073486328125e-5}
[2026-01-09 14:46:48.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.05765986442565918}
[2026-01-09 14:46:48.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:46:48.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:46:48.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 14:46:48.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 14:46:48.000000] INFO: 获取用户设备列表成功 {"count":0}
[2026-01-09 14:46:51.000000] INFO: 路由匹配开始 {"method":"GET","path":"\/api\/user\/devices"}
[2026-01-09 14:46:51.000000] INFO: 所有路由 {"routes":["POST \/api\/user\/register","POST \/api\/user\/login","GET \/api\/user\/info","GET \/api\/user\/devices","POST \/api\/user\/bind","POST \/api\/user\/unbind","PUT \/api\/user\/device","GET \/api\/user\/exist","POST \/api\/user\/first-admin","GET \/api\/user","POST \/api\/user","GET \/api\/user\/stats","GET \/api\/user\/{id}","PUT \/api\/user\/{id}","DELETE \/api\/user\/{id}","POST \/api\/device","GET \/api\/device","GET \/api\/device\/{id}","DELETE \/api\/device\/{id}","POST \/api\/message","GET \/api\/message\/{deviceId}","GET \/api\/message\/{deviceId}\/unread","PUT \/api\/message\/{deviceId}\/read","DELETE \/api\/message\/{deviceId}\/{messageId}","POST \/api\/firmware","GET \/api\/firmware","GET \/api\/firmware\/active\/{model}","GET \/api\/firmware\/{id}","PUT \/api\/firmware\/{id}","PUT \/api\/firmware\/publish\/{id}","DELETE \/api\/firmware\/{id}","POST \/api\/group","GET \/api\/group","GET \/api\/group\/{id}","PUT \/api\/group\/{id}","DELETE \/api\/group\/{id}","POST \/api\/group\/add_device","POST \/api\/group\/remove_device","GET \/api\/group\/devices\/{id}","POST \/api\/tag","GET \/api\/tag","GET \/api\/tag\/{id}","PUT \/api\/tag\/{id}","DELETE \/api\/tag\/{id}","POST \/api\/tag\/add_device","POST \/api\/tag\/remove_device","POST \/api\/tag\/batch_add","POST \/api\/tag\/batch_remove","GET \/api\/tag\/devices\/{id}","GET \/api\/tag\/device_tags\/{deviceId}","POST \/api\/push_task","GET \/api\/push_task","GET \/api\/push_task\/{id}","PUT \/api\/push_task\/{id}","DELETE \/api\/push_task\/{id}","POST \/api\/push_task\/add_log","POST \/api\/push_task\/batch_log","GET \/api\/notification","GET \/api\/notification\/unread-count","GET \/api\/notification\/stats","GET \/api\/notification\/{id}","POST \/api\/notification\/publish","PUT \/api\/notification","PUT \/api\/notification\/{id}","DELETE \/api\/notification\/{id}","GET \/api\/plugin","GET \/api\/plugin\/stats","GET \/api\/plugin\/device\/{deviceId}","GET \/api\/plugin\/pending","POST \/api\/plugin\/external","POST \/api\/plugin\/upload","POST \/api\/plugin\/initialize","POST \/api\/plugin\/init","GET \/api\/plugin\/{id}","PUT \/api\/plugin\/{id}\/toggle","POST \/api\/plugin\/approve\/{id}","POST \/api\/plugin\/device\/{deviceId}\/enable\/{pluginId}","POST \/api\/plugin\/device\/{deviceId}\/disable\/{pluginId}","DELETE \/api\/plugin\/{id}","GET \/api\/status","GET \/api\/system\/settings","PUT \/api\/system\/settings","POST \/api\/system\/settings\/reset","GET \/api\/system\/info","GET \/api\/system\/database\/backup","POST \/api\/system\/restart","POST \/api\/system\/cache\/clear"]}
[2026-01-09 14:46:51.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/info","route_path":"\/api\/user\/info","pattern":"\/^\\\/api\\\/user\\\/info$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 14:46:51.000000] INFO: 尝试匹配路由 {"route_pattern":"GET \/api\/user\/devices","route_path":"\/api\/user\/devices","pattern":"\/^\\\/api\\\/user\\\/devices$\/","request_path":"\/api\/user\/devices"}
[2026-01-09 14:46:51.000000] INFO: 路由匹配成功 {"route_pattern":"GET \/api\/user\/devices","handler":"UserController@getDevices","matches":["\/api\/user\/devices"]}
[2026-01-09 14:46:51.000000] INFO: API请求 {"method":"GET","path":"\/api\/user\/devices","ip":"::1","user_agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36"}
[2026-01-09 14:46:51.000000] INFO: 速率限制中间件执行 {"request":{"method":"GET","uri":"\/api\/user\/devices?api_key=1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f","path":"\/api\/user\/devices","query":{"api_key":"1edd019bc08e95fe55ea18dde10509b0c00cdeb0a83c5b10c8e18c459bac1b8f"},"ip":"::1","headers":{"Host":"localhost:8000","Connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","User-Agent":"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) TraeCN\/1.104.3 Chrome\/138.0.7204.251 Electron\/37.6.1 Safari\/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"","sec-ch-ua-mobile":"?0","Accept":"*\/*","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","Referer":"http:\/\/localhost:8000\/messages.html","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"zh-CN"},"body":""}}
[2026-01-09 14:46:51.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN type TEXT DEFAULT 'system'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: type","time":3.814697265625e-5}
[2026-01-09 14:46:51.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN status TEXT DEFAULT 'enabled'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: status","time":1.8835067749023438e-5}
[2026-01-09 14:46:51.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN author TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: author","time":1.7881393432617188e-5}
[2026-01-09 14:46:51.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN version TEXT DEFAULT '1.0.0'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: version","time":1.6927719116210938e-5}
[2026-01-09 14:46:51.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN refresh_interval TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: refresh_interval","time":2.09808349609375e-5}
[2026-01-09 14:46:51.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN settings_url TEXT","params":[],"error":"Unable to prepare statement: 1, duplicate column name: settings_url","time":2.288818359375e-5}
[2026-01-09 14:46:51.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_by","time":2.5033950805664062e-5}
[2026-01-09 14:46:51.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP","params":[],"error":"Unable to prepare statement: 1, duplicate column name: created_at","time":1.811981201171875e-5}
[2026-01-09 14:46:51.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_by INTEGER","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_by","time":1.811981201171875e-5}
[2026-01-09 14:46:51.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approved_at DATETIME","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approved_at","time":1.811981201171875e-5}
[2026-01-09 14:46:51.000000] WARNING: 数据库执行警告（忽略） {"sql":"ALTER TABLE plugins ADD COLUMN approval_status TEXT DEFAULT 'approved'","params":[],"error":"Unable to prepare statement: 1, duplicate column name: approval_status","time":2.4080276489257812e-5}
[2026-01-09 14:46:51.000000] INFO: 数据库连接成功 {"path":"D:\\InkClock\\webserver\\config\/..\/db\/inkclock.db","time":0.06673502922058105}
[2026-01-09 14:46:51.000000] INFO: API密钥验证请求 {"ip":"::1"}
[2026-01-09 14:46:51.000000] INFO: API密钥验证成功 {"username":"test","ip":"::1"}
[2026-01-09 14:46:51.000000] INFO: API操作 {"user_id":1,"action":"user_get_devices"}
[2026-01-09 14:46:51.000000] INFO: 获取用户设备列表请求 {"user_id":1}
[2026-01-09 14:46:51.000000] INFO: 获取用户设备列表成功 {"count":0}
